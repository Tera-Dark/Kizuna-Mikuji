import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
import { playSound } from '../utils/audioUtils'

// 签文分类定义
const categoryData = [
  { id: 'love', name: '爱情缘分', icon: '❤️', color: '#e74c3c' },
  { id: 'past_life', name: '前世姻缘', icon: '🔮', color: '#8e44ad' },
  { id: 'couple', name: '双人合卦', icon: '💞', color: '#ff5e94' },
  { id: 'zodiac', name: '星座配对', icon: '⭐', color: '#1abc9c' },
  { id: 'destiny_ball', name: '缘分球', icon: '🔮', color: '#9b59b6' },
  { id: 'name', name: '姓名解析', icon: '📝', color: '#3f51b5' },
  { id: 'career', name: '事业运势', icon: '💼', color: '#3498db' },
  { id: 'study', name: '学业考试', icon: '📚', color: '#2ecc71' },
  { id: 'general', name: '日常运势', icon: '🍀', color: '#f39c12' },
  { id: 'daily', name: '每日一签', icon: '🌞', color: '#2ecc71' },
  { id: 'relationship', name: '人际关系', icon: '👥', color: '#3498db' },
  { id: 'health', name: '健康平安', icon: '🏥', color: '#f39c12' }
];

// 签文等级定义
const fortuneLevels = {
  1: { name: '初级签文', description: '入门缘分测试', requiredDraws: 0 },
  2: { name: '中级签文', description: '更深层次的缘分指引', requiredDraws: 10 },
  3: { name: '高级签文', description: '揭示隐藏的缘分密码', requiredDraws: 30 },
  4: { name: '神级签文', description: '最精准的缘分天机', requiredDraws: 50 }
};

// 签文类型颜色映射
const typeColorMapping = {
  '上上大吉': '#ff4757', // 亮红色
  '大吉': '#e74c3c',     // 鲜红
  '中吉': '#e67e22',     // 橙色
  '小吉': '#f1c40f',     // 黄色
  '吉': '#2ecc71',       // 绿色
  '末吉': '#3498db',     // 蓝色
  '小凶': '#9b59b6',     // 紫色
  '凶': '#95a5a6',       // 灰色
  '大凶': '#34495e',     // 深灰
  '缘初现': '#FF87CA',   // 粉色
  '天作之合': '#8E44AD', // 深紫色
  '良缘近': '#D81B60',   // 品红
  '惜当下': '#FFA000',   // 琥珀色
  '待花开': '#00796B',   // 墨绿色
  '事业顺遂': '#1E88E5', // 蔚蓝色
  '稳步前进': '#43A047', // 绿色
  '转机将至': '#5E35B1', // 靛蓝色
  '贵人相助': '#FB8C00', // 深橙色
  '突破创新': '#D81B60', // 品红
  '调整方向': '#00ACC1', // 青色
  '稳中求变': '#7CB342', // 酸橙色
  '学业精进': '#00897B', // 蓝绿色
  '考试顺利': '#039BE5', // 蓝色
  '思路开阔': '#8E24AA', // 紫色
  '温故知新': '#FFA000', // 琥珀色
  '克服困难': '#F4511E', // 深橙色
  '团队协作': '#43A047', // 绿色
  '专注致远': '#3949AB', // 靛蓝色
  '日行一善': '#6D4C41', // 褐色
  '健康第一': '#00ACC1', // 青色
  '心如止水': '#5E35B1', // 靛蓝色
  '知足常乐': '#7CB342', // 酸橙色
  '财源广进': '#FB8C00', // 深橙色
  '修身养性': '#00897B', // 蓝绿色
  '心想事成': '#D81B60', // 品红
  '花前月下': '#9c27b0', // 紫色
  '琴瑟和鸣': '#673ab7', // 深紫色
  '战场誓约': '#b71c1c', // 深红色
  '命运转折': '#00bcd4', // 青色
  '逆境重生': '#4caf50', // 绿色
};

// 懒加载签文数据 - 分别保存在独立的函数中
const getLoveFortuneData = () => [
  {
    type: "大吉",
    poem: "红线缠绕，良缘天定，<br>如意之人，近在咫尺。",
    interpretation: "今日是你缘分爆棚的一天！无论是期待新的邂逅，还是加深与伴侣的感情，都将一帆风顺。大胆展现自己，缘结神正在微笑注视着你。",
    suggestion: "宜主动出击，参加聚会或活动，向心仪之人表达心意。幸运色：绯红色。幸运物：成对的饰品。"
  },
  {
    type: "中吉",
    poem: "桃花含笑，春风拂面，<br>缘分之花，悄然待放。",
    interpretation: "不错的缘分正在悄悄酝酿。可能会有让你心动的人出现，或者与某人的关系将有新的进展。保持开放的心态，享受这份美好的悸动。",
    suggestion: "宜多留意身边人的细微善意，保持微笑，佩戴粉晶饰品可增强桃花运。"
  },
  {
    type: "小吉",
    poem: "月下独酌，忽闻琴声，<br>虽非所期，亦有佳音。",
    interpretation: "今天的缘分可能不是轰轰烈烈，但会有一些意想不到的小惊喜或温馨瞬间。或许是一次愉快的交谈，或是一个温暖的眼神，都可能为未来的缘分埋下伏笔。",
    suggestion: "宜享受片刻的宁静，亦可尝试接触新鲜事物或久未联系的朋友，缘分有时在不经意间。"
  },
  {
    type: "吉",
    poem: "缘如流水，不急不缓，<br>顺其自然，自有安排。",
    interpretation: "平稳的缘分运势。一切都在按部就班地进行，无需过分焦虑。用心生活，真诚待人，美好的缘分会在最恰当的时候来到你身边。",
    suggestion: "宜平常心对待，做好自己，珍惜当下的小确幸。幸运物：一枚小巧的结缘铃。"
  },
  {
    type: "末吉",
    poem: "雾里看花，花影朦胧，<br>耐心寻觅，终见分明。",
    interpretation: "眼前的缘分似乎有些看不真切，不必急于一时。给自己多一些时间去了解和感受，拨开云雾才能见到真心。真诚是最好的引路灯。",
    suggestion: "宜提升自我认知，静心思考，避免冲动行事。多与信任的朋友交流获取不同视角。"
  },
  {
    type: "小凶",
    poem: "情海生波，偶有风雨，<br>莫失本心，雨过天晴。",
    interpretation: "今日在感情上可能会遇到一些小小的考验或误会。关键在于保持冷静和真诚沟通，不要让负面情绪影响了大局。风雨过后才能见彩虹。",
    suggestion: "宜谨言慎行，避免不必要的争执，多一份理解和包容。幸运方位：东南方。静心聆听对方。"
  },
  {
    type: "上上大吉",
    poem: "金风玉露，一相逢后，<br>便胜却、人间无数。",
    interpretation: "恭喜！这是极为难得的上上签！预示着一段深刻且珍贵的缘分即将到来或已在你身边。心有灵犀，一点即通，珍惜这份天赐良缘吧！",
    suggestion: "宜大胆追求，勇敢表达爱意，共同创造美好回忆。今日的你，光彩照人！幸运地：有水的地方。"
  },
  {
    type: "缘初现",
    poem: "蓦然回首，那人却在，<br>灯火阑珊处。",
    interpretation: "一段新的缘分可能就在不远处悄然等待着你。或许是你未曾留意过的身边人，或是一次不期而遇的邂逅。请敞开心扉，用发现美的眼睛去观察世界。",
    suggestion: "宜多参加社交活动，尝试新的爱好，不经意间的回眸或许就是缘分的开始。幸运数字：7。"
  },
  {
    type: "惜当下",
    poem: "两情若是久长时，<br>又岂在朝朝暮暮。",
    interpretation: "如果你已拥有伴侣，此签预示你们的感情深厚，能够经得起时间的考验。重要的不是形式，而是心灵的相通与守护。",
    suggestion: "宜为对方准备一个小惊喜，或共同完成一件有意义的小事，巩固彼此的羁绊。幸运颜色：暖黄色。"
  },
  {
    type: "待花开",
    poem: "种下梧桐树，引得凤凰来。<br>静心勤浇灌，花开自有期。",
    interpretation: "美好的缘分需要耐心培养和等待。现在的你可能需要先专注于提升自己，让自己变得更优秀。当时机成熟，对的人自然会被你吸引。",
    suggestion: "宜投资自我，学习新技能，培养内在涵养。缘分未到时，充实自己是最好的准备。"
  },
  {
    type: "天作之合",
    poem: "有情人终成眷属，<br>天赐良缘不可负。",
    interpretation: "你与心仪之人有着天作之合的缘分，或已相识，或将相逢。此缘分自有天意安排，不必刻意追求，却也不可轻易错过。",
    suggestion: "保持真心，珍惜每一次互动，顺其自然地发展关系。幸运方位：正北方。幸运物：红色丝线。"
  },
  {
    type: "良缘近",
    poem: "只缘感君一回顾，<br>使我思君朝与暮。",
    interpretation: "近期可能会遇到让你心动不已的人，或是已有的感情将迎来转机。这份感情值得你珍视和付出，将为你带来深刻的情感体验。",
    suggestion: "保持真实的自我，展现最好的一面。适时表达你的情感，不要因为害怕受伤而隐藏心意。"
  },
  // 新增签文
  {
    type: "月下情缘",
    poem: "月影婆娑人影绰，<br>花前月下两相依。",
    interpretation: "近期你的爱情运势颇佳，特别是在月光皎洁的夜晚。一段浪漫的邂逅或深情的告白可能会在这样的氛围中发生，为你的感情生活增添一抹诗意。",
    suggestion: "宜在月色下散步，参加夜间活动。不妨邀约心仪之人共赏月色，月老的红线或将在此时悄然系上。幸运时间：夜晚八点至十点。"
  },
  {
    type: "缘定三生",
    poem: "三生石上旧精魂，<br>赏月吟风不要论。",
    interpretation: "此签暗示你与某人的缘分深厚，仿佛三世情缘。也许初次相见就有一种说不出的熟悉感，这是因为你们的灵魂早已相识。珍惜这段难得的情缘。",
    suggestion: "宜重视直觉的感受，有些缘分经得起时间考验。可佩戴通灵石或月光石增强第六感。幸运词：重逢。"
  },
  {
    type: "缘来如此",
    poem: "有缘千里来相会，<br>无缘对面不相逢。",
    interpretation: "即使相隔再远，有缘的人终会相遇；无缘的人即使每天相见，心灵也难以靠近。近期你可能会经历一场看似偶然却早有安排的相遇。",
    suggestion: "宜对生活保持开放态度，接受各种可能性。旅行或远行有利于遇见有缘人。尝试改变日常路线和习惯，为缘分提供更多可能。"
  },
  {
    type: "痴心一片",
    poem: "相思一夜情多少，<br>地角天涯未是长。",
    interpretation: "纵使相隔天涯海角，真心的情意也不会因距离而减弱。此签表明你的真情实意将打动对方，即使过程中可能会经历一些波折。",
    suggestion: "宜表达真实情感，勿因害怕受伤而隐藏心意。长途通话或信件往来能增进感情。幸运物：手写的情书或明信片。"
  },
  {
    type: "心心相印",
    poem: "心意相通千里外，<br>灵犀一点即心明。",
    interpretation: "你与心仪之人有着奇妙的心灵感应，常常能心有灵犀地理解对方。这是难得的情感共鸣，预示着你们之间有着深厚的缘分基础。",
    suggestion: "宜信任直觉的感受，重视内心的声音。培养共同的兴趣爱好，加强精神层面的交流。幸运数字：11或22。"
  },
  {
    type: "情愫暗生",
    poem: "暗香浮动月黄昏，<br>堂上一声蛩意浓。",
    interpretation: "爱情的种子已经悄然播下，正如花香在暗处浮动，不经意间就能触动心弦。可能有人已对你暗生情愫，或你对某人的感情正在不知不觉中萌芽。",
    suggestion: "宜细心观察周围人的反应，留意那些特别关注你的人。尝试穿着香气淡雅的衣物或使用清淡的香水，增添个人魅力。"
  },
  {
    type: "缘分天注定",
    poem: "姻缘本是天注定，<br>不必苦求强求缘。",
    interpretation: "每个人的缘分都有天意安排，急于寻找或强求反而可能错失良机。此签提醒你放平心态，专注提升自己，让缘分自然而来。",
    suggestion: "宜随缘不变，变而不乱。可拜访有历史的姻缘神社或寺庙，静心许愿。幸运色：天蓝色，代表宽广包容的心态。"
  },
  {
    type: "桃花朵朵",
    poem: "东风送暖入屠苏，<br>桃李争妍百花艳。",
    interpretation: "近期你的桃花运势旺盛，可能会有多个追求者或爱慕者出现。这是展示自我魅力的好时机，但也需谨慎选择，找到真正与你心意相通的那个人。",
    suggestion: "宜参加群体活动，增加社交曝光度。穿着明艳的衣物有助提升魅力。切忌草率决定，应仔细考量每段情缘的真实性和未来发展。"
  },
  {
    type: "皆愿相思",
    poem: "愿我如星君如月，<br>夜夜流光相皎洁。",
    interpretation: "这是一首美好的祝愿，表达了两人如星月般相伴的美好愿景。若已有心仪之人，此签预示你们有望互生情愫；若尚在寻觅，则暗示美好姻缘即将来临。",
    suggestion: "宜抬头仰望星空，许下真挚的心愿。与友人分享内心感受可获得意想不到的建议。幸运物：星空或月亮相关的饰品。"
  }
];

const getPastLifeFortuneData = () => [
  {
    type: "缘定三生",
    poem: "奈何桥上叹，孟婆汤一碗，<br>前尘皆忘却，唯情丝难断。",
    interpretation: "你们的缘分跨越轮回，即使遗忘了前世的记忆，灵魂深处的羁绊依然牵引着你们。今生的相遇，是宿命的重逢。",
    suggestion: "珍惜这份似曾相识的感觉，用心去感受对方。可以一同探寻共同的喜好，或许能唤醒沉睡的记忆。幸运物：古朴的玉佩。"
  },
  {
    type: "末吉",
    poem: "旧梦依稀扰心神，<br>故人相逢泪湿襟。",
    interpretation: "前世未尽的缘分在今生延续。与某人的相遇可能会勾起你莫名的情绪波动或熟悉感，这正是前缘未了的体现。",
    suggestion: "顺其自然，不必刻意追寻前世的细节。若有机缘，可以通过冥想或梦境探索，但更重要的是把握今生的相处。幸运色：淡紫色。"
  },
  {
    type: "中吉",
    poem: "一盏青灯伴古佛，<br>千年等待为君来。",
    interpretation: "经历了漫长的等待与修行，你们的缘分终于在今生得以延续。这预示着一段深刻且充满考验的感情，但最终能够修成正果。",
    suggestion: "需要更多的耐心与包容来经营这段关系。共同经历一些考验将使你们的感情更加稳固。幸运地：古寺或有历史意义的场所。"
  },
  {
    type: "大吉",
    poem: "三生石上刻姓名，<br>月老祠前系红绳。",
    interpretation: "你们的缘分早已注定，是天意安排的重逢。无论经历多少波折，最终都会走向彼此。这是一段值得用一生去守护的深刻情缘。",
    suggestion: "相信命运的指引，勇敢地走向对方。共同经历生活的点滴，创造属于你们的幸福回忆。幸运物：同心结。"
  },
  {
    type: "小吉",
    poem: "前世一诺重千金，<br>今生相见续未了情。",
    interpretation: "或许是前世的一个承诺，让你们在今生再次相遇。这份缘分带有一些宿命感，需要双方共同努力去圆满。",
    suggestion: "多进行心灵沟通，了解彼此内心深处的想法。一起完成一件曾经约定或向往的事情，可以加深羁绊。"
  }
];

const getCareerFortuneData = () => [
  {
    type: "事业顺遂",
    poem: "乘风破浪会有时，<br>直挂云帆济沧海。",
    interpretation: "当前的事业发展正处于上升期，你的才能和努力将得到认可。机遇就在眼前，把握住就能更上一层楼。",
    suggestion: "宜积极主动，大胆展示自己的能力和想法。同时做好准备，随时迎接新的挑战。幸运方位：东方。"
  },
  {
    type: "稳步前进",
    poem: "不畏浮云遮望眼，<br>只缘身在最高层。",
    interpretation: "虽然前进的道路上可能会遇到一些小障碍，但你的事业整体呈稳步上升态势。保持信心，继续坚持现有的方向和策略。",
    suggestion: "宜脚踏实地，一步一个脚印。避免急功近利，注重长远规划。幸运色：沉稳的蓝色。"
  },
  {
    type: "转机将至",
    poem: "山重水复疑无路，<br>柳暗花明又一村。",
    interpretation: "事业上可能正面临一些挑战或瓶颈，但这只是暂时的。坚持下去，转机很快就会到来，新的机遇将为你打开成功之门。",
    suggestion: "宜保持耐心和韧性，不要轻言放弃。尝试换个角度思考问题，可能会有意外的收获。幸运物：绿色植物。"
  },
  {
    type: "贵人相助",
    poem: "天下谁人不识君，<br>一入江湖岁月新。",
    interpretation: "近期你的事业将得到贵人的帮助，这可能是一位有影响力的上司、导师或合作伙伴。他们的支持和指导将为你的职业发展带来重要转折。",
    suggestion: "宜拓展人脉，积极参与行业活动。对于他人的建议和帮助，应虚心接受并表达感谢。幸运物：品质优良的钢笔。"
  },
  {
    type: "突破创新",
    poem: "旧时光景已如梦，<br>新来气象胜从前。",
    interpretation: "目前是尝试新方法、开拓新领域的好时机。你的创新思维和大胆尝试将为事业带来突破性进展，可能会开创一个全新的局面。",
    suggestion: "宜勇于尝试新事物，不要被传统观念所束缚。适当的冒险精神将助你一臂之力。幸运数字：8。"
  },
  {
    type: "调整方向",
    poem: "不识庐山真面目，<br>只缘身在此山中。",
    interpretation: "当前的事业方向可能需要一些调整。你可能深陷细节而忽视了大局，或者坚持某个方向而错过了更好的机会。是时候退一步，重新审视自己的职业规划了。",
    suggestion: "宜放慢脚步，花时间思考真正想要的是什么。寻求可信赖的人的建议，或参考同行的成功经验。幸运方位：西北方。"
  },
  {
    type: "稳中求变",
    poem: "不鸣则已，一鸣惊人。<br>不争自胜，不战屈人。",
    interpretation: "当前事业稳定，但若想更进一步，需要在稳定中寻求变化和突破。保持低调的同时，积累能量，等待爆发的时机。",
    suggestion: "宜提升专业技能，扩展知识面，为未来的跃升做好准备。幸运色：深紫色。"
  },
  // 新增的事业签文
  {
    type: "厚积薄发",
    poem: "十年磨一剑，<br>霜刃未曾试。",
    interpretation: "你过去的努力和积累正在悄然汇聚力量，即将迎来显著的成果。这是一个厚积薄发的过程，耐心等待，最终一鸣惊人。",
    suggestion: "宜继续夯实基础，完善细节，等待合适的展示机会。不可急于求成，但也要做好准备随时迎接成功。幸运物：有年份的物品。"
  },
  {
    type: "奋发有为",
    poem: "长风破浪终有时，<br>直挂云帆济沧海。",
    interpretation: "现在正是你在事业上大展拳脚的好时机。充满活力和创造力的你，只要敢想敢做，就能获得令人瞩目的成就。",
    suggestion: "宜大胆开拓，积极进取。可考虑接受新的挑战或责任，展示自己的能力和决心。幸运色：充满活力的红色。"
  },
  {
    type: "顺势而为",
    poem: "明月松间照，<br>清泉石上流。",
    interpretation: "事业如流水，顺势而为更容易取得成功。此时应当顺应大势，找准自己的位置，像清泉一样自然地流向成功的方向。",
    suggestion: "宜关注行业趋势，顺应市场变化。不要逆流而上，而是找到适合自己的发展路径。幸运物：流动的水源。"
  },
  {
    type: "潜龙勿用",
    poem: "潜龙勿用藏锋芒，<br>待时而动显辉煌。",
    interpretation: "现在不是展露锋芒的最佳时机，而应当潜心修炼，默默积累实力。就像龙潜于深水，等待合适的时机一飞冲天。",
    suggestion: "宜低调行事，避免锋芒毕露。专注于提升内在能力，积累资源和人脉，为未来的爆发做准备。幸运地点：安静的环境。"
  },
  {
    type: "坚守初心",
    poem: "本心不改终能达，<br>初志常存必有成。",
    interpretation: "在事业发展过程中，始终坚守初心和使命非常重要。不被外界干扰，不为利益所动，保持本心，最终必将实现自己的职业理想。",
    suggestion: "宜回顾初衷，检视是否偏离了最初的目标。调整方向，重新找回工作的热情和意义。幸运活动：写下职业规划。"
  },
  {
    type: "团队协作",
    poem: "众人拾柴火焰高，<br>合力同心创辉煌。",
    interpretation: "个人的力量是有限的，只有通过团队协作才能实现更大的目标。近期你的事业成功将很大程度上依赖于良好的团队合作。",
    suggestion: "宜重视人际关系，培养团队精神。学会倾听和尊重他人的意见，共同创造价值。幸运习惯：分享和感谢。"
  },
  {
    type: "知行合一",
    poem: "知而不行，未为真知。<br>行而不知，徒劳无功。",
    interpretation: "事业成功需要理论与实践的结合。有了知识还需要行动，有了行动还需要指导思想。当前你需要更好地将二者结合。",
    suggestion: "宜将学到的知识应用到实际工作中，同时从实践中总结经验和教训。幸运学习方式：实战演练。"
  },
  {
    type: "逆势突破",
    poem: "天行健，君子以自强不息。<br>地势坤，君子以厚德载物。",
    interpretation: "即使面临逆境，仍能通过自身努力实现突破。当前的困难是对你意志和能力的考验，也是成长的机会。",
    suggestion: "宜迎难而上，不惧挑战。保持坚韧不拔的意志，同时积累和展示自己的专业能力。幸运信念：永不言弃。"
  },
  {
    type: "心平气和",
    poem: "静水流深，沧笙踏歌。<br>淡定从容，功成名就。",
    interpretation: "在职场中保持平和的心态非常重要。不急不躁，不卑不亢，以平常心对待成功与失败，这将使你在事业中走得更远。",
    suggestion: "宜培养冥想或正念的习惯，保持内心的平静。不要被短期的得失所困扰，着眼长远发展。幸运习惯：定期反思。"
  },
  {
    type: "才华横溢",
    poem: "纸上得来终觉浅，<br>绝知此事要躬行。",
    interpretation: "你拥有出色的才华和创造力，这将是你事业成功的重要资本。但真正的成功还需要通过实践来检验和完善你的想法。",
    suggestion: "宜勇于表达自己的创意，同时注重将想法落地实施。寻找机会展示你的才华，但避免纸上谈兵。幸运活动：创意工作坊。"
  }
];

// 新增双人合卦签文数据
const getCoupleFortuneData = () => [
  {
    type: "金玉良缘",
    poem: "金风玉露一相逢，<br>便胜却人间无数。",
    interpretation: "你们是命中注定的一对，彼此的相遇不是偶然，而是冥冥之中的安排。你们的关系如金似玉，坚固而珍贵，将会历经岁月的考验而愈发闪耀。",
    suggestion: "珍惜这份难得的缘分，相互扶持，共同成长。经常表达爱意和感谢，让感情持续升温。幸运日：农历初一、十五。"
  },
  {
    type: "比翼双飞",
    poem: "在天愿作比翼鸟，<br>在地愿为连理枝。",
    interpretation: "你们的缘分是羡煞旁人的神仙眷侣。无论是性格还是价值观，都展现出罕见的契合度。这种灵魂层面的共鸣将让你们的关系超越普通爱情，达到精神上的完美融合。",
    suggestion: "尝试一起探索新领域，共同学习成长。定期规划未来，设立共同目标，让你们的感情在共同奋斗中不断升华。幸运物：成对的物品。"
  },
  {
    type: "相辅相成",
    poem: "君子之交淡如水，<br>夫妻之道相辅成。",
    interpretation: "你们二人性格互补，一方的优点正好弥补另一方的不足。这种差异不是阻碍，反而是你们关系长久稳定的基石。在相处中，你们能够取长补短，共同进步。",
    suggestion: "学会欣赏彼此的不同，不要试图改变对方。在决策时充分考虑双方的观点，寻找平衡点。幸运活动：一起参加烹饪或手工课程。"
  },
  {
    type: "情深缘浅",
    poem: "落花有意流水无情，<br>桃花潭水深千尺。",
    interpretation: "你们之间存在深厚的感情基础，但可能面临一些外部障碍或时机不成熟的困扰。这种情况下，需要更多的耐心和坚持，等待命运之门打开的那一刻。",
    suggestion: "保持耐心，不要因为暂时的困难而放弃。多与对方沟通内心真实想法，共同寻找解决问题的方法。幸运方位：西南方向。"
  },
  {
    type: "缘定三生",
    poem: "前世五百次回眸，<br>换今生的一次擦肩而过。",
    interpretation: "你们的缘分极其深厚，仿佛跨越了多世轮回。初次相见便有似曾相识之感，内心深处涌动着无法解释的亲近感。这是灵魂层面的吸引，超越了理性的范畴。",
    suggestion: "相信直觉，倾听内心的声音。记录下你们之间的重要时刻，定期回顾美好回忆，增进感情深度。幸运饰品：有历史感的物品。"
  },
  {
    type: "相濡以沫",
    poem: "衣带渐宽终不悔，<br>为伊消得人憔悴。",
    interpretation: "你们的感情经过了时间的检验，或将经历生活的磨砺。正是这些共同面对的困难和挑战，让你们的感情更加坚固，互相扶持，相濡以沫。",
    suggestion: "一起度过难关后，别忘了庆祝每一个小成就。分担生活中的责任，共享成功的喜悦。幸运习惯：每天互道晚安。"
  },
  {
    type: "合则双美",
    poem: "琴瑟和鸣情意长，<br>松柏共欢风雨艳。",
    interpretation: "你们的关系如同琴瑟和鸣，各自独立而又和谐共处。你们既能保持个人空间和兴趣爱好，又能完美地融入对方的生活，形成一种平衡美好的状态。",
    suggestion: "保持各自的朋友圈和兴趣爱好，同时创造只属于两个人的共同活动。给彼此适当的空间和自由，感情会更加长久。幸运词：尊重与信任。"
  },
  {
    type: "风雨同舟",
    poem: "同行风雨路，<br>共度人生艰。",
    interpretation: "你们的缘分建立在共同经历的基础上。无论是学业、事业还是生活中的挑战，你们都能并肩面对，共同克服。这种并肩作战的经历将成为你们爱情的坚实基础。",
    suggestion: "设立共同的目标，一起努力实现。记录下你们一起克服的每一个挑战，这些回忆将成为感情的珍贵财富。幸运方式：一起参与户外挑战活动。"
  },
  {
    type: "情投意合",
    poem: "心心相印知己知彼，<br>情投意合两两相依。",
    interpretation: "你们在思想和情感上有着高度的共鸣，常常能理解对方未说出口的想法。这种默契来源于相似的性格、经历或价值观，让你们的交流轻松而深入。",
    suggestion: "保持坦诚的沟通习惯，分享各自的喜怒哀乐。一起探讨人生和未来，增强思想上的共鸣。幸运活动：共同阅读一本书并讨论感受。"
  },
  {
    type: "缘浅情深",
    poem: "有情人终成眷属，<br>情深缘浅终聚首。",
    interpretation: "你们目前的状态或许是暂时的分离或距离，但内心深处的情感纽带始终存在。若能坚持下去，命运终将安排你们相聚，共赴良缘。",
    suggestion: "保持联系，不要因为暂时的分离而放弃。利用这段时间提升自己，为未来的相聚做好准备。幸运物：书信或手写的留言。"
  },
  {
    type: "互敬互爱",
    poem: "相敬如宾礼为先，<br>互敬互爱情更坚。",
    interpretation: "你们的关系建立在相互尊重的基础上，彼此欣赏对方的才华和品质。这种基于尊重的感情比单纯的激情更加持久，能够经受住时间的考验。",
    suggestion: "学会用欣赏的眼光看待对方，经常表达对伴侣优点的赞美。避免在公共场合批评对方，维护彼此的尊严。幸运习惯：每日一句真诚的赞美。"
  },
  {
    type: "日久生情",
    poem: "日久见人心，<br>相知在长久。",
    interpretation: "你们的感情可能源于长时间的相处，从普通朋友或同事逐渐发展为恋人。这种缓慢生长的感情通常更加稳固，因为建立在深入了解基础上。",
    suggestion: "继续保持耐心，让感情自然发展。不要急于改变现状，享受每一个相处的瞬间。幸运地点：你们初次见面或经常相处的场所。"
  },
  {
    type: "缘定今生",
    poem: "有情未必终成眷属，<br>敢爱敢恨是良缘。",
    interpretation: "你们的相遇似乎是命中注定，彼此之间存在一种难以言喻的吸引力。无论经历什么变故，最终还是会回到对方身边，这是一种注定的牵绊。",
    suggestion: "珍惜当下的每一刻，不要让外界的声音影响你们的决定。定期进行一些仪式感活动，如纪念日庆祝或惊喜安排。幸运习惯：记录日常生活中的小确幸。"
  },
  {
    type: "火星撞地球",
    poem: "刀光剑影豪情在，<br>争锋相对情更浓。",
    interpretation: "你们的关系充满激情和火花，既有强烈的吸引力，也偶有争执和冲突。这种张力不是缺点，反而让你们的感情保持活力，不会陷入平淡。",
    suggestion: "学会建设性地解决冲突，不让小矛盾升级。争吵后及时和好，不要带着情绪入睡。幸运活动：一起进行运动或比赛类活动。"
  },
  {
    type: "一见钟情",
    poem: "世间万般情缘，<br>唯有一见倾心最为真。",
    interpretation: "你们之间存在一种强烈的第一印象吸引，初次见面就产生了特别的感觉。这种直觉上的吸引可能源于某种气场的匹配或者前世的缘分。",
    suggestion: "回忆并庆祝你们初次见面的场景和细节，保留初识时的美好感受。在感情稳定后，不要忘记保持适当的新鲜感和神秘感。幸运日期：初次见面的日子。"
  },
  {
    type: "互补互利",
    poem: "月盈则亏，水满则溢，<br>阴阳调和，刚柔并济。",
    interpretation: "你们的性格呈现明显的互补特点，一方的长处正好是另一方的短处。这种差异能够让你们在生活和工作中优势互补，取长补短。",
    suggestion: "欣赏彼此的不同，不要试图改变对方。在各自擅长的领域分工合作，充分发挥各自的优势。幸运理念：求同存异。"
  }
];

const getStudyFortuneData = () => [
  {
    type: "学业精进",
    poem: "书山有路勤为径，<br>学海无涯苦作舟。",
    interpretation: "当前是你学习进步的黄金时期。只要保持勤奋和专注，就能掌握困难的知识点，取得优异的成绩。",
    suggestion: "宜制定详细的学习计划，合理安排时间。注意劳逸结合，保持良好的学习状态。幸运方位：正北方。"
  },
  {
    type: "考试顺利",
    poem: "临帖不惮功夫费，<br>一朝成就贯珠球。",
    interpretation: "近期的考试将会相对顺利。你平时的努力和积累会在考场上得到体现，只要保持平常心，发挥正常水平，就能取得不错的成绩。",
    suggestion: "宜在考前保持镇定，避免熬夜或过度紧张。适当的放松活动有助于调整状态。幸运物：蓝色水笔。"
  },
  {
    type: "思路开阔",
    poem: "纸上得来终觉浅，<br>绝知此事要躬行。",
    interpretation: "近期你的思维特别活跃，容易有创新的想法和独到的见解。这对于需要创造性思维的学习和研究非常有利。",
    suggestion: "宜尝试新的学习方法，如思维导图、讨论学习等。多角度思考问题，不要局限于教材和课堂。幸运时段：清晨。"
  },
  {
    type: "温故知新",
    poem: "读书百遍，其义自见。<br>学而时习之，不亦说乎。",
    interpretation: "这段时间适合复习和巩固已学知识。通过重温旧知识，你会发现新的理解和联系，有助于构建更完整的知识体系。",
    suggestion: "宜整理笔记，梳理知识框架。对以前不太理解的内容进行重点复习，会有新的收获。幸运物：黄色荧光笔。"
  },
  {
    type: "克服困难",
    poem: "宝剑锋从磨砺出，<br>梅花香自苦寒来。",
    interpretation: "学习路上可能会遇到一些挑战和困难，但这正是成长的机会。通过克服这些困难，你的学习能力和意志力都将得到提升。",
    suggestion: "宜直面困难，寻求适当的帮助。如找老师答疑，与同学讨论，或利用在线学习资源。幸运颜色：深绿色。"
  },
  {
    type: "团队协作",
    poem: "三人行，必有我师焉。<br>择其善者而从之，其不善者而改之。",
    interpretation: "近期通过小组学习或与他人合作可以取得更好的效果。不同观点的交流和碰撞将帮助你更全面地理解知识，发现自己的不足。",
    suggestion: "宜积极参与小组讨论和合作学习。向优秀的同学学习，同时也乐于分享自己的知识和见解。幸运方式：讨论学习。"
  },
  {
    type: "专注致远",
    poem: "不畏浮云遮望眼，<br>自缘身在最高层。",
    interpretation: "保持专注和长远眼光非常重要。暂时的挫折或成绩波动不应影响你的信心，坚持走自己的学习道路，终将登上知识的高峰。",
    suggestion: "宜确立明确的学习目标，不受外界干扰。培养持久的专注力，提高学习效率。幸运时段：晚上9-11点。"
  },
  // 新增学业考试签文
  {
    type: "灵感迸发",
    poem: "一朝醒悟千古惑，<br>拨云见日豁然明。",
    interpretation: "近期你的学习可能会有突破性进展，某个长期困扰你的问题或概念突然变得清晰。这种顿悟的体验将大大提升你的学习信心。",
    suggestion: "宜保持思考，不要害怕挑战难题。尝试将复杂问题简化，或者从不同角度思考。幸运时间：独处冥想的时刻。"
  },
  {
    type: "求知若渴",
    poem: "青年易学老难成，<br>一寸光阴不可轻。",
    interpretation: "目前是你学习知识的黄金时期，求知欲望强烈，记忆力和理解力都处于良好状态。珍惜这段时光，尽可能多地汲取知识的养分。",
    suggestion: "宜广泛阅读，拓展知识面。建立良好的学习习惯，如每天固定时间学习，做好笔记。幸运物：笔记本或学习日记。"
  },
  {
    type: "聚精会神",
    poem: "专心致志事竟成，<br>一心一意向前行。",
    interpretation: "集中注意力是近期学习的关键。当你全身心投入学习时，效率会大大提高，理解和记忆也会更深刻。避免分心是成功的关键。",
    suggestion: "宜创造安静的学习环境，远离干扰。可以尝试番茄工作法，设定专注的时间段。幸运习惯：学习前的短暂冥想。"
  },
  {
    type: "循序渐进",
    poem: "不积跬步，无以至千里。<br>不积小流，无以成江海。",
    interpretation: "学习是一个积累的过程，不要期望一蹴而就。每天坚持一点点的进步，长久下来会有惊人的成效。耐心和恒心是成功的关键。",
    suggestion: "宜制定可行的小目标，每天都有所进步。记录学习进度，定期回顾和调整。幸运习惯：坚持每日学习日记。"
  },
  {
    type: "举一反三",
    poem: "融会贯通见真知，<br>一法通万法通。",
    interpretation: "近期你的学习将进入一个更高的层次，不仅能够掌握具体知识点，还能理解背后的原理和逻辑，实现举一反三、触类旁通。",
    suggestion: "宜多思考知识点之间的联系，尝试用自己的话解释复杂概念。创建知识地图或思维导图有助于理解全局。幸运学习方法：类比学习法。"
  },
  {
    type: "兴趣驱动",
    poem: "知之者不如好之者，<br>好之者不如乐之者。",
    interpretation: "当学习变成一种乐趣而非负担时，效果会事半功倍。近期你可能会发现某个学科或领域特别吸引你，顺应这种兴趣将带来显著进步。",
    suggestion: "宜深入探索感兴趣的领域，将学习与兴趣爱好结合。尝试新的学习方式，如实验、实践或创作项目。幸运时刻：兴趣盎然时。"
  },
  {
    type: "固本培元",
    poem: "根深方能叶茂盛，<br>基础牢固塔高峻。",
    interpretation: "近期应当注重基础知识的巩固，不要急于求成。只有基础扎实，才能应对更复杂的挑战。查漏补缺，夯实基础，为未来的学习打下坚实根基。",
    suggestion: "宜回顾基础知识，确保完全理解。编制基础知识清单，逐一检查掌握情况。幸运策略：打好地基再建高楼。"
  },
  {
    type: "灵活应变",
    poem: "八面玲珑通四方，<br>随机应变显智慧。",
    interpretation: "学习和考试中，灵活应变的能力非常重要。近期你可能面临一些意外情况或难题，但只要保持冷静和灵活的思维，就能迎刃而解。",
    suggestion: "宜多做综合性练习，提高应变能力。练习时限制时间，模拟真实考试环境。幸运心态：淡定从容。"
  },
  {
    type: "持之以恒",
    poem: "锲而不舍金石开，<br>驰而不息功自成。",
    interpretation: "学习是一场马拉松，而非短跑。坚持不懈的努力最终会突破难关，实现目标。近期可能会遇到一些挫折，但只要坚持下去，必将迎来成功。",
    suggestion: "宜建立长期学习计划，保持稳定的学习节奏。设置阶段性目标和奖励，保持动力。幸运品质：毅力和耐心。"
  }
];

const getGeneralFortuneData = () => [
  {
    type: "日行一善",
    poem: "勿以善小而不为，<br>勿以恶小而为之。",
    interpretation: "近期宜多行善事，哪怕是微不足道的小善举。善良的行为会为你带来好运，也会让你的心情更加愉悦和平静。",
    suggestion: "宜帮助身边需要帮助的人，参与志愿活动，或只是简单地为他人送上一个微笑和鼓励。幸运事：助人为乐。"
  },
  {
    type: "健康第一",
    poem: "身体是革命的本钱，<br>健康是人生最大的财富。",
    interpretation: "近期特别关注自己的健康状况。适当的运动和良好的生活习惯将为你带来充沛的精力和愉快的心情。",
    suggestion: "宜保持规律作息，适量运动，均衡饮食。避免久坐和熬夜，多喝水，多接触阳光。幸运运动：晨间慢跑。"
  },
  {
    type: "心如止水",
    poem: "淡泊明志，宁静致远。<br>清心寡欲，安然自得。",
    interpretation: "近期宜保持平和的心态，不为外界的纷扰所困扰。内心的平静将帮助你看清事物的本质，做出更明智的决定。",
    suggestion: "宜进行冥想或其他放松活动，减少社交媒体使用时间。学会享受独处的时光，倾听内心的声音。幸运地点：水边。"
  },
  {
    type: "知足常乐",
    poem: "饭疏食饮水，曲肱而枕之。<br>乐亦在其中矣。",
    interpretation: "学会知足和感恩，将为你带来持久的快乐。看到自己已经拥有的，而不是总盯着缺少的，你会发现生活其实已经很美好。",
    suggestion: "宜每天记录三件感恩的事情，学会欣赏简单的生活乐趣。适当降低期望，减少攀比心理。幸运习惯：写感恩日记。"
  },
  {
    type: "财源广进",
    poem: "积少成多，水滴石穿。<br>量入为出，积谷防饥。",
    interpretation: "近期财运不错，可能会有意外的收入或者投资回报。但也提醒你要理性消费，做好财务规划，为未来积累财富。",
    suggestion: "宜制定合理的预算，避免冲动消费。可以考虑开始一个小额投资或储蓄计划。幸运数字：6和8。"
  },
  {
    type: "贵人相助",
    poem: "千里马常有，而伯乐不常有。<br>士为知己者死，女为悦己者容。",
    interpretation: "近期你可能会遇到能够赏识你、帮助你的人。这可能是一位长辈、上司、老师或新朋友，他们的建议和支持将对你很有价值。",
    suggestion: "宜保持开放的心态，积极参与社交活动。善于倾听他人的建议，并表达适当的感谢。幸运社交场合：行业聚会。"
  },
  {
    type: "心想事成",
    poem: "有志者事竟成，<br>苦心人天不负。",
    interpretation: "你长久以来的愿望可能即将实现。坚持的努力没有白费，只要继续保持积极的心态和行动，美好的结果就在前方等待着你。",
    suggestion: "宜明确自己最重要的目标，并为之制定具体的行动计划。相信自己的能力，勇敢追求梦想。幸运物：红绳手链。"
  },
  {
    type: "修身养性",
    poem: "见贤思齐焉，见不贤而内自省也。<br>吾日三省吾身。",
    interpretation: "近期宜进行自我反思和提升。通过阅读、学习或与智者交流，你可以获得新的见解和智慧，提升自己的精神境界。",
    suggestion: "宜读一些经典著作，参加有意义的讲座或课程。每天花时间反思自己的言行，不断完善自我。幸运活动：读书会。"
  },
  // 新增一般运势签文
  {
    type: "柳暗花明",
    poem: "柳暗花明春又至，<br>山穷水尽疑无路。",
    interpretation: "近期你可能经历一些挑战或困难，但转机就在不远处。当你坚持不懈，走过最艰难的时刻，就会迎来豁然开朗的新局面。",
    suggestion: "宜保持乐观心态，坚持不懈。遇到困难时回想过去成功克服困境的经历，增强信心。幸运物：绿色植物或新生长的嫩芽。"
  },
  {
    type: "风调雨顺",
    poem: "春雨润物细无声，<br>和风细雨顺人心。",
    interpretation: "近期你的运势平稳向好，各方面都比较顺利。生活如同春雨滋润万物，虽然不惊心动魄，但却处处充满生机和希望。",
    suggestion: "宜顺应自然，保持平和心态。享受生活中的小确幸，珍惜当下的和谐与安宁。幸运方位：东方。"
  },
  {
    type: "机遇当前",
    poem: "良机不待人，<br>当下即未来。",
    interpretation: "近期你将迎来难得的机遇，这可能是一次偶然的相遇、一个意外的发现或一个新的想法。保持警觉，及时抓住这些稍纵即逝的机会。",
    suggestion: "宜保持开放的心态，对新事物持欢迎态度。多留意身边的细微变化，可能暗藏重要信息。幸运习惯：每天尝试一件新事物。"
  },
  {
    type: "守正待时",
    poem: "莫因一时挫折改初心，<br>守得云开见月明。",
    interpretation: "近期可能进展缓慢或遇到阻碍，但这是对你耐心和毅力的考验。坚守正道，坚持原则，等待合适的时机，终将迎来成功。",
    suggestion: "宜保持耐心，不急不躁。可以利用这段时间做好准备工作，弥补不足，完善计划。幸运活动：整理和规划。"
  },
  {
    type: "善缘广结",
    poem: "赠人玫瑰，手有余香。<br>与人为善，福报自来。",
    interpretation: "近期你的人际关系运势很好，特别适合结交新友，加深与老友的情谊。你的善良和真诚会吸引志同道合的人，并得到他们的帮助与支持。",
    suggestion: "宜主动联系久未联系的朋友，参加社交活动，扩大社交圈。一个真诚的微笑和问候可能带来意想不到的好运。幸运物：鲜花或小礼物。"
  },
  {
    type: "内外兼修",
    poem: "形于外者，始于内心。<br>气质非一日之功。",
    interpretation: "近期你可能会意识到外在形象和内在修养同等重要。改善外表能提升信心，丰富内心能增添魅力。两者结合，将使你散发独特光彩。",
    suggestion: "宜适当更新形象，同时投入时间培养兴趣爱好，丰富内心世界。保持外表整洁和精神饱满，展现最好的自己。幸运活动：阅读或艺术欣赏。"
  },
  {
    type: "学无止境",
    poem: "学海无涯苦作舟，<br>知识无尽乐为友。",
    interpretation: "近期是拓展知识、学习新技能的好时机。你的求知欲望会增强，接受新信息的能力也会提高。持续学习将为你未来的发展奠定坚实基础。",
    suggestion: "宜报名课程、阅读新书或参加工作坊，拓展知识面。与比自己知识面更广的人交流，从他们身上汲取经验。幸运习惯：每日学习半小时。"
  },
  {
    type: "自在随缘",
    poem: "心若简单，世间纷扰皆不入。<br>人若洒脱，天地宽广任遨游。",
    interpretation: "近期宜保持心灵的简单和洒脱，不被世俗繁杂所扰。以平常心看待一切，随遇而安，自在从容，反而能获得意外的好运和快乐。",
    suggestion: "宜简化生活，断舍离不必要的物品和关系。尝试冥想或独处，找回内心的宁静与自在。幸运环境：整洁、简约的空间。"
  },
  {
    type: "生活情趣",
    poem: "柴米油盐皆清福，<br>一笑一颦是人生。",
    interpretation: "近期你会发现生活中的小确幸和简单快乐。平凡的日常也能充满情趣，一花一木、一饭一蔬都能带来满足感。学会欣赏生活中的美好瞬间。",
    suggestion: "宜培养一项能带来愉悦的日常爱好，如烹饪、插花、手工制作。珍视与家人朋友共度的时光，创造美好回忆。幸运习惯：记录生活中的美好瞬间。"
  },
  {
    type: "心想事成",
    poem: "心诚则灵，意志坚定。<br>一分耕耘，一分收获。",
    interpretation: "近期是实现愿望的好时机，特别是那些你一直坚持努力的目标。诚心付出，保持积极的想法，宇宙会以各种方式回应你的期望。",
    suggestion: "宜明确写下自己的愿望和目标，并每天花时间想象它们实现的场景。采取实际行动朝目标迈进，哪怕是小步骤也很重要。幸运习惯：创建愿望板。"
  }
];

// 姓名占卜数据
const getNameFortuneData = () => [
  {
    type: "天生好缘",
    poem: "仙名一出天地颂，<br>良缘天定姓氏携。",
    interpretation: "你的姓名蕴含着强大的缘分能量。根据传统姓名学，你的姓氏与名字的组合形成了一种特殊的磁场，能够自然吸引良缘。",
    suggestion: "充分展现你的魅力，积极参与社交活动，你的姓名之缘将为你带来意想不到的邂逅。"
  },
  {
    type: "姻缘暗涌",
    poem: "字里藏金不显露，<br>缘分暗中有机遇。",
    interpretation: "你的姓名中隐藏着不易察觉的缘分密码。虽然表面上看起来平淡无奇，但实际上正在悄悄吸引着与你契合的人。",
    suggestion: "保持耐心，多关注身边不起眼但真诚的人，他们可能正是你命中注定的良缘。"
  },
  {
    type: "名扬四海",
    poem: "芳名远播引仙客，<br>四海之内皆良友。",
    interpretation: "你的姓名具有广泛的人缘魅力。从姓名学角度看，你的名字能够让人过目不忘，容易在社交场合中脱颖而出。",
    suggestion: "主动向他人介绍自己，你的名字将成为社交的桥梁，为你带来丰富的人际关系和潜在的良缘。"
  },
  {
    type: "名符其实",
    poem: "如其名，似其人，<br>真诚面对见真心。",
    interpretation: "你的名字与你的个性高度契合，展现了你的真实本质。这种名与人的和谐统一，能够吸引到欣赏真实的你的人。",
    suggestion: "坚持做真实的自己，不必刻意迎合他人。真正的良缘会被你名字背后的真实人格所吸引。"
  },
  {
    type: "文雅之名",
    poem: "风雅之名显才情，<br>才子佳人天作合。",
    interpretation: "你的名字透露出文化修养与优雅气质。从传统姓名学角度看，这样的名字特别容易吸引同样具有文化气息的伴侣。",
    suggestion: "多参与文化艺术活动，在展示你才情的同时，也能遇见欣赏你名字寓意的有缘人。"
  },
  {
    type: "福星高照",
    poem: "福字藏名喜事临，<br>贵人相助好姻缘。",
    interpretation: "你的姓名中蕴含着福气和好运。姓名学分析显示，这样的名字容易获得贵人相助，在姻缘方面也会得到意外的好机会。",
    suggestion: "乐于助人，广结善缘，好的姻缘会在你付出善意的同时不期而至。"
  },
  {
    type: "情深缘浅",
    poem: "名中藏情深几许，<br>缘浅需待时机成。",
    interpretation: "你的名字显示你有很深的情感能力，但当前的缘分际遇可能略显不足。这并非永久状态，而是时机尚未完全成熟。",
    suggestion: "提升自我修养，完善个人能力，当你准备好时，姓名中蕴含的情感能量将吸引到与你相配的伴侣。"
  },
  {
    type: "贵人相助",
    poem: "字中有贵人相助，<br>姻缘有人来牵线。",
    interpretation: "你的姓名暗示会有贵人在你的姻缘道路上提供帮助。这可能是介绍人、朋友或长辈，他们的建议和引导将对你的姻缘有重要影响。",
    suggestion: "虚心听取长辈或朋友的建议，不要轻易拒绝介绍的机会，命中注定的良缘可能就在一次不经意的安排中。"
  },
  {
    type: "自立自强",
    poem: "坚毅之名志气高，<br>独立自强觅良缘。",
    interpretation: "你的名字彰显了独立自主的特质。姓名学分析表明，这样的名字往往预示着需要先实现自我价值，然后才能遇到欣赏你独立品格的伴侣。",
    suggestion: "专注于个人成长和事业发展，当你散发出自信和成熟的魅力时，会自然吸引到欣赏你独立精神的理想伴侣。"
  },
  {
    type: "温柔之名",
    poem: "如玉温润显柔情，<br>似水柔情待有缘。",
    interpretation: "你的名字透露出温柔体贴的特质。这样的名字能够让人感到亲近和舒适，特别容易建立融洽的人际关系。",
    suggestion: "保持你的温柔本性，在适当的场合展现你的关怀和体贴，这些特质将成为吸引伴侣的重要魅力。"
  },
  // 新增姓名解析签文
  {
    type: "气场强大",
    poem: "一字千钧显气场，<br>磁场相合结良缘。",
    interpretation: "你的名字散发出一种强大的气场，给人留下深刻印象。姓名学分析显示，这样的名字能够吸引同样具有强大气场的人，形成互补或共鸣。",
    suggestion: "保持自信，展现个人魅力。在重要场合主动介绍自己，让更多人记住你的名字，从而增加遇见有缘人的机会。"
  },
  {
    type: "命中注定",
    poem: "天书早已录佳名，<br>姓名相合天意成。",
    interpretation: "你的姓名似乎是命中注定要与某个特定的人相遇。传统姓名学认为，某些姓名组合天生就有独特的相合性，会吸引彼此命定的伴侣。",
    suggestion: "相信直觉的感受，当遇到让你一见钟情或感到莫名亲切的人时，留意他们的姓名是否与你有特殊的谐音或含义上的联系。"
  },
  {
    type: "和谐之名",
    poem: "音律和谐名自美，<br>柔和之字吉祥临。",
    interpretation: "你的名字音韵和谐，读起来朗朗上口。这样的名字从音律学角度看，能够创造和谐的磁场，吸引平和、温暖的人际关系。",
    suggestion: "经常用声音表达你的名字，如自我介绍时清晰地念出自己的名字。你的名字的音韵之美会给他人留下深刻印象。"
  },
  {
    type: "才情独特",
    poem: "奇才异能名中藏，<br>相知相惜觅知音。",
    interpretation: "你的名字暗示你拥有独特的才华或思维方式。姓名学分析表明，这样的名字与不凡的创造力或特殊天赋相关联。",
    suggestion: "不要害怕展示你的独特才华和观点，真正欣赏你的人正是被你的与众不同所吸引。参加创意活动或小众兴趣社团，更容易遇到志同道合的灵魂伴侣。"
  },
  {
    type: "缘分使者",
    poem: "一名千里结善缘，<br>似有使命引良人。",
    interpretation: "你的名字似乎带有特殊的使命，能够连接人与人之间的缘分。姓名学认为，这样的名字不仅能够吸引自己的良缘，还能成为他人姻缘的媒介。",
    suggestion: "积极参与社交活动，主动为朋友介绍潜在的伴侣。在为他人牵线搭桥的过程中，你自己的良缘也会不期而至。"
  },
  {
    type: "古韵流芳",
    poem: "古风雅韵名中现，<br>如诗如画引仙缘。",
    interpretation: "你的名字带有古典韵味，彰显文化底蕴。这样的名字往往能吸引那些对传统文化有深厚理解和欣赏的人，形成心灵的共鸣。",
    suggestion: "多接触传统文化活动，如古典音乐会、诗词鉴赏等。你的名字会在这些场合散发出独特的魅力，吸引文化气息相近的有缘人。"
  },
  {
    type: "丰盈之名",
    poem: "富贵花开名字中，<br>丰盈之相福缘广。",
    interpretation: "你的名字蕴含着富足和丰盈的能量。姓名学分析认为，这样的名字能够吸引物质和精神双重富足的伴侣，共同创造丰盛的生活。",
    suggestion: "培养丰富的内心世界和稳定的物质基础，吸引同样追求丰盛人生的伴侣。注意个人形象管理，展现出与名字相符的气质。"
  },
  {
    type: "清雅之名",
    poem: "清风明月映芳名，<br>如诗如画引仙缘。",
    interpretation: "你的名字给人一种清新脱俗、不染尘俗的感觉。这样的名字暗示你拥有超凡脱俗的气质，能够吸引同样清新高雅的伴侣。",
    suggestion: "保持内心的纯净和高尚，不随波逐流。在自然环境中放松身心，如公园、湖边或山间，更容易遇见与你气质相符的有缘人。"
  },
  {
    type: "桃花之名",
    poem: "名字带桃花自开，<br>无需刻意缘自来。",
    interpretation: "你的名字中蕴含着特殊的桃花运。姓名学分析显示，某些字形或读音的组合天生就带有吸引异性缘分的特质。",
    suggestion: "善用你天生的桃花运势，但需谨慎选择真心实意的人。佩戴与你名字谐音或含义相关的饰品，可能会进一步增强你的桃花运。"
  },
  {
    type: "贵气之名",
    poem: "贵气天成名自显，<br>门当户对缘自成。",
    interpretation: "你的名字透露出一种与生俱来的贵气和尊严。这样的名字暗示你会吸引同样具有一定社会地位或内在修养的伴侣。",
    suggestion: "注重自身修养和仪态，参加高质量的社交活动。不必刻意追求，保持自然的高贵气质，自然会吸引门当户对的有缘人。"
  }
];

// 星座配对数据
const zodiacData = {
  aries: { name: '白羊座', element: '火', dates: '3.21-4.19' },
  taurus: { name: '金牛座', element: '土', dates: '4.20-5.20' },
  gemini: { name: '双子座', element: '风', dates: '5.21-6.21' },
  cancer: { name: '巨蟹座', element: '水', dates: '6.22-7.22' },
  leo: { name: '狮子座', element: '火', dates: '7.23-8.22' },
  virgo: { name: '处女座', element: '土', dates: '8.23-9.22' },
  libra: { name: '天秤座', element: '风', dates: '9.23-10.23' },
  scorpio: { name: '天蝎座', element: '水', dates: '10.24-11.22' },
  sagittarius: { name: '射手座', element: '火', dates: '11.23-12.21' },
  capricorn: { name: '摩羯座', element: '土', dates: '12.22-1.19' },
  aquarius: { name: '水瓶座', element: '风', dates: '1.20-2.18' },
  pisces: { name: '双鱼座', element: '水', dates: '2.19-3.20' }
};

// 元素相性配对数据
const elementCompatibility = {
  '火-火': {
    level: 4,
    poem: `双炎聚一处，<br>光华照天际。`,
    interpretation: `两个火象星座的相遇，如同两颗燃烧的恒星相互吸引与碰撞，瞬间爆发出强大的能量、激情和耀眼光芒。你们都充满了无尽的活力、令人信服的热情、坚定的自信，并且勇于开拓、大胆追求自己的目标与理想。共同的价值观、相似的行动节奏和对生活的热爱让你们几乎立刻就能一拍即合，很容易被对方身上那种熟悉的闪光点和不羁的灵魂所吸引。你们的关系充满了刺激、乐趣和探索精神，仿佛一场永不停歇、共同奔赴的冒险。你们会发现对方与自己有诸多共同特质：骄傲、热情、忠诚，这些都是彼此都高度珍视的品质。然而，也因为过于相似，双方都可能比较强势，渴望成为主导者，有时会显得以自我为中心，缺乏对另一方足够的体谅。`,
    suggestion: `这是一对能量爆棚、充满无限可能的组合，但也可能因为双方都太"火"、太坚持自我而引发不必要的摩擦和权力斗争。核心的相处之道在于找到"尊重"与"制衡"。首先，真诚地学会欣赏对方的独立性和个人追求，鼓励对方去燃烧自己的火焰，而不是试图控制或改变对方。其次，在主导权问题上要有意识地寻求平衡，避免事事争先或固执己见。沟通时，切记火象星座不宜冷战，出现分歧时，要主动、快速、理性地沟通，甚至可以用幽默感来化解紧张气氛，避免硬碰硬导致两败俱伤。给予彼此足够的个人空间和自由度至关重要，同时也不要忘记经常性地表达赞美和支持，让对方感受到被爱和被需要。共同寻找新的生活乐趣、一起挑战未知领域、参与令人兴奋的活动，能让你们的火焰持续旺盛地燃烧，长久地照亮彼此的人生旅程。`
  },
  '火-土': {
    level: 3,
    poem: `火锻璞玉土，<br>相映生辉光。`,
    interpretation: `当火象星座的热情、创造力和行动决心，遇上土象星座的稳重、踏实和坚韧不拔，这便如同一股奔腾的岩浆注入了沉静广袤的大地，既可能塑造出壮丽的景观，也可能因节奏与本质的差异而产生剧烈震荡。火象的远见卓识、开拓精神和乐观态度，能极大地激发土象的内在潜力，为其带来前所未有的活力、勇气和对新目标的向往，推动土象跳出舒适区，迎接改变。土象的耐心、细致的规划能力和强大的执行力，则能为火象那些略显不羁的梦想提供坚实的承托和实现的路径，使其不至于因后劲不足或缺乏现实考量而中途搁浅。火象会被土象的可靠和"能把事情搞定"的能力所吸引，土象则可能欣赏火象身上那种敢想敢干、照亮一切的生命力。`,
    suggestion: `火象星座在与土象伴侣相处时，首要的是学会"耐心"与"尊重"。要充分欣赏土象的谨慎和周全考虑，理解他们对稳定和安全感的深切需求，避免用自己的快节奏去催促或否定对方。尝试将你的宏伟蓝图与土象进行充分沟通，并邀请他们参与到计划的制定和执行中，他们的务实会是你成功的宝贵资产。反过来，火象也需要以持续的热情和积极的行动来感染和带动土象，鼓励他们尝试新鲜事物，共同体验生活的乐趣。设定共同的、可实现的长远目标，并在此过程中明确分工：火象负责创新、开拓和激励，土象负责计划、执行和巩固。记住，你的激情需要土的承载方能持久，土的潜力亦需你的点燃方能闪耀。用欣赏取代要求，用调和取代控制，你们将能共同创造出既充满活力又根基稳固的未来。`
  },
  '火-风': {
    level: 5,
    poem: `烈火乘东风，<br>相助势更猛。`,
    interpretation: `火的热情、行动力与风的智慧、沟通力相遇，这是一对极具活力、充满创意和无限可能的璀璨组合。风能助火势，火借风威——风象的广阔思路和多变新奇的点子，能为火象的行动提供方向和灵感，使其热情燃烧得更旺盛、更持久、更具目标性；而火象的果敢和实践精神，则能将风象那些飘忽的奇思妙想转化为实实在在的行动和成果。你们都热爱社交，对新鲜事物抱有强烈的好奇心，能够互相激发无尽的灵感，享受共同探索世界的乐趣和智力交锋的快感。你们的关系就像一场充满惊喜的对话和冒险，彼此应和，互相成就。但需要留意的是，火的热情可能来去匆匆，风的思维也可能变幻不定，若缺乏有意识的维系，关系可能显得"轻飘"，缺乏沉淀和深度。`,
    suggestion: `你们是天造地设的一对，拥有无限潜力，但也需要用心经营以保持长久的热度。火象要充分欣赏并给予风象足够的思考和表达自由，珍视他们那些天马行空的创意火花，避免过于急躁或试图主导一切。风象则可以用智慧和幽默来引导火象的能量，多用赞美和鼓励回应火象的行动与热情，让火感受到被理解和支持。保持新鲜感和高质量的沟通是你们关系长盛不衰的秘诀：一起学习新知、尝试新奇的爱好、策划说走就走的旅行、参与有趣的社交派对，都能让你们的火焰持续燃烧，思想持续碰撞。火象的温暖能为风象带来行动的勇气和情感的着陆点，风象的洞察力能为火象指明方向并拓展视野。若能有意识地培养共同的承诺和情感的深度，你们将不仅仅是灵魂伴侣，更是生活中最默契的行动搭档。`
  },
  '火-水': {
    level: 2,
    poem: `炎炎遇清泉，<br>相融两相难。`,
    interpretation: `火的热情奔放与水的深沉细腻相遇，构成了一幅既充满挑战又可能迸发独特吸引力的"水火交融"图景。火象星座的阳光、活力和勇往直前的决心，常常会深深吸引渴望被点燃激情的水象星座；而水象星座的温柔、包容和直觉敏锐，也可能让习惯了横冲直撞的火象感受到前所未有的宁静与被理解。然而，"水能克火，火亦能耗水"是你们关系中最核心的动态。火的直接与冲动，可能无意中灼伤水的多愁善感；水的犹豫与内敛，也可能熄灭火的积极与热情。你们在情感表达、生活节奏和处理问题的方式上存在根本差异：一个追求即时行动与外在展现，一个倾向深思熟虑与内在感受。`,
    suggestion: `这对"水火不容"的组合若想和谐共存，需要双方付出巨大的努力去理解、包容并积极调适。火象需要学习放慢脚步，用更温柔和体谅的方式去感知水象细腻如丝的情感世界，尝试理解他们"此时无声胜有声"的表达。水象则要勇敢地走出自己的情感漩涡，学会更直接、清晰地表达自己的需求和感受，并给予火象必要的个人空间和行动自由，避免过度的情绪化和依赖。关键在于"求同存异"与"互相滋养"：寻找共同的兴趣爱好，创造充满温暖与关怀的共同回忆，将有助于中和水火之间的天然张力。火象可以从水象那里学会更深的同理心和情感表达，水象则可以从火象那里汲取行动的勇气和乐观精神。当双方都能视对方的差异为学习和成长的契机，而非冲突的源头时，你们的关系才能化矛盾为神奇，创造出既温暖又滋润的独特风景。`
  },
  '土-火': {
    level: 2,
    poem: `熔岩遇山石，<br>雕琢费工夫。`,
    interpretation: `土象的稳重务实与火象的热情冲动激烈碰撞，这是一对典型的"冰与火之歌"，充满了张力与互补的可能。土象的踏实、耐心和对现实的专注，能为火象的万丈雄心提供坚实的根基和持久的动力，帮助火象将天马行空的创意构想转化为可行的计划并逐步实现。火象的活力、乐观和勇于冒险的精神，则能像一把火炬点燃土象略显沉闷的生活，为其注入新鲜的色彩、乐趣和突破传统的勇气。然而，"慢热"的土与"速燃"的火在生活节奏、价值观和安全感需求上存在显著差异：土象追求稳定有序、步步为营，火象则向往自由不羁、即时满足。火的"急"可能让土感到压力和不适，土的"缓"也可能让火觉得拖沓和受限。`,
    suggestion: `这对组合的成功在于"求同存异"和"有效磨合"。土象需要学习欣赏火象的创造力和开拓精神，适度放开固有的框架，尝试接受生活中的一些即兴和不确定性，给予火象必要的信任和空间。火象则需要理解土象对安全感和稳定性的深层需求，学习放慢脚步，培养耐心，将热情投入到更具建设性和持久性的事务中，用实际行动给予土象信心。建立共同且具体的生活目标至关重要，例如，火象负责开拓新领域、捕捉新机遇，土象则负责制定详细计划、稳固后方阵地，形成"你冲锋，我掩护"的默契配合。在日常相处中，坦诚沟通彼此的期望和底线，找到双方都能接受的节奏和方式。土的坚持能为火的热情提供耐力，火的行动能为土的规划注入活力，若能彼此成就，你们将是创造稳定而丰盛生活的强大同盟。`
  },
  '土-土': {
    level: 4,
    poem: `双峦共稳立，<br>相守岁月长。`,
    interpretation: `两位土象星座的相遇，如同两座坚实的山峦并肩屹立，共同构筑起一个无比稳定和充满安全感的世界。你们都秉持务实的生活态度，珍视秩序、规则和辛勤耕耘后的成果。在价值观、生活目标和节奏步调上，你们往往能达到高度的默契与和谐，很容易理解对方的想法和需求，不需要过多的言语就能感知彼此的意图。这种相似性使得你们能够携手并进，共同抵御外界的风雨，致力于创造一个物质丰裕、情感安稳的共同家园。你们的关系如同精心打磨的璞玉，虽然可能缺乏瞬间的耀眼光芒，但其内在的质朴、坚韧和持久的价值感却无可比拟。彼此的忠诚和对承诺的看重，是这段关系最坚固的基石。`,
    suggestion: `虽然你们拥有令人称羡的稳定性和可靠性，但也需要警惕关系因过于"土"重而显得单调、缺乏活力和浪漫气息。为了避免生活陷入一成不变的刻板模式，双方都应有意识地为关系注入新鲜感和情趣。可以共同规划一些既能带来乐趣又能拓展视野的活动，例如一起学习烹饪异国料理、参与园艺、进行短途旅行探索未知，或者培养共同的艺术爱好。在日常相处中，尝试多一些口头上的赞美和情感表达，即使不擅长制造惊喜，一份贴心的小礼物或一个用心的纪念日庆祝，也能有效提升情感温度。当双方都固执己见时，学会换位思考和适度妥协至关重要，避免让小分歧演变成难以化解的僵局。记住，稳定是你们的优势，但适度的变化和灵活性才能让这份稳定更加生机勃勃，历久弥新。`
  },
  '土-风': { level: 1, description: '基本元素相克，沟通方式差异大' },
  '土-水': { level: 5, description: '水滋养土地，相互促进，和谐共存' },
  '风-火': {
    level: 5,
    poem: `灵风助烈焰，<br>智慧耀激情。`,
    interpretation: `风象星座的聪慧机敏与火象星座的无限活力激情碰撞，如同和煦的春风拂过燃烧的火苗，使其更具方向和生命力。风象的奇思妙想和广阔的社交网络，能够为火象提供源源不断的灵感和机会；而火象的果敢行动和热情洋溢，则能将风象的想法付诸实践，并为其注入强大的动力。你们很容易成为彼此的"最佳拍档"，在思想交流和共同行动中都能找到高度的默契和乐趣。`,
    suggestion: `这是一对极具创造力和行动力的组合。风象星座应多欣赏火象的直接和热情，用你们的智慧引导他们，而非试图限制他们的行动；火象星座则要学会倾听风象多变的想法，给予他们足够的空间和尊重，共同将那些精彩的创意变为现实。一起参加辩论、策划新项目或是组织社交活动，都会让你们的关系更加精彩。风象的巧思为火象点亮道路，火象的能量助风象实现梦想。`
  },
  '风-土': { level: 1, description: '风难以撼动土的稳固，交流有障碍' },
  '风-风': { level: 4, description: '思想交流顺畅，但可能缺乏实际行动' },
  '风-水': { level: 2, description: '风能影响水面，但难以深入水中' },
  '水-火': { level: 1, description: '水能熄灭火焰，基本相克，需要理解' },
  '水-土': { level: 5, description: '水滋养土地，相辅相成，关系和谐' },
  '水-风': { level: 2, description: '风能影响水面，沟通有时不够深入' },
  '水-水': { level: 4, description: '情感丰富，理解深刻，但可能过于敏感' },
  '土-水': {
    level: 4,
    poem: `沃土润清流，<br>相携意长久。`,
    interpretation: `土象的深厚、稳定与水象的温柔、包容相遇，宛如坚实的大地拥抱滋润的河流，形成一幅相辅相成、生生不息的美好画卷。土象的务实、沉稳和强大的责任感，能为情感丰富、有时略显漂泊的水象提供一个坚实的港湾和清晰的生活框架，帮助水象将细腻的情感转化为持久的滋养力量。水象的直觉、同情心和高度的共情能力，则能渗透并软化土象有时过于刻板和固执的内核，为其注入温柔的理解和丰富的情感色彩，让土象的生活不再单调。你们都珍视情感的深度和关系的持久性，都倾向于通过长期的相处和默默的付出来建立信任，这种同步的节奏使得你们很容易找到共同语言和舒适的相处模式。土给予水以方向和界限，水赋予土以灵动和生机。`,
    suggestion: `这是一对具有高度潜能成就幸福的组合，但也需用心经营。土象星座应学习更主动地表达内心的情感与关怀，不仅仅满足于物质上的给予，更要尝试理解并回应水象那些微妙而丰富的情感需求，用行动和言语去温暖和肯定水象的付出。水象星座则要学会欣赏土象那种"此时无华胜有华"的深沉之爱，理解他们通过实际行动表达关怀的方式，并给予他们必要的稳定感和信任，避免因一时的情绪波动而引发不必要的猜疑。共同营造一个充满温情和安全感的家庭环境对你们至关重要。一起参与园艺、烹饪、艺术欣赏等能带来平静喜悦的活动，或者进行深入的心灵沟通，都有助于加深彼此的理解和情感联结。土象的坚定能为水象的情感找到稳固的锚点，水象的柔情能让土象的世界更加丰盈。`
  },
  '土-风': {
    level: 3,
    poem: `高山闻疾风，<br>相理解析明。`,
    interpretation: `当象征稳定、务实的土象星座，遇上代表思辨、变化的火象星座，这是一场"脚踏实地"与"天马行空"的对话，充满了本质的差异，却也暗藏着意想不到的互补潜能。土象追求具体成果、安全感和有计划的生活节奏，他们注重感官世界的体验和物质层面的积累。风象则更热衷于思想的碰撞、信息的交流和精神层面的探索，他们灵活多变，难以被束缚，对一成不变的生活感到乏味。土象可能会觉得风象过于不切实际、难以捉摸；风象也可能认为土象固执沉闷、缺乏情趣。然而，风象的广阔视野和创新思维，可以为土象打开新的思路，助其打破僵化的模式；土象的稳健和执行力，也能帮助风象将那些飘忽的灵感转化为看得见的现实。`,
    suggestion: `这对组合若想长久和谐，核心在于"尊重差异，求同存异，积极沟通"。土象需要给予风象足够的精神空间和社交自由，欣赏他们那些看似"不着边际"的思考和独特的幽默感，尝试理解风象对新鲜事物和智力挑战的渴望，而不是试图用自己的框架去限制对方。风象则要学习更脚踏实地，理解土象对安全感、承诺和稳定生活的深切需求，尝试将自己的理想与现实对接，用更清晰、具体的方式表达自己的想法和计划，并给予土象切实的陪伴与支持。寻找共同的精神追求和智力爱好，比如一起学习新技能、参与辩论、共同策划并执行一些既有创意又能带来实际效益的项目，将有助于拉近你们的距离。土象可以为风象提供一个稳定的"锚"，让其思想的风筝不至于飘得太远；风象则能为土象的生活注入"氧气"，使其不至于固化和停滞。有效的、非评判性的沟通是关键，努力找到一种双方都能接受的"折中"生活方式。`
  },
  '土-土': {
    level: 4,
    poem: `双峦共稳立，<br>相守岁月长。`,
    interpretation: `两位土象星座的相遇，如同两座坚实的山峦并肩屹立，共同构筑起一个无比稳定和充满安全感的世界。你们都秉持务实的生活态度，珍视秩序、规则和辛勤耕耘后的成果。在价值观、生活目标和节奏步调上，你们往往能达到高度的默契与和谐，很容易理解对方的想法和需求，不需要过多的言语就能感知彼此的意图。这种相似性使得你们能够携手并进，共同抵御外界的风雨，致力于创造一个物质丰裕、情感安稳的共同家园。你们的关系如同精心打磨的璞玉，虽然可能缺乏瞬间的耀眼光芒，但其内在的质朴、坚韧和持久的价值感却无可比拟。彼此的忠诚和对承诺的看重，是这段关系最坚固的基石。`,
    suggestion: `虽然你们拥有令人称羡的稳定性和可靠性，但也需要警惕关系因过于"土"重而显得单调、缺乏活力和浪漫气息。为了避免生活陷入一成不变的刻板模式，双方都应有意识地为关系注入新鲜感和情趣。可以共同规划一些既能带来乐趣又能拓展视野的活动，例如一起学习烹饪异国料理、参与园艺、进行短途旅行探索未知，或者培养共同的艺术爱好。在日常相处中，尝试多一些口头上的赞美和情感表达，即使不擅长制造惊喜，一份贴心的小礼物或一个用心的纪念日庆祝，也能有效提升情感温度。当双方都固执己见时，学会换位思考和适度妥协至关重要，避免让小分歧演变成难以化解的僵局。记住，稳定是你们的优势，但适度的变化和灵活性才能让这份稳定更加生机勃勃，历久弥新。`
  },
  '风-火': {
    level: 5,
    poem: `灵风助烈焰，<br>智慧耀激情。`,
    interpretation: `风象星座的聪慧机敏与火象星座的无限活力激情碰撞，如同和煦的春风拂过燃烧的火苗，使其更具方向和生命力。风象的奇思妙想和广阔的社交网络，能够为火象提供源源不断的灵感和机会；而火象的果敢行动和热情洋溢，则能将风象的想法付诸实践，并为其注入强大的动力。你们很容易成为彼此的"最佳拍档"，在思想交流和共同行动中都能找到高度的默契和乐趣。`,
    suggestion: `这是一对极具创造力和行动力的组合。风象星座应多欣赏火象的直接和热情，用你们的智慧引导他们，而非试图限制他们的行动；火象星座则要学会倾听风象多变的想法，给予他们足够的空间和尊重，共同将那些精彩的创意变为现实。一起参加辩论、策划新项目或是组织社交活动，都会让你们的关系更加精彩。风象的巧思为火象点亮道路，火象的能量助风象实现梦想。`
  },
  '风-土': { level: 1, description: '风难以撼动土的稳固，交流有障碍' },
  '风-风': { level: 4, description: '思想交流顺畅，但可能缺乏实际行动' },
  '风-水': { level: 2, description: '风能影响水面，但难以深入水中' },
  '水-火': { level: 1, description: '水能熄灭火焰，基本相克，需要理解' },
  '水-土': { level: 5, description: '水滋养土地，相辅相成，关系和谐' },
  '水-风': { level: 2, description: '风能影响水面，沟通有时不够深入' },
  '土-土': { level: 4, description: '稳定可靠，但可能缺乏变化与激情' }
};

// 星座配对分析
const getZodiacCompatibility = (sign1, sign2) => {
  // 如果输入相同星座
  if (sign1 === sign2) {
    const signData = zodiacData[sign1];
    return {
      type: "同类相吸",
      compatibility: 4,
      poem: "同道中人心相知，<br>惺惺相惜情更深。",
      interpretation: `作为同为${signData.name}的你们，在性格和处事方式上有很多共同点。你们能够轻松理解对方的想法和行为，共同语言很多。但也需要注意可能会有相同的缺点或盲区。`,
      suggestion: `充分发挥${signData.name}的优点，同时互相提醒避免共同的弱点。尝试接触一些与你们星座特性互补的活动，拓展共同的视野。`
    };
  }

  // 获取两个星座的元素
  const element1 = zodiacData[sign1].element;
  const element2 = zodiacData[sign2].element;
  
  // 查找元素相性
  const compatibility = elementCompatibility[`${element1}-${element2}`];
  const compatibilityLevel = compatibility ? compatibility.level : 3;
  
  // 根据星座特性生成配对结果
  let result = {};
  
  // 基于兼容性级别选择配对类型
  switch(compatibilityLevel) {
    case 5:
      result.type = "天作之合";
      result.poem = "天涯共此时，<br>月下同婵娟。";
      break;
    case 4:
      result.type = "相得益彰";
      result.poem = "如切如磋，<br>如琢如磨。";
      break;
    case 3:
      result.type = "中等缘分";
      result.poem = "相知无远近，<br>万里尚为邻。";
      break;
    case 2:
      result.type = "需要磨合";
      result.poem = "路漫漫其修远兮，<br>吾将上下而求索。";
      break;
    case 1:
      result.type = "挑战重重";
      result.poem = "海内存知己，<br>天涯若比邻。";
      break;
    default:
      result.type = "缘分未知";
      result.poem = "有缘千里来相会，<br>无缘对面不相逢。";
  }
  
  // 添加星座特定的解读
  let interpretation = `${zodiacData[sign1].name}与${zodiacData[sign2].name}的组合，`;
  interpretation += `是${element1}元素与${element2}元素的相遇。${compatibility.description}。`;
  
  // 添加星座特定的建议
  let suggestion = "在相处中，应当";
  if (compatibilityLevel >= 4) {
    suggestion += "珍惜彼此的默契，发挥各自优势，共同成长。尝试一些能够展现双方星座特点的活动，增进感情。";
  } else if (compatibilityLevel === 3) {
    suggestion += "多进行沟通，理解彼此的差异，寻找共同兴趣爱好。适当妥协和让步能够让关系更加和谐。";
  } else {
    suggestion += "学会欣赏彼此的不同，不要试图改变对方的本质。发现并重视对方的优点，同时给予彼此足够的空间和理解。";
  }
  
  return {
    ...result,
    compatibility: compatibilityLevel,
    interpretation,
    suggestion,
    sign1: zodiacData[sign1].name,
    sign2: zodiacData[sign2].name,
    element1: element1,
    element2: element2
  };
};

const getSpecialTurningFortuneData = () => [
  {
    type: "大吉", // 使用现有类型，或者可以考虑添加新的"峰回路转"类型到 typeColorMapping
    poem: "暗夜终将尽，<br>曙光现东方。",
    interpretation: "你近期的不顺遂即将过去，命运的齿轮已经开始转向。这是一个重要的转折点，请保持信心，积极迎接新的开始。",
    suggestion: "抛开过去的包袱，以全新的姿态面对未来。尝试一些新的事物，或者重拾旧日的梦想。幸运色：金色。"
  },
  {
    type: "柳暗花明", // 已有类型，非常适合转机主题
    poem: "偶因阻滞心意灰，<br>峰回路转好运来。",
    interpretation: "虽然经历了一些波折，但否极泰来，转机已现。之前的困扰将逐渐消散，新的机遇和希望正向你招手。",
    suggestion: "保持积极乐观的心态，抓住这个转变的契机。多与正能量的人交流，他们的支持会助你一臂之力。幸运方位：南方。"
  },
  {
    type: "中吉", // 使用现有类型，或者可以考虑添加新的"雨过天晴"类型到 typeColorMapping
    poem: "风雨洗礼净尘埃，<br>彩虹高悬心花开。",
    interpretation: "经历风雨之后，天空将更加晴朗。这是一个内心得到净化和提升的时期，坏运气已经过去，好运正在酝酿。",
    suggestion: "总结过去的经验教训，轻装上阵。多做一些让自己开心的事情，享受雨过天晴的宁静与美好。幸运物：水晶饰品。"
  }
];

const getRelationshipFortuneData = () => [
  {
    type: "贵人相助",
    poem: "良师益友常相伴，<br>披荆斩棘不孤单。",
    interpretation: "近期你的人际关系运势佳，容易遇到对你有帮助的良师益友。他们的指引和支持将帮助你克服困难，共同进步。",
    suggestion: "珍惜身边的朋友和导师，主动与他们交流学习。同时，也要乐于向他人伸出援手。幸运活动：团队合作项目。"
  },
  {
    type: "吉",
    poem: "误会冰释春风暖，<br>一笑泯恩仇怨消。",
    interpretation: "如果近期与人有些小摩擦或误会，现在是化解的好时机。坦诚沟通，用宽容的心去理解对方，关系将重归于好。",
    suggestion: "主动迈出沟通的第一步，表达你的善意和理解。一个小小的礼物或问候，也能起到意想不到的效果。幸运色：天蓝色。"
  },
  {
    type: "小吉",
    poem: "谈笑风生皆知己，<br>往来皆是座上宾。",
    interpretation: "你近期的社交运不错，容易结识新的朋友，也会与旧友相处愉快。你的个人魅力将得到展现，受到大家的欢迎。",
    suggestion: "积极参加社交活动，拓展你的人脉圈。保持真诚友善的态度，你将收获更多珍贵的友谊。幸运物：分享的小零食。"
  }
];

const getHealthFortuneData = () => [
  {
    type: "吉",
    poem: "神清气爽体轻安，<br>百病不侵福寿绵。",
    interpretation: "你近期的健康运势良好，身心都处于一个和谐平衡的状态。保持良好的生活习惯，将能持续拥有健康活力。",
    suggestion: "继续保持规律作息和均衡饮食，适度进行体育锻炼。多关注心灵的平静，避免过度操劳。幸运食品：新鲜蔬果。"
  },
  {
    type: "小吉",
    poem: "偶感不适早留意，<br>防患未然保平安。",
    interpretation: "身体可能会发出一些细微的信号，提醒你关注健康。及时调整生活方式，避免小问题演变成大麻烦，方能确保长久平安。",
    suggestion: "注意身体的细微变化，如有不适及时休息或咨询专业人士。避免不良生活习惯，增强自我保护意识。幸运习惯：每日八杯水。"
  },
  {
    type: "中吉",
    poem: "千金难买身无恙，<br>平安喜乐福自来。",
    interpretation: "健康和平安是最大的福气。近期运势平稳，无大病大灾之虞。珍惜这份安宁，享受生活中的点滴美好。",
    suggestion: "感恩所拥有的一切，保持乐观心态。多陪伴家人，注意出行安全，平安就是最好的祝福。幸运活动：与家人散步。"
  }
];

const getDailyFortuneData = () => [
  {
    type: "小吉", // Or a new type like "今日小确幸"
    poem: "晨曦微露天地醒，<br>今日万事皆可期。",
    interpretation: "新的一天开始了，充满了未知与可能。保持积极的心态，你将发现生活中的小美好和小确幸。",
    suggestion: "出门前给自己一个微笑，对遇到的人报以友善。一件期待已久的小事今天或许会有进展。幸运饮品：一杯温水。"
  },
  {
    type: "吉", // Or a new type like "今日箴言"
    poem: "一步一印皆风景，<br>平常之心看世情。",
    interpretation: "今天是适合沉淀和观察的一天。不必急于求成，用心体验过程，平凡之中亦有不凡的感悟。",
    suggestion: "放慢脚步，感受当下的宁静。可以读一本好书，或与朋友进行一次深入的交谈。幸运数字：3。"
  },
  {
    type: "中吉", // Or a new type like "今日运开"
    poem: "偶有灵光乍现时，<br>把握机遇莫迟疑。",
    interpretation: "今天你可能会有一些新的想法或灵感迸发，或者遇到一些小小的机遇。要相信自己的直觉，果断行动。",
    suggestion: "随身携带笔记本，记录下突如其来的灵感。如果有机遇出现，不妨大胆尝试一下。幸运方位：东方。"
  }
];

// 主Store定义
export const useFortuneStore = defineStore('fortune', () => {
  // 状态变量
  const currentCategory = ref('love');
  const selectedFortune = ref(null);
  const isDrawing = ref(false);
  const isFortuneVisible = ref(false);
  const fortuneHistory = ref([]);
  const userLevel = ref(1);
  const totalDraws = ref(0);
  const userName = ref('');
  
  // 签文类型对应的颜色
  const fortuneTypeColor = computed(() => {
    if (!selectedFortune.value) return '';
    return typeColorMapping[selectedFortune.value.type] || '#333';
  });
  
  // 计算用户可用的签文等级
  const calculateUserLevel = () => {
    const historyCount = fortuneHistory.value.length;
    if (historyCount >= 50) return 4;
    if (historyCount >= 30) return 3;
    if (historyCount >= 10) return 2;
    return 1;
  };
  
  // 根据用户等级筛选可用签文
  const getAvailableFortuneData = (categoryId) => {
    const level = calculateUserLevel();
    userLevel.value = level;
    
    let fortuneData = [];
    switch(categoryId) {
      case 'love':
        fortuneData = getLoveFortuneData();
        break;
      case 'past_life':
        fortuneData = getPastLifeFortuneData();
        break;
      case 'career':
        fortuneData = getCareerFortuneData();
        break;
      case 'study':
        fortuneData = getStudyFortuneData();
        break;
      case 'general':
        fortuneData = getGeneralFortuneData();
        break;
      case 'couple':
        fortuneData = getCoupleFortuneData();
        break;
      case 'name':
        fortuneData = getNameFortuneData();
        break;
      case 'daily':
        fortuneData = getDailyFortuneData(); // Now using dedicated daily fortunes
        break;
      case 'relationship':
        fortuneData = getRelationshipFortuneData(); // Now using dedicated relationship fortunes
        break;
      case 'health':
        fortuneData = getHealthFortuneData(); // Now using dedicated health fortunes
        break;
      case 'zodiac':
      case 'destiny_ball':
        // 这些类别使用专门的组件和功能，不使用传统抽签机制
        fortuneData = [];
        break;
      default:
        fortuneData = getLoveFortuneData();
    }
    
    // 为签文增加等级属性，并根据用户等级筛选
    return fortuneData.filter((fortune, index) => {
      // 根据索引分配等级（这只是个示例，实际可能需要更复杂的逻辑）
      const fortuneLevel = (index % 4) + 1;
      fortune.level = fortuneLevel;
      return fortuneLevel <= level;
    });
  };
  
  // 从本地存储加载数据
  const loadFromStorage = () => {
    const storedHistory = localStorage.getItem('fortuneHistory');
    if (storedHistory) {
      fortuneHistory.value = JSON.parse(storedHistory);
    }
    
    // 加载后计算用户等级
    userLevel.value = calculateUserLevel();
  };
  
  // 保存数据到本地存储
  const saveToStorage = () => {
    localStorage.setItem('fortuneHistory', JSON.stringify(fortuneHistory.value));
  };
  
  // 将抽签结果添加到历史记录
  const saveToHistory = (customResult = null) => {
    const historyItem = customResult || {
      type: selectedFortune.value.type,
      level: selectedFortune.value.level,
      category: currentCategory.value,
      date: new Date().toLocaleDateString(),
      result: selectedFortune.value.poem.replace(/<br>/g, ' ')
    };
    
    fortuneHistory.value.push(historyItem);
    saveToStorage();
    
    // 更新用户等级
    userLevel.value = calculateUserLevel();
  };
  
  // 设置分类
  function setCategory(categoryId) {
    if (categoryData.some(cat => cat.id === categoryId)) {
      currentCategory.value = categoryId;
      resetFortune();
    }
  }
  
  // 抽签函数
  function drawFortune() {
    // 检查是否是需要特殊处理的类别
    if (isDrawing.value) return;
    
    // 对于特殊类别的处理
    if (currentCategory.value === 'couple' || currentCategory.value === 'zodiac' || currentCategory.value === 'name') {
      // 需要通过UI组件触发特定的分析函数，这里只是返回
      return;
    }
    
    isDrawing.value = true;
    isFortuneVisible.value = false;
    
    // 模拟抽签过程
    setTimeout(() => {
      // 检查是否需要触发转机签文
      const recentFortunes = fortuneHistory.value.slice(-3);
      const badFortuneCount = recentFortunes.filter(f => 
        (f.type === '小凶' || f.type === '凶' || f.type === '大凶') && 
        (new Date(f.date).toDateString() === new Date().toDateString())
      ).length;
      
      // 如果今天连续抽到3次不好的签，触发转机签文
      if (badFortuneCount >= 3) {
        const turningFortunes = getSpecialTurningFortuneData();
        selectedFortune.value = turningFortunes[Math.floor(Math.random() * turningFortunes.length)];
        // 标记为特殊签文
        selectedFortune.value.isSpecial = true;
      } else {
        // 使用getAvailableFortuneData代替直接加载数据
        const fortuneData = getAvailableFortuneData(currentCategory.value);
        // 随机选择一个签文
        const randomIndex = Math.floor(Math.random() * fortuneData.length);
        selectedFortune.value = { ...fortuneData[randomIndex] };
      }
      
      isDrawing.value = false;
      
      // 添加延迟显示结果的动画效果，增加仪式感
      setTimeout(() => {
        // 先显示结果容器
        isFortuneVisible.value = true;
        
        // 使用audioUtils播放音效
        playSound('sounds/reveal.mp3', 0.4, (err) => {
          console.warn('音效播放失败:', err);
        }).catch(error => {
          console.error('音效创建失败:', error);
        });
      }, 800); // 延长展示时间，增加期待感
    }, 2000); // 增加抽签过程时间，强化仪式感
  }
  
  // 重置签文状态
  function resetFortune() {
    isFortuneVisible.value = false;
    selectedFortune.value = null;
  }
  
  // 清空历史记录
  function clearHistory() {
    fortuneHistory.value = [];
    saveToStorage();
    // 重置用户等级
    userLevel.value = 1;
  }
  
  // 添加姓名占卜处理函数
  function analyzeNameFortune(name) {
    if (!name || typeof name !== 'string' || name.trim() === '') {
      return null;
    }
    
    userName.value = name.trim();
    
    // 基于姓名字符生成一个确定的随机数
    let nameValue = 0;
    for (let i = 0; i < userName.value.length; i++) {
      nameValue += userName.value.charCodeAt(i);
    }
    
    // 使用这个数值选择一个签文
    const nameFortuneList = getNameFortuneData();
    const fortuneIndex = nameValue % nameFortuneList.length;
    const fortune = { ...nameFortuneList[fortuneIndex] };
    
    // 添加姓名个性化内容
    fortune.personalized = generatePersonalizedContent(userName.value);
    
    // 记录抽签并触发显示
    totalDraws.value++;
    selectedFortune.value = fortune;
    
    // 保存到历史记录
    saveToHistory({
      type: fortune.type,
      date: new Date().toISOString(),
      category: 'name',
      name: userName.value,
      personalized: fortune.personalized
    });
    
    // 保存状态
    saveToStorage();
    
    // 立即显示结果
    isFortuneVisible.value = true;
    
    return fortune;
  }
  
  // 生成个性化内容
  function generatePersonalizedContent(name) {
    if (!name) return '';
    
    // 基于姓名第一个字符生成个性特点
    const firstCharCode = name.charCodeAt(0);
    const personalityTraits = [
      '温柔体贴', '热情开朗', '稳重可靠', '聪明机智', 
      '勇敢坚强', '细心耐心', '诚实正直', '富有创意',
      '谦虚有礼', '善良宽容'
    ];
    
    // 基于姓名长度生成缘分数值
    const luckNumber = (name.length * 8 + firstCharCode) % 100;
    
    // 基于姓名总字符码生成幸运颜色
    const colors = [
      '红色', '粉色', '橙色', '金色', '黄色', 
      '绿色', '青色', '蓝色', '紫色', '白色'
    ];
    
    let nameValue = 0;
    for (let i = 0; i < name.length; i++) {
      nameValue += name.charCodeAt(i);
    }
    
    const personalityIndex = firstCharCode % personalityTraits.length;
    const colorIndex = nameValue % colors.length;
    
    return {
      personality: personalityTraits[personalityIndex],
      luckNumber: luckNumber,
      luckColor: colors[colorIndex],
      description: `根据传统姓名学分析，「${name}」这个名字蕴含着「${personalityTraits[personalityIndex]}」的特质，这会在你的人际关系和爱情中发挥重要作用。你的缘分指数为${luckNumber}分（满分100），尤其适合与喜欢${colors[colorIndex]}的人建立深厚关系。`
    };
  }
  
  // 添加星座配对处理函数
  function analyzeZodiacCompatibility(sign1, sign2) {
    if (!sign1 || !sign2 || !zodiacData[sign1] || !zodiacData[sign2]) {
      return null;
    }
    
    const result = getZodiacCompatibility(sign1, sign2);
    
    // 记录抽签并触发显示
    totalDraws.value++;
    selectedFortune.value = result;
    
    // 保存到历史记录
    saveToHistory({
      type: result.type,
      date: new Date().toISOString(),
      category: 'zodiac',
      sign1: zodiacData[sign1].name,
      sign2: zodiacData[sign2].name,
      compatibility: result.compatibility
    });
    
    // 保存状态
    saveToStorage();
    
    // 立即显示结果
    isFortuneVisible.value = true;
    
    return result;
  }
  
  // 初始化：从本地存储加载数据
  loadFromStorage();
  
  return {
    currentCategory,
    selectedFortune,
    isDrawing,
    isFortuneVisible,
    fortuneHistory,
    userLevel,
    totalDraws,
    userName,
    categoryData,
    fortuneLevels,
    fortuneTypeColor,
    userLevelInfo: computed(() => fortuneLevels[userLevel.value] || { name: '初级签文', description: '入门缘分测试' }),
    drawFortune,
    resetFortune,
    clearHistory,
    setCategory,
    analyzeNameFortune,
    analyzeZodiacCompatibility,
    zodiacData // 导出星座数据供组件使用
  };
}); 