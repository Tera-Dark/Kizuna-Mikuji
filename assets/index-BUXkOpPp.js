import{r as e,o as a,a as t,b as l,e as s,F as n,f as i,n as o,g as r,w as c,h as u,i as d,j as v,k as p,T as m,l as h,m as y,t as f,c as g,p as b,q as k,s as w,u as C,v as M,x as $,y as _,z as S,A as z,B as x,C as F,D,E as T}from"./vendor-CEHOZAV7.js";import{u as I}from"./fortune-data-CmZVA2hX.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const E=(e,a)=>{const t=e.__vccOpts||e;for(const[l,s]of a)t[l]=s;return t},L={id:"sakura-container-vue"},A={__name:"SakuraBackground",setup(c){const u=e([]);let d=null;const v=e=>({left:e.left+"vw",animationDuration:`${e.fallDuration}s, ${e.swayDuration}s`,animationDelay:`${e.fallDelay}s, ${e.swayDelay}s`,opacity:e.opacity,transform:`scale(${e.scale}) rotate(${e.rotation}deg)`,filter:`hue-rotate(${e.hue}deg)`}),p=()=>{const e=m()+Math.floor(10*Math.random()),a=["type1","type2","type3","type4","type5","type6"];u.value=[];for(let t=0;t<e;t++)u.value.push({type:a[Math.floor(Math.random()*a.length)],left:100*Math.random(),fallDuration:8*Math.random()+7,fallDelay:10*Math.random(),swayDuration:3*Math.random()+2,swayDelay:2*Math.random(),opacity:.5+.5*Math.random(),scale:.7+.6*Math.random(),rotation:360*Math.random(),hue:20*Math.random()-10})},m=()=>{const e=window.innerWidth;return e<480?15:e<768?25:e<1200?35:45},h=()=>{p()};return a((()=>{p(),(()=>{const e=(new Date).getMonth();let a=0;a=e>=2&&e<=4?0:e>=5&&e<=7?15:e>=8&&e<=10?30:-20,u.value.forEach((e=>{e.hue=a+20*Math.random()-10}))})(),window.addEventListener("resize",h),d=setInterval((()=>{(()=>{const e=["type1","type2","type3","type4","type5","type6"],a=Math.floor(3*Math.random())+1;for(let l=0;l<a;l++)u.value.push({type:e[Math.floor(Math.random()*e.length)],left:100*Math.random(),fallDuration:8*Math.random()+7,fallDelay:0,swayDuration:3*Math.random()+2,swayDelay:0,opacity:.5+.5*Math.random(),scale:.7+.6*Math.random(),rotation:360*Math.random(),hue:20*Math.random()-10});const t=m()+20;u.value.length>t&&(u.value=u.value.slice(u.value.length-t))})()}),1e4)})),t((()=>{window.removeEventListener("resize",h),d&&clearInterval(d)})),(e,a)=>(s(),l("div",L,[(s(!0),l(n,null,i(u.value,((e,a)=>(s(),l("div",{key:a,class:r(["sakura-petal",e.type]),style:o(v(e))},null,6)))),128))]))}},N=E(A,[["__scopeId","data-v-b6a6bf19"]]),H={__name:"RedThreadBackground",setup(r){const u=e(null),d=e([]),v=e([]);let p=null;const m=e(!1),h=e=>({left:`${e.left}%`,top:`${e.top}%`,transform:`rotate(${e.rotation}deg) scale(${e.scale})`,opacity:e.opacity,animationDelay:`${e.delay}s`,width:`${e.size}px`,height:`${e.size}px`,filter:`hue-rotate(${e.hue}deg) brightness(${e.brightness})`,animationDuration:`${e.duration}s, ${e.swayDuration}s`});c((()=>{const e=document.body.classList.contains("dark-theme");m.value=e,d.value.length>0&&y()}));const y=()=>{d.value.forEach((e=>{const a=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",t=(.5*Math.random()+.3).toFixed(2);e.element.style.borderColor=a+t+")",e.element.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*t})`:`0 0 8px rgba(238, 40, 40, ${.4*t})`})),v.value.forEach((e=>{e.brightness=m.value?1.2:1}))},f=()=>{if(!u.value)return;d.value.forEach((e=>{e.element&&e.element.parentNode&&e.element.parentNode.removeChild(e.element)})),d.value=[];const e=u.value.getBoundingClientRect(),{width:a,height:t}=e;for(let l=0;l<20;l++){const e=document.createElement("div");e.classList.add("thread"),l%5==0&&e.classList.add("thread-with-knot");const s=Math.random()*a,n=Math.random()*t,i=200*Math.random()+80,o=360*Math.random(),r=5*Math.random(),c=25*Math.random()+20;e.style.left=`${s}px`,e.style.top=`${n}px`,e.style.width=`${i}px`,e.style.transform=`rotate(${o}deg)`,e.style.animationDelay=`${r}s`,e.style.animationDuration=`${c}s`;const v=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",p=(.5*Math.random()+.3).toFixed(2);e.style.borderColor=v+p+")",e.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*p})`:`0 0 8px rgba(238, 40, 40, ${.4*p})`,u.value.appendChild(e),d.value.push({element:e,speed:.5*Math.random()+.1,angle:o})}},g=()=>{d.value.forEach((e=>{const a=parseFloat(e.element.style.top),t=parseFloat(e.element.style.left),l=a-e.speed,s=t+.5*Math.sin(.01*a);if(l<-100){const a=u.value,t=a.offsetWidth;e.element.style.top=`${a.offsetHeight+50}px`,e.element.style.left=Math.random()*t+"px";const l=360*Math.random();e.element.style.transform=`rotate(${l}deg)`,e.angle=l;const s=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",n=(.5*Math.random()+.3).toFixed(2);e.element.style.borderColor=s+n+")",e.element.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*n})`:`0 0 8px rgba(238, 40, 40, ${.4*n})`}else e.element.style.top=`${l}px`,e.element.style.left=`${s}px`;const n=e.angle,i=.2*(Math.random()-.5);e.angle=n+i,e.element.style.transform=`rotate(${e.angle}deg)`})),p=requestAnimationFrame(g)},b=()=>{f()};return a((()=>{f(),(()=>{v.value=[];for(let e=0;e<7;e++)v.value.push({id:e,left:95*Math.random(),top:95*Math.random(),rotation:30*Math.random()-15,scale:.6+.6*Math.random(),opacity:.5+.5*Math.random(),delay:5*Math.random(),size:20+15*Math.random(),hue:20*Math.random()-10,brightness:m.value?1.2:1,duration:15+10*Math.random(),swayDuration:5+5*Math.random()})})(),p=requestAnimationFrame(g),window.addEventListener("resize",b)})),t((()=>{p&&cancelAnimationFrame(p),window.removeEventListener("resize",b)})),(e,a)=>(s(),l("div",{id:"red-thread-container",ref_key:"threadContainer",ref:u},[(s(!0),l(n,null,i(v.value,(e=>(s(),l("div",{key:e.id,class:"bell-decoration",style:o(h(e))},null,4)))),128))],512))}},V=E(H,[["__scopeId","data-v-7afe1a45"]]),q={class:"fortune-header"},B={class:"central-content"},U={class:"logo-container"},O={key:0,class:"speech-bubble left"},P={key:0,class:"speech-bubble right"},R=u({__name:"Header",setup(e){const a=["不！准！随！便！冒犯神明——.mp3","缘分与意外其实是一样的——永远不知道会是哪个突然出现.mp3","世间之缘，又何止只属于有幸相守之人.mp3","纵使相隔时间与生死，也不曾真正分离，这才是缘分.mp3","未能传达的心意可无法感知.mp3","呜...呜啊~.mp3","不要惹我，我超凶的.mp3","我才不疼呢.mp3","再摸，再摸我可就要生气了.mp3","这世间竟有如此般配的二人.mp3","哼，可不要小看我了.mp3","我一定会给你带来幸福.mp3"],t=d({content:"",visible:!1,timerId:null}),n=d({content:"",visible:!1,timerId:null});let i=null;const o=()=>{i&&!i.paused&&(i.pause(),i.currentTime=0);const e=Math.floor(Math.random()*a.length),t=a[e];i=new Audio(`/sounds/缘结神语录合集/${t}`),i.play().catch((e=>{})),r(t)},r=e=>{const a=e.replace(".mp3",""),l="left"===(Math.random()>.5?"left":"right")?t:n;null!==l.timerId&&clearTimeout(l.timerId),l.content=a,l.visible=!0,l.timerId=window.setTimeout((()=>{l.visible=!1,l.timerId=null}),4e3)};return(e,a)=>(s(),l("header",q,[a[2]||(a[2]=v("div",{class:"header-decoration left-decoration"},null,-1)),v("div",B,[v("div",U,[v("img",{src:"/Kizuna-Mikuji/images/%E7%BC%98%E7%BB%93%E7%A5%9E%E5%A4%B4%E5%83%8F.png",alt:"缘结神头像",class:"header-logo",onClick:o}),p(m,{name:"bubble"},{default:h((()=>[t.visible?(s(),l("div",O,f(t.content),1)):y("",!0)])),_:1}),p(m,{name:"bubble"},{default:h((()=>[n.visible?(s(),l("div",P,f(n.content),1)):y("",!0)])),_:1})]),a[0]||(a[0]=v("h1",{class:"header-title"},"缘结良缘",-1)),a[1]||(a[1]=v("p",{class:"header-description"},"轻点结缘签，让缘结神为你指引今日的缘分吧！",-1))]),a[3]||(a[3]=v("div",{class:"header-decoration right-decoration"},null,-1))]))}}),K=E(R,[["__scopeId","data-v-28924d62"]]),j={class:"cylinder-sticks-container"},J={key:0,class:"particles-container"},Z=u({__name:"FortuneButton",props:{category:{type:String,default:"爱情缘分"},disabled:{type:Boolean,default:!1}},emits:["click","animation-start","animation-end","sound-error"],setup(a,{expose:t,emit:c}){const u=a,d=c,p=I(),m=e(!1),h=e(-1);g((()=>({"爱情缘分":"拖动铃铛或点击按钮，聆听爱情的声音","前世姻缘":"摇动铃铛，窥探前世的情缘密码","事业运势":"轻摇结缘铃，解读你的事业机遇","人际关系":"铃声悠扬，人际关系自然畅通","健康平安":"一铃一福，祈愿平安健康","姓名解析":"输入姓名，解读名字的秘密","姻缘配对":"填写双方姓名，测试你们的缘分","每日一签":"每日一摇，吉祥如意"}[u.category]||"拖动铃铛，聆听缘分的声音")));const f=async()=>{if(!m.value&&!u.disabled){m.value=!0,d("animation-start"),d("click"),h.value=2;try{k(),await new Promise((e=>setTimeout(e,2e3))),p.drawFortune()}catch(e){}finally{setTimeout((()=>{m.value=!1,h.value=-1,d("animation-end")}),800)}}},k=()=>{try{const e=new Audio("/sounds/wind-chime.mp3");e.volume=.7,e.play().catch((e=>{d("sound-error")}))}catch(e){d("sound-error")}};return t({drawFortune:f}),(e,a)=>(s(),l("div",{class:r(["onmyoji-button-container",{drawing:m.value}])},[v("div",{class:r(["fortune-cylinder",{disabled:m.value||u.disabled,"drawing-animation":m.value}]),onClick:f,role:"button",tabindex:"0",onKeydown:[b(f,["enter"]),b(f,["space"])]},[a[5]||(a[5]=v("div",{class:"cylinder-top-rim"},null,-1)),v("div",j,[v("div",{class:r(["stick stick-1",{"is-drawn":0===h.value&&m.value}])},a[0]||(a[0]=[v("div",{class:"stick-top-red"},null,-1)]),2),v("div",{class:r(["stick stick-2",{"is-drawn":1===h.value&&m.value}])},a[1]||(a[1]=[v("div",{class:"stick-top-red"},null,-1)]),2),v("div",{class:r(["stick stick-3",{"is-drawn":2===h.value&&m.value}])},a[2]||(a[2]=[v("div",{class:"stick-top-red"},null,-1)]),2),v("div",{class:r(["stick stick-4",{"is-drawn":3===h.value&&m.value}])},a[3]||(a[3]=[v("div",{class:"stick-top-red"},null,-1)]),2),v("div",{class:r(["stick stick-5",{"is-drawn":4===h.value&&m.value}])},a[4]||(a[4]=[v("div",{class:"stick-top-red"},null,-1)]),2)]),a[6]||(a[6]=v("div",{class:"cylinder-body"},[v("div",{class:"cylinder-text-background"},[v("span",{class:"cylinder-text"},"签")])],-1)),a[7]||(a[7]=v("div",{class:"cylinder-bottom-rim"},null,-1))],34),m.value?(s(),l("div",J,[(s(),l(n,null,i(12,(e=>{return v("div",{key:e,class:"particle",style:o((a=e,{"--angle":a/12*Math.PI*2+"rad","--delay":a%5*.1+"s","--size":8*Math.random()+4+"px","--distance":60*Math.random()+40+"px","--hue":30*a%360+"deg"}))},null,4);var a})),64))])):y("",!0)],2))}}),Y=E(Z,[["__scopeId","data-v-c58ee122"]]),W={key:0,class:"zodiac-result-badge"},G={key:1,class:"fortune-level"},Q={class:"level-badge reveal-item"},X={key:0,class:"special-badge reveal-item"},ee={key:2,class:"zodiac-info"},ae={class:"zodiac-pair"},te={class:"zodiac-icon"},le={class:"zodiac-name"},se={class:"compatibility-meter"},ne={class:"hearts-container"},ie={class:"compatibility-label"},oe={class:"zodiac-pair"},re={class:"zodiac-icon"},ce={class:"zodiac-name"},ue={class:"fortune-card"},de=["innerHTML"],ve=["innerHTML"],pe={class:"fortune-suggestion reveal-item"},me=u({__name:"FortuneResult",props:{fortune:{type:Object,required:!0},typeColor:{type:String,default:"#e74c3c"}},emits:["drawAgain"],setup(e){const t=I(),c=e,u=g((()=>c.fortune&&c.fortune.sign1&&c.fortune.sign2));k((()=>t.selectedFortune),(e=>{e&&e.sign1&&e.sign2})),a((()=>{}));const d=e=>({1:"有挑战",2:"需磨合",3:"一般匹配",4:"较为合适",5:"天作之合"}[e]||"缘分未知");function p(e){return{"白羊座":"♈","金牛座":"♉","双子座":"♊","巨蟹座":"♋","狮子座":"♌","处女座":"♍","天秤座":"♎","天蝎座":"♏","射手座":"♐","摩羯座":"♑","水瓶座":"♒","双鱼座":"♓"}[e]||"⭐"}return(a,c)=>{return s(),l("div",{class:r(["fortune-result",{visible:C(t).isFortuneVisible,"zodiac-result":u.value}])},[u.value?(s(),l("div",W,c[1]||(c[1]=[v("span",null,"⭐ 星座配对结果 ⭐",-1)]))):y("",!0),e.fortune.level?(s(),l("div",G,[v("span",Q,f((m=e.fortune.level,(null==(h=t.fortuneLevels[m])?void 0:h.name)||"普通签文")),1),e.fortune.isSpecial?(s(),l("span",X,"缘分转机")):y("",!0)])):y("",!0),u.value?(s(),l("div",ee,[v("div",ae,[v("div",te,f(p(e.fortune.sign1)),1),v("div",le,f(e.fortune.sign1),1)]),v("div",se,[v("div",ne,[(s(),l(n,null,i(5,(a=>v("span",{key:a,class:r(["heart",{filled:a<=(e.fortune.compatibility||0)}])},"❤",2))),64))]),v("div",ie,f(d(e.fortune.compatibility)),1)]),v("div",oe,[v("div",re,f(p(e.fortune.sign2)),1),v("div",ce,f(e.fortune.sign2),1)])])):y("",!0),v("div",ue,[c[3]||(c[3]=v("div",{class:"scroll-top"},null,-1)),c[4]||(c[4]=v("div",{class:"scroll-bottom"},null,-1)),c[5]||(c[5]=v("div",{class:"light-effect"},null,-1)),v("div",{class:"fortune-type reveal-item",style:o({backgroundColor:e.typeColor})},f(e.fortune.type),5),v("div",{class:"fortune-poem reveal-item",innerHTML:e.fortune.poem},null,8,de),v("div",{class:"fortune-interpretation reveal-item",innerHTML:e.fortune.interpretation},null,8,ve),v("div",pe,[c[2]||(c[2]=v("span",{class:"suggestion-label"},"【签语】",-1)),w(" "+f(e.fortune.suggestion),1)])]),v("button",{class:"draw-again-btn reveal-item",onClick:c[0]||(c[0]=e=>a.$emit("drawAgain"))},"再求一签")],2);var m,h}}}),he=E(me,[["__scopeId","data-v-c772ce65"]]),ye={class:"fortune-footer"},fe={class:"footer-content"},ge={class:"social-links"},be=u({__name:"Footer",setup(e){const a=e=>{const a=window.location.href;if("wechat"===e)alert("请截图或复制链接，分享给微信好友：\n"+a);else if("weibo"===e){const e=`http://service.weibo.com/share/share.php?url=${encodeURIComponent(a)}&title=${encodeURIComponent("我在'缘结良缘'求了一支签，快来一起体验缘分的奇妙吧！")}`;window.open(e,"_blank")}};return(e,t)=>(s(),l("footer",ye,[t[6]||(t[6]=v("div",{class:"footer-decoration"},null,-1)),v("div",fe,[t[4]||(t[4]=v("p",{class:"main-text"},"本占卜仅供娱乐，愿天下有情人终成眷属！",-1)),t[5]||(t[5]=v("p",{class:"sub-text"},[v("small",null,"背景图片来源：阴阳师官方美术")],-1)),v("div",ge,[v("a",{href:"#",class:"social-link",title:"分享到微信",onClick:t[0]||(t[0]=M((e=>a("wechat")),["prevent"]))},t[2]||(t[2]=[v("span",{class:"social-icon"},"💬",-1)])),v("a",{href:"#",class:"social-link",title:"分享到微博",onClick:t[1]||(t[1]=M((e=>a("weibo")),["prevent"]))},t[3]||(t[3]=[v("span",{class:"social-icon"},"🔖",-1)]))])]),t[7]||(t[7]=v("div",{class:"stamp-decoration"},null,-1))]))}}),ke=E(be,[["__scopeId","data-v-bf6aa1e5"]]),we={class:"history-content"},Ce={key:0,class:"empty-history"},Me={key:1,class:"history-list"},$e=["onClick"],_e={class:"history-date"},Se={class:"expand-icon"},ze={key:0,class:"history-item-details"},xe=["innerHTML"],Fe={class:"action-buttons"},De=["onClick"],Te=["onClick"],Ie={key:2,class:"history-actions"},Ee=E(u({__name:"FortuneHistory",setup(t,{expose:c}){const u=I(),d=e(!1),p=e([]),m=e(-1),h=e=>{const a=new Date(e);return`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")} ${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`},g=()=>{localStorage.setItem("fortuneHistory",JSON.stringify(p.value))},b=()=>{confirm("确定要清空所有历史记录吗？")&&(p.value=[],m.value=-1,g())};return c({toggleHistory:()=>{d.value=!d.value},addCurrentFortuneToHistory:()=>{var e;u.selectedFortune&&u.isFortuneVisible&&(e=u.selectedFortune,p.value.unshift({date:(new Date).toISOString(),fortune:e}),p.value.length>20&&(p.value=p.value.slice(0,20)),g())}}),a((()=>{(()=>{const e=localStorage.getItem("fortuneHistory");e&&(p.value=JSON.parse(e))})()})),(e,a)=>(s(),l("div",{class:r(["history-container",{"history-open":d.value}])},[v("div",we,[a[4]||(a[4]=v("h3",{class:"history-title"},"抽签历史",-1)),0===p.value.length?(s(),l("div",Ce,a[0]||(a[0]=[v("div",{class:"empty-icon"},"📜",-1),v("p",null,"暂无历史记录",-1),v("p",{class:"empty-tip"},"每次求签后的结果都会记录在这里",-1)]))):(s(),l("div",Me,[(s(!0),l(n,null,i(p.value,((e,t)=>{return s(),l("div",{key:t,class:r(["history-item",{expanded:m.value===t}])},[v("div",{class:"history-item-header",onClick:e=>(e=>{m.value=m.value===e?-1:e})(t)},[v("span",_e,f(h(e.date)),1),v("span",{class:"history-type",style:o({color:(n=e.fortune.type,{"上上大吉":"#ff4757","大吉":"#e74c3c","缘初现":"#ff6b81","中吉":"#f39c12","惜当下":"#2ecc71","小吉":"#2ecc71","吉":"#55efc4","小确幸":"#fdcb6e","待花开":"#00b894","末吉":"#3498db","化解结":"#74b9ff","孤芳赏":"#a29bfe","结善缘":"#6c5ce7","迷雾散":"#ffeaa7","修行时":"#81ecec","再回首":"#fab1a0","小凶":"#9b59b6","莫强求":"#e17055","清心咒":"#00cec9","大凶警示":"#485460"}[n]||"#c0392b")})},f(e.fortune.type),5),v("span",Se,f(m.value===t?"▲":"▼"),1)],8,$e),m.value===t?(s(),l("div",ze,[v("p",{class:"history-poem",innerHTML:e.fortune.poem},null,8,xe),v("div",Fe,[v("button",{class:"view-button",onClick:a=>{return t=e.fortune,u.selectedFortune=t,u.isFortuneVisible=!0,void(d.value=!1);var t}},a[1]||(a[1]=[v("span",{class:"btn-icon"},"👁️",-1),w("查看详情 ")]),8,De),v("button",{class:"delete-button",onClick:M((e=>(e=>{p.value.splice(e,1),m.value=-1,g()})(t)),["stop"])},a[2]||(a[2]=[v("span",{class:"btn-icon"},"🗑️",-1),w("删除 ")]),8,Te)])])):y("",!0)],2);var n})),128))])),p.value.length>0?(s(),l("div",Ie,[v("button",{class:"clear-button",onClick:b},a[3]||(a[3]=[v("span",{class:"btn-icon"},"🧹",-1),w("清空历史 ")]))])):y("",!0)]),a[5]||(a[5]=v("div",{class:"decoration-element top-left"},null,-1)),a[6]||(a[6]=v("div",{class:"decoration-element top-right"},null,-1)),a[7]||(a[7]=v("div",{class:"decoration-element bottom-left"},null,-1)),a[8]||(a[8]=v("div",{class:"decoration-element bottom-right"},null,-1))],2))}}),[["__scopeId","data-v-d6db1756"]]),Le={class:"category-selector"},Ae={class:"categories-grid"},Ne=["onClick"],He={class:"category-inner"},Ve={class:"category-icon"},qe={class:"category-content"},Be={class:"category-name"},Ue={class:"category-desc"},Oe=E({__name:"CategorySelector",props:{selectedCategory:{type:String,default:"每日一签"}},emits:["category-change"],setup(e,{emit:a}){_((e=>({b0cc70b2:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='80' viewBox='0 0 100 80'%3E%3Cpath d='M0,10 C30,30 70,0 100,20 L100,80 L0,80 Z' fill='%23f5f0e6'/%3E%3Cpath d='M0,30 C30,50 70,20 100,40 L100,80 L0,80 Z' fill='%23f0e8d8' opacity='0.7'/%3E%3Cpath d='M0,50 C30,70 70,40 100,60 L100,80 L0,80 Z' fill='%23ebe1cc' opacity='0.5'/%3E%3C/svg%3E","5ee87e9f":"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='noise' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='matrix' values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.5 0' /%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.15'/%3E%3C/svg%3E"})));const t=a,o=I(),c=[{id:"daily",value:"每日一签",icon:"🎯",description:"今日运势与贵人指引"},{id:"love",value:"爱情缘分",icon:"❤️",description:"洞悉你的爱情状态与未来发展"},{id:"past_life",value:"前世姻缘",icon:"🔮",description:"探寻你与TA的前世情缘"},{id:"career",value:"事业运势",icon:"💼",description:"预测你的职场发展与财富机遇"},{id:"relationship",value:"人际关系",icon:"👥",description:"分析你的社交圈与人际状况"},{id:"health",value:"健康平安",icon:"🍀",description:"关注你的身心健康与平安指数"},{id:"name",value:"姓名解析",icon:"📝",description:"解读你的名字中隐藏的天机"},{id:"zodiac",value:"星座配对",icon:"⭐",description:"看看你们的星座是否相配"},{id:"couple",value:"姻缘配对",icon:"💕",description:"测试你与TA的契合度与缘分指数"},{id:"destiny_ball",value:"缘分球",icon:"🔮",description:"摇一摇，获取爱情即时提示"}],u=g((()=>c.filter((e=>"每日一签"!==e.value)))),d=e=>{const a=c.find((a=>a.value===e));a&&(o.setCategory(a.id),t("category-change",e))};return(a,t)=>(s(),l("div",Le,[t[2]||(t[2]=v("div",{class:"category-title"},[v("span",{class:"title-decoration left"}),w(" 请选择签文类型 "),v("span",{class:"title-decoration right"})],-1)),v("div",Ae,[v("div",{class:r(["daily-fortune-item",{active:"每日一签"===e.selectedCategory}]),onClick:t[0]||(t[0]=e=>d("每日一签"))},t[1]||(t[1]=[$('<div class="daily-fortune-inner" data-v-4b376d60><div class="daily-fortune-icon" data-v-4b376d60>🎯</div><div class="daily-fortune-content" data-v-4b376d60><div class="daily-fortune-name" data-v-4b376d60>每日一签</div><div class="daily-fortune-desc" data-v-4b376d60>今日运势与贵人指引</div></div><div class="recommended-badge" data-v-4b376d60>推荐</div></div>',1)]),2),(s(!0),l(n,null,i(u.value,(a=>(s(),l("div",{key:a.value,class:r(["category-item",{active:e.selectedCategory===a.value}]),onClick:e=>d(a.value)},[v("div",He,[v("div",Ve,f(a.icon),1),v("div",qe,[v("div",Be,f(a.value),1),v("div",Ue,f(a.description),1)])])],10,Ne)))),128))])]))}},[["__scopeId","data-v-4b376d60"]]),Pe={class:"couple-fortune-container"},Re={key:0,class:"couple-intro"},Ke={key:1,class:"partner-input"},je={class:"input-group"},Je={class:"input-group"},Ze={class:"date-select-container"},Ye=["value"],We=["value"],Ge=["value"],Qe={class:"input-group"},Xe={class:"input-group"},ea={class:"date-select-container"},aa=["value"],ta=["value"],la=["value"],sa={key:2,class:"couple-result"},na={class:"compatibility-meter"},ia={class:"meter-value"},oa={class:"meter-bar"},ra={class:"result-content"},ca={class:"result-description"},ua={class:"result-advice"},da=E({__name:"CoupleFortuneDrawing",setup(a){const t=I(),r=e(""),c=e(""),u=e(""),p=e(""),m=e(!1),h=d({compatibility:0,title:"",description:"",advice:""}),g=e(""),b=e(""),k=e(""),w=e(""),M=e(""),$=e(""),_=(new Date).getFullYear(),F=Array.from({length:_-1949},((e,a)=>_-a)),D=Array.from({length:12},((e,a)=>a+1)),T=(e,a)=>{if(!e||!a)return Array.from({length:31},((e,a)=>a+1));const t=new Date(e,a,0).getDate();return Array.from({length:t},((e,a)=>a+1))},E=()=>{g.value&&b.value&&k.value&&(c.value=`${g.value}-${b.value.toString().padStart(2,"0")}-${k.value.toString().padStart(2,"0")}`),w.value&&M.value&&$.value&&(p.value=`${w.value}-${M.value.toString().padStart(2,"0")}-${$.value.toString().padStart(2,"0")}`)},L=()=>{m.value=!m.value,m.value||(h.title="")},A=()=>{if(!(r.value&&c.value&&u.value&&p.value))return void alert("请完整填写双方信息");const e=(()=>{if(!(r.value&&c.value&&u.value&&p.value))return 0;const e=new Date(c.value),a=new Date(p.value),t=(e.getDate()+e.getMonth()+1)*(a.getDate()+a.getMonth()+1)%40+60,l=(r.value.length+u.value.length)%5;return Math.min(99,t+l)})();h.compatibility=e,e>=90?(h.title="天作之合",h.description="你们是天生一对，缘分深厚，心有灵犀。彼此理解与包容，能够共同成长。",h.advice="珍惜这段难得的缘分，相互扶持，共创美好未来。"):e>=80?(h.title="良缘佳偶",h.description="你们的缘分深厚，性格互补，在一起能激发彼此的最佳状态。",h.advice="在生活的点滴中增进了解，用心经营这段感情。"):e>=70?(h.title="相濡以沫",h.description="你们的关系需要用心经营，但只要共同努力，定能走得长远。",h.advice="多沟通、多理解，学会欣赏彼此的不同。"):(h.title="缘分考验",h.description="你们之间存在不少挑战，需要更多的包容与妥协。",h.advice="学会换位思考，尊重对方的不同，或许能发现意想不到的契合点。"),t.saveToHistory({type:"双人合卦",date:(new Date).toLocaleDateString(),result:`${h.title} (${h.compatibility}分)`,user:r.value,partner:u.value})};return(e,a)=>(s(),l("div",Pe,[m.value?y("",!0):(s(),l("div",Re,[a[8]||(a[8]=v("h3",null,"双人姻缘合卦",-1)),a[9]||(a[9]=v("p",null,"天赐良缘，姻缘天定。与心上人一起测算你们的缘分指数吧！",-1)),v("button",{class:"start-couple-btn",onClick:L},"开始双人抽签")])),m.value&&!h.title?(s(),l("div",Ke,[a[20]||(a[20]=v("h3",null,"请输入双方信息",-1)),v("div",je,[a[10]||(a[10]=v("label",null,"您的姓名：",-1)),S(v("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),placeholder:"请输入您的姓名"},null,512),[[z,r.value]])]),v("div",Je,[a[14]||(a[14]=v("label",null,"您的生日：",-1)),v("div",Ze,[S(v("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),class:"date-select year-select",onChange:E},[a[11]||(a[11]=v("option",{value:"",disabled:"",selected:""},"年",-1)),(s(!0),l(n,null,i(C(F),(e=>(s(),l("option",{key:`user-year-${e}`,value:e},f(e)+"年",9,Ye)))),128))],544),[[x,g.value]]),S(v("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>b.value=e),class:"date-select month-select",onChange:E},[a[12]||(a[12]=v("option",{value:"",disabled:"",selected:""},"月",-1)),(s(!0),l(n,null,i(C(D),(e=>(s(),l("option",{key:`user-month-${e}`,value:e},f(e)+"月",9,We)))),128))],544),[[x,b.value]]),S(v("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>k.value=e),class:"date-select day-select",onChange:E},[a[13]||(a[13]=v("option",{value:"",disabled:"",selected:""},"日",-1)),(s(!0),l(n,null,i(T(g.value,b.value),(e=>(s(),l("option",{key:`user-day-${e}`,value:e},f(e)+"日",9,Ge)))),128))],544),[[x,k.value]])])]),a[21]||(a[21]=v("div",{class:"input-separator"},null,-1)),v("div",Qe,[a[15]||(a[15]=v("label",null,"对方姓名：",-1)),S(v("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>u.value=e),placeholder:"请输入对方姓名"},null,512),[[z,u.value]])]),v("div",Xe,[a[19]||(a[19]=v("label",null,"对方生日：",-1)),v("div",ea,[S(v("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>w.value=e),class:"date-select year-select",onChange:E},[a[16]||(a[16]=v("option",{value:"",disabled:"",selected:""},"年",-1)),(s(!0),l(n,null,i(C(F),(e=>(s(),l("option",{key:`partner-year-${e}`,value:e},f(e)+"年",9,aa)))),128))],544),[[x,w.value]]),S(v("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>M.value=e),class:"date-select month-select",onChange:E},[a[17]||(a[17]=v("option",{value:"",disabled:"",selected:""},"月",-1)),(s(!0),l(n,null,i(C(D),(e=>(s(),l("option",{key:`partner-month-${e}`,value:e},f(e)+"月",9,ta)))),128))],544),[[x,M.value]]),S(v("select",{"onUpdate:modelValue":a[7]||(a[7]=e=>$.value=e),class:"date-select day-select",onChange:E},[a[18]||(a[18]=v("option",{value:"",disabled:"",selected:""},"日",-1)),(s(!0),l(n,null,i(T(w.value,M.value),(e=>(s(),l("option",{key:`partner-day-${e}`,value:e},f(e)+"日",9,la)))),128))],544),[[x,$.value]])])]),v("div",{class:"couple-buttons"},[v("button",{class:"cancel-btn",onClick:L},"取消"),v("button",{class:"draw-btn",onClick:A},"测算缘分")])])):y("",!0),h.title?(s(),l("div",sa,[v("div",na,[a[22]||(a[22]=v("div",{class:"meter-title"},"缘分指数",-1)),v("div",ia,f(h.compatibility)+"%",1),v("div",oa,[v("div",{class:"meter-fill",style:o({width:h.compatibility+"%"})},null,4)])]),v("div",ra,[v("h3",null,f(h.title),1),v("p",ca,f(h.description),1),v("p",ua,"【缘分建议】"+f(h.advice),1)]),v("button",{class:"try-again-btn",onClick:L},"重新测算")])):y("",!0)]))}},[["__scopeId","data-v-4b2f203f"]]),va={class:"name-fortune-container"},pa={key:0,class:"name-fortune-intro"},ma={class:"name-input-area"},ha={class:"input-counter"},ya=["disabled"],fa={class:"mystic-elements"},ga={key:1,class:"name-result-container"},ba={class:"result-header"},ka={class:"result-title"},wa={class:"name-fortune-type"},Ca={class:"name-character-analysis"},Ma={class:"character-container"},$a=["onMouseover"],_a={class:"character"},Sa={key:0,class:"character-details"},za={class:"detail-content"},xa={class:"detail-title"},Fa={class:"detail-description"},Da={class:"name-fortune-poem"},Ta=["innerHTML"],Ia={class:"name-fortune-interpretation"},Ea={class:"name-personalized-result"},La={class:"personalized-details"},Aa={class:"detail-item"},Na={class:"detail-value"},Ha={class:"detail-item"},Va={class:"luck-meter"},qa={class:"luck-bar"},Ba={class:"luck-number"},Ua={class:"detail-item"},Oa={class:"detail-value color-value"},Pa={class:"detail-item"},Ra={class:"detail-value"},Ka={class:"detail-item"},ja={class:"detail-value"},Ja={class:"personalized-description"},Za={class:"five-elements-analysis"},Ya={class:"elements-chart"},Wa={class:"element-name"},Ga={class:"element-value-container"},Qa={class:"element-percentage"},Xa={class:"elements-description"},et={class:"name-fortune-suggestion"},at={class:"fortune-tips"},tt={class:"fortune-do"},lt={class:"fortune-dont"},st=E({__name:"NameFortune",setup(a){const t=I(),c=e(""),u=e(!1),d=e(-1),p=["✧","✦","❂","☯","☽","☾","⚝","✴","⚚","⚛"],m=g((()=>t.userName?[...t.userName]:[]));function h(){c.value.trim()&&(t.analyzeNameFortune(c.value),u.value=!0)}function k(){c.value="",t.resetFortune(),u.value=!1}function M(){t.saveToHistory()}function $(e){return{"王":{trait:"坚强威严",description:"有决断力，领导能力强，人缘好"},"李":{trait:"智慧聪颖",description:"心思活络，有才智，受人欣赏"},"张":{trait:"开拓进取",description:"有冒险精神，创造力强，勇于拼搏"},"刘":{trait:"温和包容",description:"为人随和，重情重义，善解人意"},"陈":{trait:"稳重踏实",description:"做事可靠，脚踏实地，深思熟虑"},"杨":{trait:"阳光乐观",description:"性格开朗，积极向上，充满活力"},"赵":{trait:"机智灵活",description:"反应敏捷，随机应变，善于交际"},"黄":{trait:"光明正直",description:"为人光明磊落，公正无私，忠诚可靠"},"周":{trait:"周全细致",description:"做事周到，关心他人，处事圆融"},"吴":{trait:"沉稳内敛",description:"深沉内敛，有智慧，不张扬"},"徐":{trait:"文雅高尚",description:"气质高雅，行事文明，追求品质"},"孙":{trait:"亲和温暖",description:"天性善良，待人诚恳，心地柔软"},"马":{trait:"奔放自由",description:"性格奔放，追求自由，活力四射"},"朱":{trait:"热情真挚",description:"感情丰富，真诚待人，热情如火"},"胡":{trait:"独立自主",description:"独立自主，有主见，不随波逐流"},"郭":{trait:"志向远大",description:"抱负不凡，目标明确，进取心强"},"何":{trait:"随和宽容",description:"心胸宽广，随和宜处，大度仁慈"},"林":{trait:"坚韧茂盛",description:"生命力旺盛，坚韧不拔，志向高远"},"高":{trait:"品德高尚",description:"志向高远，品格高尚，自尊自爱"},"罗":{trait:"缜密严谨",description:"思维缜密，做事严谨，不失分寸"}}[e]||{trait:"神秘内涵",description:"这个字蕴含着独特的能量，彰显个性魅力"}}function _(){const e=t.userName;if(!e)return"7";let a=0;for(let t=0;t<e.length;t++)a+=e.charCodeAt(t);return a%9+1}function x(){const e=["东","南","西","北","东南","西南","东北","西北"],a=t.userName;if(!a)return"东南";return e[a.length%e.length]}function F(){const e=t.userName;if(!e)return[];let a=0,l=0,s=0,n=0,i=0;for(let t=0;t<e.length;t++){const o=e.charCodeAt(t);o%5==0?a+=20:o%5==1?l+=20:o%5==2?s+=20:o%5==3?n+=20:i+=20}const o=100/(a+l+s+n+i);return[{name:"金",value:Math.round(a*o),color:"#FFD700"},{name:"木",value:Math.round(l*o),color:"#2ECC71"},{name:"水",value:Math.round(s*o),color:"#3498DB"},{name:"火",value:Math.round(n*o),color:"#E74C3C"},{name:"土",value:Math.round(i*o),color:"#E67E22"}]}function D(){const e=F();let a=e[0];for(let t=1;t<e.length;t++)e[t].value>a.value&&(a=e[t]);return{"金":"您的名字五行属金较重，性格坚定，做事有原则，注重荣誉，适合从事金融、法律等需要条理性的工作。感情上追求稳定与承诺。","木":"您的名字五行属木较重，性格温和，富有爱心，有同情心，适合从事教育、医疗等服务性工作。感情上富有包容心，懂得尊重与关怀。","水":"您的名字五行属水较重，性格灵活，思维敏捷，有智慧，适合从事艺术、创意等需要灵感的工作。感情上追求自由与深度交流。","火":"您的名字五行属火较重，性格热情，充满活力，乐观向上，适合从事销售、表演等需要魅力的工作。感情上热烈而真诚，富有激情。","土":"您的名字五行属土较重，性格稳重，做事踏实，重视责任，适合从事管理、建筑等需要耐心的工作。感情上注重承诺与家庭。"}[a.name]||"您的名字五行均衡，各方面发展较为全面，适应力强，在不同领域都有发展潜力。"}function T(){const e=["表白心意","送礼物","交友聚会","旅行出游","购物消费","约会相亲","学习进修","签订合同","观看电影","沟通交流","整理居家","投资理财","发表创意","运动健身","美食品尝","冥想放松"],a=Math.floor(3*Math.random())+3,t=[],l=new Set;for(;l.size<a;){const a=Math.floor(Math.random()*e.length);l.has(a)||(l.add(a),t.push(e[a]))}return t}function E(){const e=["冲动消费","轻信他人","草率决定","言语冲突","过度劳累","情绪宣泄","熬夜加班","冒险行为","过度饮食","重大决策","签署协议","借贷行为","激烈争论","独处过久","社交媒体","沉迷游戏"],a=Math.floor(3*Math.random())+2,t=[],l=new Set;for(;l.size<a;){const a=Math.floor(Math.random()*e.length);l.has(a)||(l.add(a),t.push(e[a]))}return t}return(e,a)=>(s(),l("div",va,[u.value?y("",!0):(s(),l("div",pa,[a[2]||(a[2]=v("h3",{class:"intro-title"},"姓名缘分解析",-1)),a[3]||(a[3]=v("p",{class:"intro-text"},[w(" 请输入您的姓名，我们将根据传统姓名学为您解析隐藏在名字中的缘分密码。 "),v("span",{class:"intro-note"},"（仅供娱乐，请勿当真）")],-1)),v("div",ma,[S(v("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),placeholder:"请输入您的姓名",class:"name-input",maxlength:20,onKeyup:b(h,["enter"])},null,544),[[z,c.value]]),v("div",ha,f(c.value.length)+"/20",1),v("button",{onClick:h,class:"analyze-button",disabled:!c.value.trim()}," 解析姓名 ",8,ya)]),v("div",fa,[(s(),l(n,null,i(p,((e,a)=>v("div",{class:"mystic-symbol",key:a},f(e),1))),64))])])),u.value?(s(),l("div",ga,[v("div",ba,[v("h3",ka,"「"+f(C(t).userName)+"」的姓名缘分",1),v("div",wa,[v("span",{class:"fortune-type-badge",style:o({backgroundColor:C(t).fortuneTypeColor})},f(C(t).selectedFortune.type),5)])]),v("div",Ca,[a[5]||(a[5]=v("h4",null,"字符解读：",-1)),v("div",Ma,[(s(!0),l(n,null,i(m.value,((e,t)=>(s(),l("div",{key:t,class:r(["character-item",{active:d.value===t}]),onMouseover:e=>function(e){d.value=e}(t),onMouseleave:a[1]||(a[1]=e=>d.value=-1)},[v("div",_a,f(e),1),d.value===t?(s(),l("div",Sa,[a[4]||(a[4]=v("div",{class:"detail-arrow"},null,-1)),v("div",za,[v("div",xa,f($(e).trait),1),v("div",Fa,f($(e).description),1)])])):y("",!0)],42,$a)))),128))])]),v("div",Da,[v("p",{innerHTML:C(t).selectedFortune.poem},null,8,Ta)]),v("div",Ia,[a[6]||(a[6]=v("h4",null,"姓名解析：",-1)),v("p",null,f(C(t).selectedFortune.interpretation),1)]),v("div",Ea,[a[13]||(a[13]=v("h4",null,"个性化分析：",-1)),v("div",La,[v("div",Aa,[a[7]||(a[7]=v("span",{class:"detail-label"},"性格特质：",-1)),v("span",Na,f(C(t).selectedFortune.personalized.personality),1)]),v("div",Ha,[a[8]||(a[8]=v("span",{class:"detail-label"},"缘分指数：",-1)),v("div",Va,[v("div",qa,[v("div",{class:"luck-value",style:o({width:`${C(t).selectedFortune.personalized.luckNumber}%`})},null,4)]),v("span",Ba,f(C(t).selectedFortune.personalized.luckNumber)+"/100",1)])]),v("div",Ua,[a[9]||(a[9]=v("span",{class:"detail-label"},"幸运颜色：",-1)),v("span",Oa,[v("span",{class:"color-dot",style:o({backgroundColor:C(t).selectedFortune.personalized.luckColor})},null,4),w(" "+f(C(t).selectedFortune.personalized.luckColor),1)])]),v("div",Pa,[a[10]||(a[10]=v("span",{class:"detail-label"},"幸运数字：",-1)),v("span",Ra,f(_()),1)]),v("div",Ka,[a[11]||(a[11]=v("span",{class:"detail-label"},"幸运方位：",-1)),v("span",ja,f(x()),1)])]),v("p",Ja,f(C(t).selectedFortune.personalized.description),1),v("div",Za,[a[12]||(a[12]=v("h5",null,"五行分析：",-1)),v("div",Ya,[(s(!0),l(n,null,i(F(),((e,a)=>(s(),l("div",{key:a,class:"element-bar"},[v("div",Wa,f(e.name),1),v("div",Ga,[v("div",{class:"element-value",style:o({height:`${e.value}%`,backgroundColor:e.color})},null,4)]),v("div",Qa,f(e.value)+"%",1)])))),128))]),v("p",Xa,f(D()),1)])]),v("div",et,[a[16]||(a[16]=v("h4",null,"缘分建议：",-1)),v("p",null,f(C(t).selectedFortune.suggestion),1),v("div",at,[v("div",tt,[a[14]||(a[14]=v("h5",null,"今日宜",-1)),v("ul",null,[(s(!0),l(n,null,i(T(),((e,a)=>(s(),l("li",{key:`do-${a}`},f(e),1)))),128))])]),v("div",lt,[a[15]||(a[15]=v("h5",null,"今日忌",-1)),v("ul",null,[(s(!0),l(n,null,i(E(),((e,a)=>(s(),l("li",{key:`dont-${a}`},f(e),1)))),128))])])])]),v("div",{class:"name-fortune-actions"},[v("button",{onClick:k,class:"reset-button"},"重新分析"),v("button",{onClick:M,class:"save-button"},"保存结果")])])):y("",!0)]))}},[["__scopeId","data-v-157416cb"]]),nt={class:"zodiac-compatibility-container"},it={class:"zodiac-selection"},ot={class:"zodiac-selection-side"},rt={class:"zodiac-grid"},ct=["onClick"],ut={class:"zodiac-icon"},dt={class:"zodiac-name"},vt={class:"zodiac-dates"},pt={key:0,class:"zodiac-detail"},mt={class:"zodiac-traits"},ht={class:"trait-item"},yt={class:"trait-value"},ft={class:"trait-item"},gt={class:"trait-value"},bt={class:"versus-container"},kt={key:0,class:"compatibility-indicator"},wt={class:"zodiac-selection-side"},Ct={class:"zodiac-grid"},Mt=["onClick"],$t={class:"zodiac-icon"},_t={class:"zodiac-name"},St={class:"zodiac-dates"},zt={key:0,class:"zodiac-detail"},xt={class:"zodiac-traits"},Ft={class:"trait-item"},Dt={class:"trait-value"},Tt={class:"trait-item"},It={class:"trait-value"},Et={key:0,class:"quick-compatibility"},Lt={class:"compatibility-meter"},At={class:"compatibility-text"},Nt={class:"analyze-button-container"},Ht=["disabled"],Vt={key:0,class:"result-hint"},qt={key:1,class:"result-indicator"},Bt={class:"zodiac-explanation"},Ut={class:"elements-grid"},Ot={class:"element-name"},Pt={class:"element-desc"},Rt=E({__name:"ZodiacCompatibility",setup(a){const t=I(),{zodiacData:c,analyzeZodiacCompatibility:u}=t,d=e(""),p=e(""),m=e(!1),h=e(!1),g={fire:"热情、活力、创造力、直觉",earth:"务实、稳定、忠诚、耐心",air:"思想、沟通、社交、灵活",water:"情感、敏感、同理心、直觉"},b={fire:{fire:90,earth:60,air:80,water:40},earth:{fire:60,earth:85,air:50,water:90},air:{fire:80,earth:50,air:85,water:70},water:{fire:40,earth:90,air:70,water:95}};function k(e){return{aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpio:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓"}[e]||"⭐"}function w(e){return{fire:"🔥",earth:"🌱",air:"💨",water:"💧"}[e]||"✨"}function M(e){return{fire:"火象",earth:"土象",air:"风象",water:"水象"}[e]||"未知"}function $(e){return{aries:"热情、勇敢、冲动",taurus:"踏实、固执、享乐",gemini:"机智、多变、好奇",cancer:"敏感、情绪化、富有同情心",leo:"自信、慷慨、戏剧化",virgo:"细致、挑剔、实用",libra:"平衡、社交、优雅",scorpio:"热情、神秘、占有欲强",sagittarius:"自由、乐观、直率",capricorn:"野心、自律、实际",aquarius:"独立、革新、理性",pisces:"梦幻、富有同情心、艺术性"}[e]||"未知性格"}function _(){if(!d.value||!p.value)return 0;const e=c[d.value].element,a=c[p.value].element;return b[e][a]}function S(){const e=_();return e>=90?"非常契合":e>=80?"相当合拍":e>=70?"颇为般配":e>=60?"还算和谐":e>=50?"中等相容":"需要包容"}function z(){const e=_();return e>=80?"high-compat":e>=60?"medium-compat":"low-compat"}function x(){if(d.value&&p.value){h.value=!1;try{const e=new Audio("/sounds/wind-chime.mp3");e.volume=.5,e.play().catch((e=>{}))}catch(e){}u(d.value,p.value)&&(m.value=!0,h.value=!0,setTimeout((()=>{m.value=!1}),5e3),setTimeout((()=>{const e=document.querySelector(".fortune-result");e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),e.classList.add("highlight"),setTimeout((()=>e.classList.remove("highlight")),3e3))}),1e3))}}return(e,a)=>(s(),l("div",nt,[a[14]||(a[14]=v("div",{class:"zodiac-title"},[v("h3",null,"星座配对"),v("p",{class:"subtitle"},"看看你们的星座是否相配")],-1)),v("div",it,[v("div",ot,[a[2]||(a[2]=v("h4",null,"第一个星座",-1)),v("div",rt,[(s(!0),l(n,null,i(C(c),((e,a)=>(s(),l("div",{key:`first-${a}`,class:r(["zodiac-item",{active:d.value===a}]),onClick:e=>function(e){d.value=e}(a)},[v("span",ut,f(k(a)),1),v("span",dt,f(e.name),1),v("span",vt,f(e.dates),1)],10,ct)))),128))]),d.value?(s(),l("div",pt,[v("h5",null,f(C(c)[d.value].name)+"特质",1),v("div",mt,[v("div",ht,[a[0]||(a[0]=v("span",{class:"trait-label"},"元素：",-1)),v("span",yt,f(M(C(c)[d.value].element)),1)]),v("div",ft,[a[1]||(a[1]=v("span",{class:"trait-label"},"性格：",-1)),v("span",gt,f($(d.value)),1)])])])):y("",!0)]),v("div",bt,[a[3]||(a[3]=v("div",{class:"versus"},"VS",-1)),d.value&&p.value?(s(),l("div",kt,[v("div",{class:r(["compat-arrow",z()])},null,2)])):y("",!0)]),v("div",wt,[a[6]||(a[6]=v("h4",null,"第二个星座",-1)),v("div",Ct,[(s(!0),l(n,null,i(C(c),((e,a)=>(s(),l("div",{key:`second-${a}`,class:r(["zodiac-item",{active:p.value===a}]),onClick:e=>function(e){p.value=e}(a)},[v("span",$t,f(k(a)),1),v("span",_t,f(e.name),1),v("span",St,f(e.dates),1)],10,Mt)))),128))]),p.value?(s(),l("div",zt,[v("h5",null,f(C(c)[p.value].name)+"特质",1),v("div",xt,[v("div",Ft,[a[4]||(a[4]=v("span",{class:"trait-label"},"元素：",-1)),v("span",Dt,f(M(C(c)[p.value].element)),1)]),v("div",Tt,[a[5]||(a[5]=v("span",{class:"trait-label"},"性格：",-1)),v("span",It,f($(p.value)),1)])])])):y("",!0)])]),d.value&&p.value?(s(),l("div",Et,[v("div",Lt,[a[7]||(a[7]=v("div",{class:"meter-background"},null,-1)),v("div",{class:"meter-fill",style:o({width:`${_()}%`})},null,4)]),v("div",At,f(S()),1)])):y("",!0),v("div",Nt,[v("button",{class:"analyze-button",disabled:!d.value||!p.value,onClick:x},a[8]||(a[8]=[v("span",null,"解析星座缘分",-1)]),8,Ht),m.value?(s(),l("div",Vt,a[9]||(a[9]=[v("div",{class:"arrow-down"},null,-1),v("span",null,"结果已生成，请查看下方！",-1)]))):y("",!0)]),h.value?(s(),l("div",qt,a[10]||(a[10]=[v("div",{class:"loading-animation"},[v("span"),v("span"),v("span")],-1),v("p",{class:"result-message"},"星座缘分解析已完成",-1),v("div",{class:"arrow-indicator"},[v("span",null,"👇 结果在下方 👇")],-1)]))):y("",!0),v("div",Bt,[a[11]||(a[11]=v("h4",null,"星座元素相性",-1)),v("div",Ut,[(s(),l(n,null,i(g,((e,a)=>v("div",{class:"element-item",key:a},[v("div",{class:r(["element-icon",a])},f(w(a)),3),v("div",Ot,f(M(a)),1),v("div",Pt,f(e),1)]))),64))]),a[12]||(a[12]=v("p",null," 星座配对基于传统星相学的元素相性理论。火象星座充满激情活力；土象星座踏实稳重；风象星座思维活跃；水象星座情感丰富。 ",-1)),a[13]||(a[13]=v("p",null," 不同元素之间的组合会产生不同的互动效果，有的相辅相成，有的相互消耗。选择你和TA的星座，看看你们的星座缘分如何。 ",-1))])]))}},[["__scopeId","data-v-0fa11622"]]),Kt={class:"destiny-ball-container"},jt={key:0,class:"question-input-area"},Jt={class:"question-counter"},Zt={class:"ball-outer"},Yt={class:"ball-inner"},Wt={class:"ball-fluid"},Gt={key:0,class:"mystic-symbols"},Qt={key:1,class:"triangle-answer"},Xt={class:"answer-text"},el={key:1,class:"instruction-text"},al={key:2,class:"result-display"},tl={key:0,class:"question-display"},ll={class:"question-text"},sl={class:"answer-display"},nl={class:"answer-text-display"},il={key:3,class:"history-section"},ol={class:"history-list"},rl={key:0,class:"history-question"},cl={class:"history-answer"},ul={class:"history-date"},dl=E({__name:"DestinyBall",setup(t){const c=e(!1),u=e(!1),d=e(""),p=e(""),m=e([]),h=e(!1),g=["✨","⭐","🌙","🔮","💫","💖","✨","🌟","⚡","🌠"],k=["缘分已近，静待花开","心有灵犀一点通","有缘千里来相会","今日良缘，不要错过","顺其自然，水到渠成","真爱就在不远处","耐心等待，时机未到","学会珍惜眼前人","爱情就在转角处","相遇在即，请保持微笑","缘深缘浅，由天注定","相信直觉，跟随心声","机会稍纵即逝，把握当下","时机已到，大胆表白","退一步海阔天空","坚守本心，静待花开","爱情需要主动出击","别犹豫，行动吧","心意相通，不言自明","珍惜当下，莫负好时光","一见钟情，命中注定","前路曲折，终有回报","桃花运旺，机不可失","对的人终会出现","赢得爱情需要勇气","水到渠成，顺其自然","真情比时间更重要","命中注定，无需强求","情投意合，不负有心人","对的时间遇见对的人","天意如此，不必强求，顺应自然","两心相知，无需言说，珍惜当下","红线已系，缘分将至，保持期待","暂时失意，莫要气馁，春风将至","千金易得，知己难求，且行且珍惜","三生有幸，不负此缘，勇敢相守","前路虽艰，但有真心，终见光明","缘分使然，切莫错过，把握眼前","此情可待，只争朝夕，满怀希望","万水千山，不忘初心，终将相遇","有心栽花，缘定三生，静候佳音","一期一会，此时此刻，最为珍贵","心若向阳，无惧风霜，爱将绽放","似曾相识，前世情缘，今生再续","随遇而安，顺势而为，美好在即","诚心所致，金石为开，真爱无阻","缘分已至，珍惜有加，不负韶华","命中注定，心生欢喜，无悔此生","良辰美景，佳人有约，勿再踌躇","且听风吟，静候花开，情归何处"],w=()=>{if(c.value||u.value)return;c.value=!0,h.value=!0;try{const e=new Audio("/sounds/wind-chime.mp3");e.volume=.3,e.play().catch((e=>{}))}catch(a){}const e=Math.floor(Math.random()*k.length);d.value=k[e],setTimeout((()=>{h.value=!1,c.value=!1,u.value=!0;try{const e=new Audio("/sounds/wind-chime.mp3");e.volume=.4,e.play().catch((e=>{}))}catch(a){}}),1500)},C=()=>{u.value=!1,d.value=""},M=()=>{d.value&&(m.value.unshift({question:p.value||"(无问题)",answer:d.value,date:(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),m.value.length>10&&(m.value=m.value.slice(0,10)),localStorage.setItem("destinyBallHistory",JSON.stringify(m.value)),p.value="",C())},$=()=>{m.value=[],localStorage.removeItem("destinyBallHistory")};return a((()=>{try{const e=localStorage.getItem("destinyBallHistory");e&&(m.value=JSON.parse(e))}catch(e){}})),(e,a)=>(s(),l("div",Kt,[a[5]||(a[5]=v("div",{class:"destiny-ball-title"},[v("h3",null,"缘分球"),v("p",{class:"subtitle"},"摇一摇，得到关于爱情的即时提示")],-1)),c.value||u.value?y("",!0):(s(),l("div",jt,[S(v("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),placeholder:"请输入你想问的缘分问题（可选）",onKeyup:b(w,["enter"]),maxlength:"50"},null,544),[[z,p.value]]),v("div",Jt,f(p.value.length)+"/50",1)])),v("div",{class:r(["destiny-ball",{shake:c.value,"show-answer":u.value}]),onClick:w},[v("div",Zt,[v("div",Yt,[v("div",Wt,[h.value?(s(),l("div",Gt,[(s(),l(n,null,i(g,((e,a)=>v("span",{key:a,class:"symbol",style:o({transform:`translate(${20*Math.sin(a)}px, ${20*Math.cos(a)}px)`,animationDelay:.1*a+"s"})},f(e),5))),64))])):y("",!0),u.value?(s(),l("div",Qt,[v("div",Xt,f(d.value),1)])):y("",!0)])])]),a[1]||(a[1]=v("div",{class:"ball-shadow"},null,-1))],2),u.value?y("",!0):(s(),l("div",el,[v("p",null,f(p.value?"点击缘分球获取预测":"点击缘分球获取提示"),1)])),u.value?(s(),l("div",al,[p.value?(s(),l("div",tl,[a[2]||(a[2]=v("span",{class:"question-label"},"问：",-1)),v("span",ll,f(p.value),1)])):y("",!0),v("div",sl,[a[3]||(a[3]=v("span",{class:"answer-label"},"缘：",-1)),v("span",nl,f(d.value),1)]),v("div",{class:"shake-again-button"},[v("button",{onClick:C},"再摇一次"),v("button",{class:"save-button",onClick:M},"保存预测")])])):y("",!0),m.value.length>0&&!u.value&&!c.value?(s(),l("div",il,[v("h4",{class:"history-title"},[a[4]||(a[4]=v("span",null,"历史预测",-1)),v("span",{class:"clear-history",onClick:$},"清除")]),v("div",ol,[(s(!0),l(n,null,i(m.value,((e,a)=>(s(),l("div",{key:a,class:"history-item"},[e.question?(s(),l("div",rl,f(e.question),1)):y("",!0),v("div",cl,f(e.answer),1),v("div",ul,f(e.date),1)])))),128))])])):y("",!0)]))}},[["__scopeId","data-v-ebf52853"]]),vl={class:"profile-scroll"},pl={class:"profile-content"},ml={class:"profile-form"},hl={class:"form-group"},yl={class:"form-group"},fl={class:"date-select-container"},gl=["value"],bl=["value"],kl=["value"],wl={class:"form-group zodiac-group"},Cl={class:"zodiac-display"},Ml={class:"zodiac-text"},$l=["data-icon"],_l={class:"form-group luck-group"},Sl={class:"lucky-display"},zl={class:"lucky-number"},xl={class:"form-group"},Fl={class:"monthly-fortune"},Dl={key:0,class:"save-confirmation"},Tl=E(u({__name:"UserProfile",setup(t,{expose:o}){const c=e(!1),u=e(""),d=e(""),p=e(0),m=e(!1),h=e(""),b=e(""),w=e(""),M=(new Date).getFullYear(),$=Array.from({length:M-1949},((e,a)=>M-a)),_=Array.from({length:12},((e,a)=>a+1)),F=(e,a)=>{if(!e||!a)return Array.from({length:31},((e,a)=>a+1));const t=new Date(Number(e),Number(a),0).getDate();return Array.from({length:t},((e,a)=>a+1))},D=()=>{h.value&&b.value&&w.value&&(d.value=`${h.value}-${b.value.toString().padStart(2,"0")}-${w.value.toString().padStart(2,"0")}`)},T=()=>{if(d.value){const[e,a,t]=d.value.split("-");h.value=e,b.value=parseInt(a,10),w.value=parseInt(t,10)}};k(d,(()=>{d.value&&T()}));const I=g((()=>{if(!d.value)return"未知";const e=new Date(d.value),a=e.getMonth()+1,t=e.getDate();return 3===a&&t>=21||4===a&&t<=19?"白羊座":4===a&&t>=20||5===a&&t<=20?"金牛座":5===a&&t>=21||6===a&&t<=21?"双子座":6===a&&t>=22||7===a&&t<=22?"巨蟹座":7===a&&t>=23||8===a&&t<=22?"狮子座":8===a&&t>=23||9===a&&t<=22?"处女座":9===a&&t>=23||10===a&&t<=23?"天秤座":10===a&&t>=24||11===a&&t<=22?"天蝎座":11===a&&t>=23||12===a&&t<=21?"射手座":12===a&&t>=22||1===a&&t<=19?"摩羯座":1===a&&t>=20||2===a&&t<=18?"水瓶座":"双鱼座"})),E=()=>{p.value=Math.floor(99*Math.random())+1},L=g((()=>{const e=["诸事顺遂，心想事成","贵人相助，福运临门","应守静待，勿急进取","事有波折，终有所成","机遇将至，把握当下","宜修身养性，待时而动","吉星高照，百事可为","逢凶化吉，转危为安","静心修行，福缘自来"];if(!u.value)return"尚未知晓";return e[([...u.value].reduce(((e,a)=>e+a.charCodeAt(0)),0)+(new Date).getMonth())%e.length]})),A=()=>{const e={name:u.value,birthdate:d.value,luckyNumber:p.value};localStorage.setItem("userProfile",JSON.stringify(e)),m.value=!0,setTimeout((()=>{m.value=!1}),2e3)},N=()=>{u.value="",d.value="",E(),localStorage.removeItem("userProfile")};a((()=>{(()=>{const e=localStorage.getItem("userProfile");if(e){const a=JSON.parse(e);u.value=a.name||"",d.value=a.birthdate||"",p.value=a.luckyNumber||0,d.value&&T()}else E()})()})),o({toggleProfile:()=>{c.value=!c.value}});return(e,a)=>{return s(),l("div",{class:r(["profile-container",{"profile-open":c.value}])},[a[20]||(a[20]=v("div",{class:"scroll-handle top-handle"},null,-1)),v("div",vl,[a[17]||(a[17]=v("div",{class:"profile-seal"},null,-1)),v("div",pl,[a[16]||(a[16]=v("h3",{class:"profile-title"},"缘主信息",-1)),v("div",ml,[v("div",hl,[a[4]||(a[4]=v("label",{for:"userName"},"法名",-1)),S(v("input",{type:"text",id:"userName","onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),placeholder:"请输入您的姓名"},null,512),[[z,u.value]])]),v("div",yl,[a[8]||(a[8]=v("label",{for:"birthdate"},"降世之日",-1)),v("div",fl,[S(v("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>h.value=e),class:"date-select year-select",onChange:D},[a[5]||(a[5]=v("option",{value:"",disabled:"",selected:""},"年",-1)),(s(!0),l(n,null,i(C($),(e=>(s(),l("option",{key:`year-${e}`,value:e},f(e)+"年",9,gl)))),128))],544),[[x,h.value]]),S(v("select",{"onUpdate:modelValue":a[2]||(a[2]=e=>b.value=e),class:"date-select month-select",onChange:D},[a[6]||(a[6]=v("option",{value:"",disabled:"",selected:""},"月",-1)),(s(!0),l(n,null,i(C(_),(e=>(s(),l("option",{key:`month-${e}`,value:e},f(e)+"月",9,bl)))),128))],544),[[x,b.value]]),S(v("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>w.value=e),class:"date-select day-select",onChange:D},[a[7]||(a[7]=v("option",{value:"",disabled:"",selected:""},"日",-1)),(s(!0),l(n,null,i(F(h.value,b.value),(e=>(s(),l("option",{key:`day-${e}`,value:e},f(e)+"日",9,kl)))),128))],544),[[x,w.value]])])]),v("div",wl,[a[9]||(a[9]=v("label",null,"星命",-1)),v("div",Cl,[v("span",Ml,f(I.value),1),"未知"!==I.value?(s(),l("div",{key:0,class:"zodiac-icon","data-icon":(t=I.value,{"白羊座":"♈","金牛座":"♉","双子座":"♊","巨蟹座":"♋","狮子座":"♌","处女座":"♍","天秤座":"♎","天蝎座":"♏","射手座":"♐","摩羯座":"♑","水瓶座":"♒","双鱼座":"♓"}[t]||"❖")},null,8,$l)):y("",!0)])]),v("div",_l,[a[11]||(a[11]=v("label",null,"今日缘数",-1)),v("div",Sl,[v("div",zl,f(p.value),1),v("button",{class:"refresh-button",onClick:E},a[10]||(a[10]=[v("span",null,"更新",-1)]))])]),v("div",xl,[a[12]||(a[12]=v("label",null,"本月签运",-1)),v("div",Fl,f(L.value),1)])]),v("div",{class:"profile-actions"},[v("button",{class:"save-button",onClick:A},a[13]||(a[13]=[v("span",null,"保存",-1)])),v("button",{class:"clear-button",onClick:N},a[14]||(a[14]=[v("span",null,"清除",-1)]))]),m.value?(s(),l("div",Dl,a[15]||(a[15]=[v("div",{class:"confirmation-inner"},"缘信已记",-1)]))):y("",!0)]),a[18]||(a[18]=v("div",{class:"scroll-ends left-end"},null,-1)),a[19]||(a[19]=v("div",{class:"scroll-ends right-end"},null,-1))]),a[21]||(a[21]=v("div",{class:"scroll-handle bottom-handle"},null,-1))],2);var t}}}),[["__scopeId","data-v-3193403f"]]),Il={class:"tutorial-body"},El={class:"tutorial-step"},Ll={class:"step-number"},Al={class:"step-content"},Nl=["innerHTML"],Hl={key:1,class:"step-tip"},Vl={class:"tutorial-nav"},ql=["disabled"],Bl={class:"step-dots"},Ul=["onClick"],Ol=E({__name:"CookieTutorial",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(t,{expose:o,emit:c}){const u=t,d=c,p=e(0),m=e(!1);e(!1);const h=[{title:"缘结良缘 - 寻找你的命定姻缘",description:'欢迎来到<span class="highlight">缘结良缘</span>！这是一款充满东方韵味的爱情占卜应用。在这里，缘结神将为你指引前方的缘分之路。让我们开始一段奇妙的占卜之旅吧！',tip:"每次占卜都会被记录下来，当你的占卜次数增加，将会解锁更高级的签文。"},{title:"选择签文类型",description:'您可以从多种签文类型中进行选择，包括<span class="highlight">爱情缘分、前世姻缘、双人合卦、星座配对</span>等。每种类型都有其独特的解读方式，满足您不同的占卜需求。',tip:"不同类型的签文会给您提供不同角度的缘分解读，建议您都尝试一下。"},{title:"摇铃求签",description:'点击中央的<span class="highlight">铃铛</span>或使用右下角的快捷按钮，即可开始抽签。摇铃的过程中伴随着清脆的风铃声，寓意着唤醒沉睡的缘分。',tip:"铃铛的摇动需要一定的诚意，在抽签前可以默默许下心愿，增加灵验度。"},{title:"查看签文结果",description:'每一签都包含<span class="highlight">诗词、解读和建议</span>三个部分。诗词蕴含玄机，解读阐明含义，建议则为您的行动提供指引。仔细阅读，感受缘结神为您指引的方向。',tip:"每个签文都有自己的颜色，代表着不同的运势强度。签文的含义需要结合自身情况理解。"},{title:"个人资料设置",description:'点击右下角的<span class="highlight">个人头像按钮</span>，可以设置您的姓名、生日等信息。系统会根据您的生日计算星座，并生成与您相关的幸运数字。',tip:"完善个人资料后，系统能提供更加个性化的占卜结果，特别是在姓名解析和星座配对中。"},{title:"查看历史记录",description:'点击右下角的<span class="highlight">历史记录按钮</span>，可以查看您之前的所有占卜结果。历史记录会按时间排序，方便您回顾和对比不同时期的运势变化。',tip:"定期查看历史记录，可以帮助您发现缘分的规律和变化趋势，指导您把握时机。"},{title:"开始你的缘分之旅",description:'现在，您已经了解了<span class="highlight">缘结良缘</span>的基本功能。请记住，占卜只是为您提供参考和启发，真正的缘分需要您用心经营和把握。祝您早日寻得良缘！',tip:"本应用纯属娱乐，请理性看待占卜结果。最重要的是保持积极心态，勇敢追寻自己的幸福！"}],b=g((()=>h[p.value]||null)),C=()=>{p.value<h.length-1&&p.value++},$=()=>{p.value>0&&p.value--},_=e=>{p.value=e};k((()=>u.isVisible),(e=>{e&&(p.value=0)}),{immediate:!0});const S=()=>{localStorage.setItem("hasSeenTutorial","true"),m.value=!0,d("close")},z=e=>{e.target.classList.contains("tutorial-overlay")&&S()};return a((()=>{m.value="true"===localStorage.getItem("hasSeenTutorial"),p.value=0})),o({hasSeenTutorial:m,nextStep:C,prevStep:$,goToStep:_}),(e,a)=>t.isVisible?(s(),l("div",{key:0,class:"tutorial-overlay",onClick:z},[v("div",{class:"tutorial-content",onClick:a[0]||(a[0]=M((()=>{}),["stop"]))},[v("div",{class:"tutorial-header"},[a[1]||(a[1]=v("h2",null,"欢迎使用缘结良缘",-1)),v("button",{class:"close-button",onClick:S},"×")]),v("div",Il,[v("div",El,[v("div",Ll,f(p.value+1)+"/"+f(h.length),1),v("div",Al,[v("h3",null,f(b.value?b.value.title:""),1),b.value?(s(),l("p",{key:0,innerHTML:b.value.description},null,8,Nl)):y("",!0),b.value&&b.value.tip?(s(),l("p",Hl,[a[2]||(a[2]=v("strong",null,"小贴士：",-1)),w(f(b.value.tip),1)])):y("",!0)])]),v("div",Vl,[v("button",{class:"nav-button prev",onClick:$,disabled:0===p.value,type:"button"},"上一步",8,ql),v("div",Bl,[(s(),l(n,null,i(h,((e,a)=>v("span",{key:"dot-"+a,class:r(["dot",{active:p.value===a}]),onClick:e=>_(a)},null,10,Ul))),64))]),p.value<h.length-1?(s(),l("button",{key:0,class:"nav-button next",onClick:C,type:"button"},"下一步")):(s(),l("button",{key:1,class:"nav-button finish",onClick:S,type:"button"},"开始体验"))])])])])):y("",!0)}},[["__scopeId","data-v-0f8f97f3"]]),Pl={key:0,class:"sound-missing-hint"},Rl=E({__name:"SoundMissingHint",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:a}){const t=a,n=()=>{localStorage.setItem("soundHintDismissed","true"),t("close")};return(a,t)=>e.isVisible?(s(),l("div",Pl,[v("div",{class:"hint-content"},[t[0]||(t[0]=v("div",{class:"hint-icon"},"🔊",-1)),t[1]||(t[1]=v("div",{class:"hint-message"},[v("p",null,"找不到风铃音效文件"),v("p",{class:"hint-detail"},[w("请在 "),v("code",null,"public/sounds"),w(" 目录下添加 "),v("code",null,"wind-chime.mp3"),w(" 文件")])],-1)),v("button",{class:"close-button",onClick:n},"×")])])):y("",!0)}},[["__scopeId","data-v-1c47a828"]]),Kl={class:"date-display"},jl={id:"app-container"},Jl={class:"main-content"},Zl=D(E({__name:"App",setup(n){const i=I(),o=e(null),c=e(null),u=e(null),d=g((()=>{const e=new Date;return`${e.getFullYear()}年${(e.getMonth()+1).toString().padStart(2,"0")}月${e.getDate().toString().padStart(2,"0")}日`})),m=e(!1),h=e("爱情缘分"),b=e(!1),w=e(!1),M=()=>{m.value||(m.value=!0,H(),setTimeout((()=>{i.drawFortune(h.value)}),2500),setTimeout((()=>{m.value=!1}),6e3))},$=()=>{i.resetFortune(),setTimeout((()=>{M()}),300)};a((()=>{localStorage.removeItem("hasSeenTutorial");localStorage.getItem("hasSeenTutorial");setTimeout((()=>{w.value=!0}),1500),S(),window.addEventListener("keydown",_)})),t((()=>{window.removeEventListener("keydown",_)}));const _=e=>{e.shiftKey&&"T"===e.key&&z(),e.shiftKey&&"R"===e.key&&O()},S=()=>{try{new Audio("/sounds/wind-chime.mp3").load()}catch(e){}},z=()=>{w.value=!0},x=()=>{"true"===localStorage.getItem("soundHintDismissed")||(b.value=!0)},D=()=>{b.value=!1},T=()=>{w.value=!1},E=e=>{h.value=e,i.setCategory(e),i.resetFortune()},L=()=>{m.value=!0},A=()=>{m.value=!1};k((()=>i.selectedFortune),(e=>{e&&c.value&&setTimeout((()=>{c.value.addCurrentFortuneToHistory()}),1e3)}));const H=()=>{m.value||(m.value=!0,setTimeout((()=>{m.value=!1}),2e3))},q=()=>{u.value?u.value.drawFortune():M()},B=()=>{c.value&&c.value.toggleHistory()},U=()=>{o.value&&o.value.toggleProfile()},O=()=>{localStorage.removeItem("hasSeenTutorial"),w.value=!0};return(e,a)=>(s(),l("div",{id:"app-outer-container",class:r({animating:m.value})},[p(N),p(V),v("div",Kl,f(d.value),1),p(Ee,{ref_key:"historyRef",ref:c},null,512),p(Tl,{ref_key:"profileRef",ref:o},null,512),v("div",jl,[p(K),v("main",Jl,[p(Oe,{"selected-category":h.value,onCategoryChange:E},null,8,["selected-category"]),"name"===C(i).currentCategory?(s(),F(st,{key:0})):"couple"===C(i).currentCategory?(s(),F(da,{key:1})):"zodiac"===C(i).currentCategory?(s(),F(Rt,{key:2})):"destiny_ball"===C(i).currentCategory?(s(),F(dl,{key:3})):(s(),F(Y,{key:4,category:h.value,disabled:m.value,onClick:M,onAnimationStart:L,onAnimationEnd:A,onSoundError:x,ref_key:"fortuneButtonRef",ref:u},null,8,["category","disabled"])),C(i).selectedFortune?(s(),F(he,{key:5,fortune:C(i).selectedFortune,typeColor:C(i).fortuneTypeColor,onDrawAgain:$},null,8,["fortune","typeColor"])):y("",!0)]),p(ke)]),v("div",{class:"function-buttons"},[v("div",{class:"function-button fortune-draw",onClick:q,title:"求签"},a[0]||(a[0]=[v("span",{class:"button-icon"},"🥢",-1)])),v("div",{class:"function-button history-quick",onClick:B,title:"历史记录"},a[1]||(a[1]=[v("span",{class:"button-icon"},"📜",-1)])),v("div",{class:"function-button profile-quick",onClick:U,title:"个人信息"},a[2]||(a[2]=[v("span",{class:"button-icon"},"👤",-1)])),v("div",{class:"function-button tutorial-quick",onClick:z,title:"查看教程"},a[3]||(a[3]=[v("span",{class:"button-icon"},"❓",-1)]))]),p(Rl,{"is-visible":b.value,onClose:D},null,8,["is-visible"]),p(Ol,{"is-visible":w.value,onClose:T},null,8,["is-visible"])],2))}},[["__scopeId","data-v-58bb57b1"]]));Zl.use(T()),Zl.mount("#app");
