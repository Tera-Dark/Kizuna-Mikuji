const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NameFortune-Dd6nqgVU.js","assets/vendor-BdasZo-s.js","assets/fortune-data-CSgtve2-.js","assets/utils-tmAjFC_f.js","assets/composables-CKSE-Hpx.js","assets/NameFortune-BtPRVo6M.css","assets/CoupleFortuneDrawing-CKWjRnu4.js","assets/CoupleFortuneDrawing-BL2RiAP_.css","assets/ZodiacCompatibility-BK-edROU.js","assets/ZodiacCompatibility-C-Sz09gA.css","assets/DestinyBall-CbW_smAK.js","assets/DestinyBall-YRbg_LKv.css"])))=>i.map(i=>d[i]);
import{r as e,o as t,a,b as l,e as n,F as s,f as o,n as i,g as r,w as c,h as u,i as d,j as v,k as p,T as m,l as f,m as h,t as y,c as g,p as b,q as k,s as w,u as C,v as _,x as M,y as S,z as D,A as $,d as I,B as F,C as x,D as E,E as T,G as A}from"./vendor-BdasZo-s.js";import{p as L,s as z,g as H,b as B}from"./utils-tmAjFC_f.js";import{u as P}from"./fortune-data-CSgtve2-.js";import{u as V}from"./composables-CKSE-Hpx.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const N={},j=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),n=(null==a?void 0:a.nonce)||(null==a?void 0:a.getAttribute("nonce"));l=e(t.map((e=>{if((e=function(e){return"/Kizuna-Mikuji/"+e}(e))in N)return;N[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script"),l.crossOrigin="",l.href=e,n&&l.setAttribute("nonce",n),document.head.appendChild(l),t?new Promise(((t,a)=>{l.addEventListener("load",t),l.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return l.then((t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},O=(e,t)=>{const a=e.__vccOpts||e;for(const[l,n]of t)a[l]=n;return a},q={id:"sakura-container-vue"},R=O({__name:"SakuraBackground",setup(c){const u=e([]);let d=null;const v=e=>({left:e.left+"vw",animationDuration:`${e.fallDuration}s, ${e.swayDuration}s`,animationDelay:`${e.fallDelay}s, ${e.swayDelay}s`,opacity:e.opacity,transform:`scale(${e.scale}) rotate(${e.rotation}deg)`,filter:`hue-rotate(${e.hue}deg)`}),p=()=>{const e=m()+Math.floor(10*Math.random()),t=["type1","type2","type3","type4","type5","type6"];u.value=[];for(let a=0;a<e;a++)u.value.push({type:t[Math.floor(Math.random()*t.length)],left:100*Math.random(),fallDuration:8*Math.random()+7,fallDelay:10*Math.random(),swayDuration:3*Math.random()+2,swayDelay:2*Math.random(),opacity:.5+.5*Math.random(),scale:.7+.6*Math.random(),rotation:360*Math.random(),hue:20*Math.random()-10})},m=()=>{const e=window.innerWidth;return e<480?15:e<768?25:e<1200?35:45},f=()=>{p()};return t((()=>{p(),(()=>{const e=(new Date).getMonth();let t=0;t=e>=2&&e<=4?0:e>=5&&e<=7?15:e>=8&&e<=10?30:-20,u.value.forEach((e=>{e.hue=t+20*Math.random()-10}))})(),window.addEventListener("resize",f),d=setInterval((()=>{(()=>{const e=["type1","type2","type3","type4","type5","type6"],t=Math.floor(3*Math.random())+1;for(let l=0;l<t;l++)u.value.push({type:e[Math.floor(Math.random()*e.length)],left:100*Math.random(),fallDuration:8*Math.random()+7,fallDelay:0,swayDuration:3*Math.random()+2,swayDelay:0,opacity:.5+.5*Math.random(),scale:.7+.6*Math.random(),rotation:360*Math.random(),hue:20*Math.random()-10});const a=m()+20;u.value.length>a&&(u.value=u.value.slice(u.value.length-a))})()}),1e4)})),a((()=>{window.removeEventListener("resize",f),d&&clearInterval(d)})),(e,t)=>(n(),l("div",q,[(n(!0),l(s,null,o(u.value,((e,t)=>(n(),l("div",{key:t,class:r(["sakura-petal",e.type]),style:i(v(e))},null,6)))),128))]))}},[["__scopeId","data-v-b6a6bf19"]]),U=O({__name:"RedThreadBackground",setup(r){const u=e(null),d=e([]),v=e([]);let p=null;const m=e(!1),f=e=>({left:`${e.left}%`,top:`${e.top}%`,transform:`rotate(${e.rotation}deg) scale(${e.scale})`,opacity:e.opacity,animationDelay:`${e.delay}s`,width:`${e.size}px`,height:`${e.size}px`,filter:`hue-rotate(${e.hue}deg) brightness(${e.brightness})`,animationDuration:`${e.duration}s, ${e.swayDuration}s`});c((()=>{const e=document.body.classList.contains("dark-theme");m.value=e,d.value.length>0&&h()}));const h=()=>{d.value.forEach((e=>{const t=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",a=(.5*Math.random()+.3).toFixed(2);e.element.style.borderColor=t+a+")",e.element.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*a})`:`0 0 8px rgba(238, 40, 40, ${.4*a})`})),v.value.forEach((e=>{e.brightness=m.value?1.2:1}))},y=()=>{if(!u.value)return;d.value.forEach((e=>{e.element&&e.element.parentNode&&e.element.parentNode.removeChild(e.element)})),d.value=[];const e=u.value.getBoundingClientRect(),{width:t,height:a}=e;for(let l=0;l<20;l++){const e=document.createElement("div");e.classList.add("thread"),l%5==0&&e.classList.add("thread-with-knot");const n=Math.random()*t,s=Math.random()*a,o=200*Math.random()+80,i=360*Math.random(),r=5*Math.random(),c=25*Math.random()+20;e.style.left=`${n}px`,e.style.top=`${s}px`,e.style.width=`${o}px`,e.style.transform=`rotate(${i}deg)`,e.style.animationDelay=`${r}s`,e.style.animationDuration=`${c}s`;const v=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",p=(.5*Math.random()+.3).toFixed(2);e.style.borderColor=v+p+")",e.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*p})`:`0 0 8px rgba(238, 40, 40, ${.4*p})`,u.value.appendChild(e),d.value.push({element:e,speed:.5*Math.random()+.1,angle:i})}},g=()=>{d.value.forEach((e=>{const t=parseFloat(e.element.style.top),a=parseFloat(e.element.style.left),l=t-e.speed,n=a+.5*Math.sin(.01*t);if(l<-100){const t=u.value,a=t.offsetWidth;e.element.style.top=`${t.offsetHeight+50}px`,e.element.style.left=Math.random()*a+"px";const l=360*Math.random();e.element.style.transform=`rotate(${l}deg)`,e.angle=l;const n=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",s=(.5*Math.random()+.3).toFixed(2);e.element.style.borderColor=n+s+")",e.element.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*s})`:`0 0 8px rgba(238, 40, 40, ${.4*s})`}else e.element.style.top=`${l}px`,e.element.style.left=`${n}px`;const s=e.angle,o=.2*(Math.random()-.5);e.angle=s+o,e.element.style.transform=`rotate(${e.angle}deg)`})),p=requestAnimationFrame(g)},b=()=>{y()};return t((()=>{y(),(()=>{v.value=[];for(let e=0;e<7;e++)v.value.push({id:e,left:95*Math.random(),top:95*Math.random(),rotation:30*Math.random()-15,scale:.6+.6*Math.random(),opacity:.5+.5*Math.random(),delay:5*Math.random(),size:20+15*Math.random(),hue:20*Math.random()-10,brightness:m.value?1.2:1,duration:15+10*Math.random(),swayDuration:5+5*Math.random()})})(),p=requestAnimationFrame(g),window.addEventListener("resize",b)})),a((()=>{p&&cancelAnimationFrame(p),window.removeEventListener("resize",b)})),(e,t)=>(n(),l("div",{id:"red-thread-container",ref_key:"threadContainer",ref:u},[(n(!0),l(s,null,o(v.value,(e=>(n(),l("div",{key:e.id,class:"bell-decoration",style:i(f(e))},null,4)))),128))],512))}},[["__scopeId","data-v-7afe1a45"]]),K={class:"fortune-header"},J={class:"central-content"},W={class:"logo-container"},Y={key:0,class:"speech-bubble left"},G={key:0,class:"speech-bubble right"},Z=O(u({__name:"Header",setup(e){const t=["不！准！随！便！冒犯神明——.mp3","缘分与意外其实是一样的——永远不知道会是哪个突然出现.mp3","世间之缘，又何止只属于有幸相守之人.mp3","纵使相隔时间与生死，也不曾真正分离，这才是缘分.mp3","未能传达的心意可无法感知.mp3","呜...呜啊~.mp3","不要惹我，我超凶的.mp3","我才不疼呢.mp3","再摸，再摸我可就要生气了.mp3","这世间竟有如此般配的二人.mp3","哼，可不要小看我了.mp3","我一定会给你带来幸福.mp3"],a=d({content:"",visible:!1,timerId:null}),s=d({content:"",visible:!1,timerId:null});let o=null;const i=()=>{o&&z(o);const e=Math.floor(Math.random()*t.length),a=t[e];L(`sounds/缘结神语录合集/${a}`,1,(e=>{})).then((e=>{o=e})).catch((e=>{})),r(a)},r=e=>{const t=e.replace(".mp3",""),l="left"===(Math.random()>.5?"left":"right")?a:s;null!==l.timerId&&clearTimeout(l.timerId),l.content=t,l.visible=!0,l.timerId=window.setTimeout((()=>{l.visible=!1,l.timerId=null}),4e3)};return(e,t)=>(n(),l("header",K,[t[2]||(t[2]=v("div",{class:"header-decoration left-decoration"},null,-1)),v("div",J,[v("div",W,[v("img",{src:"/Kizuna-Mikuji/images/%E7%BC%98%E7%BB%93%E7%A5%9E%E5%A4%B4%E5%83%8F.png",alt:"缘结神头像",class:"header-logo",onClick:i}),p(m,{name:"bubble"},{default:f((()=>[a.visible?(n(),l("div",Y,y(a.content),1)):h("",!0)])),_:1}),p(m,{name:"bubble"},{default:f((()=>[s.visible?(n(),l("div",G,y(s.content),1)):h("",!0)])),_:1})]),t[0]||(t[0]=v("h1",{class:"header-title"},"缘结良缘",-1)),t[1]||(t[1]=v("p",{class:"header-description"},"相信命运红线的指引，让缘结神为你指引今日的姻缘",-1))]),t[3]||(t[3]=v("div",{class:"header-decoration right-decoration"},null,-1))]))}}),[["__scopeId","data-v-521d73f3"]]),Q={key:0,class:"red-string-animation-container"},X={key:0,class:"particles-container"},ee=O(u({__name:"FortuneButton",props:{category:{type:String,default:"爱情缘分"},disabled:{type:Boolean,default:!1}},emits:["click","animation-start","animation-end","sound-error"],setup(t,{expose:a,emit:c}){const u=t,d=c,p=P(),m=e(!1),{play:f,hasError:y}=V();g((()=>({"爱情缘分":"拖动铃铛或点击按钮，聆听爱情的声音","前世姻缘":"摇动铃铛，窥探前世的情缘密码","事业运势":"轻摇结缘铃，解读你的事业机遇","人际关系":"铃声悠扬，人际关系自然畅通","健康平安":"一铃一福，祈愿平安健康","姓名解析":"输入姓名，解读名字的秘密","姻缘配对":"填写双方姓名，测试你们的缘分","每日一签":"每日一摇，吉祥如意"}[u.category]||"拖动铃铛，聆听缘分的声音")));const w=async()=>{if(!m.value&&!u.disabled){m.value=!0,d("animation-start"),d("click");try{await C(),await new Promise((e=>setTimeout(e,2200))),p.drawFortune()}catch(e){}finally{setTimeout((()=>{m.value=!1,d("animation-end")}),800)}}},C=async()=>{try{await f("sounds/wind-chime.mp3",.7)}catch(e){d("sound-error")}y.value&&d("sound-error")};return a({drawFortune:w}),(e,t)=>(n(),l("div",{class:r(["onmyoji-button-container",{drawing:m.value}])},[v("div",{class:r(["fortune-cylinder",{disabled:m.value||u.disabled,"drawing-animation":m.value}]),onClick:w,role:"button",tabindex:"0",onKeydown:[k(w,["enter"]),k(w,["space"])]},[t[1]||(t[1]=b('<div class="cylinder-top-rim" data-v-83f6fa22></div><div class="cylinder-body" data-v-83f6fa22><div class="cylinder-text-background" data-v-83f6fa22><span class="cylinder-text" data-v-83f6fa22>签</span></div></div><div class="cylinder-bottom-rim" data-v-83f6fa22></div>',3)),m.value?(n(),l("div",Q,t[0]||(t[0]=[b('<div class="red-string string-1" data-v-83f6fa22></div><div class="red-string string-2" data-v-83f6fa22></div><div class="red-string string-3" data-v-83f6fa22></div><div class="knot-effigy" data-v-83f6fa22><span class="petal petal-1" data-v-83f6fa22></span><span class="petal petal-2" data-v-83f6fa22></span><span class="petal petal-3" data-v-83f6fa22></span><span class="petal petal-4" data-v-83f6fa22></span><span class="petal petal-5" data-v-83f6fa22></span></div>',4)]))):h("",!0)],34),m.value?(n(),l("div",X,[(n(),l(s,null,o(12,(e=>{return v("div",{key:e,class:"particle",style:i((t=e,{"--angle":t/12*Math.PI*2+"rad","--delay":t%5*.1+"s","--size":8*Math.random()+4+"px","--distance":60*Math.random()+40+"px","--hue":30*t%360+"deg"}))},null,4);var t})),64))])):h("",!0)],2))}}),[["__scopeId","data-v-83f6fa22"]]),te={key:0,class:"zodiac-result-badge"},ae={key:1,class:"fortune-level-container"},le={key:0,class:"special-badge reveal-item"},ne={key:2,class:"zodiac-info-container"},se={class:"zodiac-pair"},oe={class:"zodiac-name"},ie={class:"compatibility-meter"},re={class:"hearts-container"},ce={class:"compatibility-label"},ue={class:"zodiac-pair"},de={class:"zodiac-name"},ve={class:"fortune-card-wrapper"},pe={class:"fortune-card"},me={class:"fortune-content-inner"},fe=["innerHTML"],he=["innerHTML"],ye={key:0,class:"fortune-suggestion reveal-item"},ge=O(u({__name:"FortuneResult",props:{fortune:{type:Object,required:!0},typeColor:{type:String,default:"#D9544D"}},emits:["drawAgain"],setup(e){const a=P(),c=e,u=g((()=>c.fortune&&c.fortune.sign1&&c.fortune.sign2));w((()=>a.selectedFortune),(e=>{e&&e.sign1&&e.sign2})),t((()=>{}));const d=e=>({1:"有挑战",2:"需磨合",3:"一般匹配",4:"较为合适",5:"天作之合"}[e]||"缘分未知");function p(e){return{"白羊座":"♈","金牛座":"♉","双子座":"♊","巨蟹座":"♋","狮子座":"♌","处女座":"♍","天秤座":"♎","天蝎座":"♏","射手座":"♐","摩羯座":"♑","水瓶座":"♒","双鱼座":"♓"}[e]||"✨"}const m=g((()=>{if(c.fortune.level){return{5:"#E6A23C",4:"#D9544D",3:"#E56D61",2:"#F08A5D",1:"#B8A2D1"}[c.fortune.level]||c.typeColor}return c.typeColor}));function f(e){return{"白羊座":"#FF4500","金牛座":"#228B22","双子座":"#FFD700","巨蟹座":"#B0C4DE","狮子座":"#FFA500","处女座":"#9370DB","天秤座":"#F08080","天蝎座":"#800000","射手座":"#4682B4","摩羯座":"#696969","水瓶座":"#00BFFF","双鱼座":"#EE82EE"}[e]||"#D9544D"}return(t,c)=>{return n(),l("div",{class:r(["fortune-result",{visible:_(a).isFortuneVisible,"zodiac-result":u.value}])},[u.value?(n(),l("div",te,c[1]||(c[1]=[v("span",null,"💌 缘分合盘 💌",-1)]))):h("",!0),e.fortune.level&&!u.value?(n(),l("div",ae,[v("span",{class:r(["level-badge reveal-item",`level-${e.fortune.level}`])},y((g=e.fortune.level,(null==(b=a.fortuneLevels[g])?void 0:b.name)||"普通签文")),3),e.fortune.isSpecial?(n(),l("span",le,c[2]||(c[2]=[v("span",{class:"special-badge-icon"},"✨",-1),C("缘分转机 ")]))):h("",!0)])):h("",!0),u.value?(n(),l("div",ne,[v("div",se,[v("div",{class:"zodiac-icon",style:i({borderColor:f(e.fortune.sign1)})},y(p(e.fortune.sign1)),5),v("div",oe,y(e.fortune.sign1),1)]),v("div",ie,[v("div",re,[(n(),l(s,null,o(5,(t=>v("span",{key:t,class:r(["heart",{filled:t<=(e.fortune.compatibility||0)}])},null,2))),64))]),v("div",ce,y(d(e.fortune.compatibility)),1)]),v("div",ue,[v("div",{class:"zodiac-icon",style:i({borderColor:f(e.fortune.sign2)})},y(p(e.fortune.sign2)),5),v("div",de,y(e.fortune.sign2),1)])])):h("",!0),v("div",ve,[v("div",pe,[c[4]||(c[4]=v("div",{class:"scroll-top"},null,-1)),c[5]||(c[5]=v("div",{class:"scroll-bottom"},null,-1)),c[6]||(c[6]=v("div",{class:"light-effect"},null,-1)),v("div",me,[v("div",{class:"fortune-type reveal-item",style:i({backgroundColor:m.value})},y(e.fortune.type),5),v("div",{class:"fortune-poem reveal-item",innerHTML:e.fortune.poem},null,8,fe),v("div",{class:"fortune-interpretation reveal-item",innerHTML:e.fortune.interpretation},null,8,he),e.fortune.suggestion?(n(),l("div",ye,[c[3]||(c[3]=v("span",{class:"suggestion-label"},"【缘结秘语】",-1)),C(" "+y(e.fortune.suggestion),1)])):h("",!0)])])]),v("button",{class:"draw-again-btn reveal-item",onClick:c[0]||(c[0]=e=>t.$emit("drawAgain"))},c[7]||(c[7]=[v("span",{class:"btn-icon"},"🔁",-1),C(" 再结良缘 ")]))],2);var g,b}}}),[["__scopeId","data-v-c9da7732"]]),be={class:"fortune-footer"},ke={class:"footer-content"},we={class:"social-links"},Ce=O(u({__name:"Footer",setup(t){const a=e(!1),s=e(null),o=async()=>{const e="【缘结良缘】听说命运红线由缘结神掌管？这款唯美日系应用能预测你的前世姻缘，看你和TA是否有神赐缘分，红线一牵，姻缘天成，快来测试吧！\n\nhttps://tera-dark.github.io/Kizuna-Mikuji/";try{await navigator.clipboard.writeText(e),a.value=!0,setTimeout((()=>{a.value=!1}),2e3)}catch(t){const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select();try{document.execCommand("copy"),a.value=!0,setTimeout((()=>{a.value=!1}),2e3)}catch(l){alert(`無法複製內容，請手動複製:\n\n${e}`)}document.body.removeChild(n)}};return(e,t)=>(n(),l("footer",be,[t[5]||(t[5]=v("div",{class:"footer-decoration top-knot"},null,-1)),v("div",ke,[t[3]||(t[3]=v("p",{class:"main-text"},"本占卜仅供娱乐，愿天下有情人终成眷属！",-1)),t[4]||(t[4]=v("p",{class:"sub-text"},[v("small",null,"背景图片素材鸣谢 阴阳师项目组")],-1)),v("div",we,[v("a",{href:"#",class:"social-link",title:"复制分享链接",onClick:M(o,["prevent"])},t[1]||(t[1]=[v("span",{class:"social-icon"},"💌",-1)])),v("a",{href:"#",class:"social-link",title:"分享到社交平台",onClick:t[0]||(t[0]=M((e=>(()=>{const e=window.location.href;{const t=`http://service.weibo.com/share/share.php?url=${encodeURIComponent(e)}&title=${encodeURIComponent("我在'缘结良缘'求了一支签，快来一起体验缘分的奇妙吧！")}`;window.open(t,"_blank")}})()),["prevent"]))},t[2]||(t[2]=[v("span",{class:"social-icon"},"🔗",-1)]))])]),t[6]||(t[6]=v("div",{class:"stamp-decoration"},[v("span",{class:"stamp-text"},"缘")],-1)),t[7]||(t[7]=v("div",{class:"footer-decoration bottom-knot"},null,-1)),a.value?(n(),l("div",{key:0,class:"copy-success-toast",ref_key:"toastRef",ref:s}," 文案和链接已复制，快去分享吧！ ",512)):h("",!0)]))}}),[["__scopeId","data-v-7e9feba7"]]),_e={class:"history-content"},Me={key:0,class:"empty-history"},Se={key:1,class:"history-list"},De=["onClick"],$e={class:"history-date"},Ie={class:"expand-icon"},Fe={key:0,class:"history-item-details"},xe=["innerHTML"],Ee={class:"action-buttons"},Te=["onClick"],Ae=["onClick"],Le={key:2,class:"history-actions"},ze=O(u({__name:"FortuneHistory",setup(a,{expose:c}){const u=P(),d=e(!1),p=e([]),m=e(-1),f=e=>{const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`},g=()=>{localStorage.setItem("fortuneHistory",JSON.stringify(p.value))},b=()=>{confirm("确定要清空所有历史记录吗？")&&(p.value=[],m.value=-1,g())};return c({toggleHistory:()=>{d.value=!d.value},addCurrentFortuneToHistory:()=>{var e;u.selectedFortune&&u.isFortuneVisible&&(e=u.selectedFortune,p.value.unshift({date:(new Date).toISOString(),fortune:e}),p.value.length>20&&(p.value=p.value.slice(0,20)),g())}}),t((()=>{(()=>{const e=localStorage.getItem("fortuneHistory");e&&(p.value=JSON.parse(e))})()})),(e,t)=>(n(),l("div",{class:r(["history-container",{"history-open":d.value}])},[v("div",_e,[t[4]||(t[4]=v("h3",{class:"history-title"},"抽签历史",-1)),0===p.value.length?(n(),l("div",Me,t[0]||(t[0]=[v("div",{class:"empty-icon"},"📜",-1),v("p",null,"暂无历史记录",-1),v("p",{class:"empty-tip"},"每次求签后的结果都会记录在这里",-1)]))):(n(),l("div",Se,[(n(!0),l(s,null,o(p.value,((e,a)=>{return n(),l("div",{key:a,class:r(["history-item",{expanded:m.value===a}])},[v("div",{class:"history-item-header",onClick:e=>(e=>{m.value=m.value===e?-1:e})(a)},[v("span",$e,y(f(e.date)),1),v("span",{class:"history-type",style:i({color:(s=e.fortune.type,{"上上大吉":"#ff4757","大吉":"#e74c3c","缘初现":"#ff6b81","中吉":"#f39c12","惜当下":"#2ecc71","小吉":"#2ecc71","吉":"#55efc4","小确幸":"#fdcb6e","待花开":"#00b894","末吉":"#3498db","化解结":"#74b9ff","孤芳赏":"#a29bfe","结善缘":"#6c5ce7","迷雾散":"#ffeaa7","修行时":"#81ecec","再回首":"#fab1a0","小凶":"#9b59b6","莫强求":"#e17055","清心咒":"#00cec9","大凶警示":"#485460"}[s]||"#c0392b")})},y(e.fortune.type),5),v("span",Ie,y(m.value===a?"▲":"▼"),1)],8,De),m.value===a?(n(),l("div",Fe,[v("p",{class:"history-poem",innerHTML:e.fortune.poem},null,8,xe),v("div",Ee,[v("button",{class:"view-button",onClick:t=>{return a=e.fortune,u.selectedFortune=a,u.isFortuneVisible=!0,void(d.value=!1);var a}},t[1]||(t[1]=[v("span",{class:"btn-icon"},"👁️",-1),C("查看详情 ")]),8,Te),v("button",{class:"delete-button",onClick:M((e=>(e=>{p.value.splice(e,1),m.value=-1,g()})(a)),["stop"])},t[2]||(t[2]=[v("span",{class:"btn-icon"},"🗑️",-1),C("删除 ")]),8,Ae)])])):h("",!0)],2);var s})),128))])),p.value.length>0?(n(),l("div",Le,[v("button",{class:"clear-button",onClick:b},t[3]||(t[3]=[v("span",{class:"btn-icon"},"🧹",-1),C("清空历史 ")]))])):h("",!0)]),t[5]||(t[5]=v("div",{class:"decoration-element top-left"},null,-1)),t[6]||(t[6]=v("div",{class:"decoration-element top-right"},null,-1)),t[7]||(t[7]=v("div",{class:"decoration-element bottom-left"},null,-1)),t[8]||(t[8]=v("div",{class:"decoration-element bottom-right"},null,-1))],2))}}),[["__scopeId","data-v-d6db1756"]]),He={class:"category-selector"},Be={class:"categories-grid"},Pe=["onClick"],Ve={class:"category-inner"},Ne={class:"category-icon"},je={class:"category-content"},Oe={class:"category-name"},qe={class:"category-desc"},Re=O({__name:"CategorySelector",props:{selectedCategory:{type:String,default:"每日一签"}},emits:["category-change"],setup(e,{emit:t}){const a=t,i=P(),c=[{id:"daily",value:"每日一签",icon:"🎯",themedIcon:"🧧",description:"今日运势与贵人指引"},{id:"love",value:"爱情缘分",icon:"❤️",themedIcon:"💕",description:"洞悉你的爱情状态与未来发展"},{id:"past_life",value:"前世姻缘",icon:"🔮",themedIcon:"⏳",description:"探寻你与TA的前世情缘"},{id:"career",value:"事业运势",icon:"💼",themedIcon:"📈",description:"预测你的职场发展与财富机遇"},{id:"relationship",value:"人际关系",icon:"👥",themedIcon:"🤝",description:"分析你的社交圈与人际状况"},{id:"health",value:"健康平安",icon:"🍀",themedIcon:"🌿",description:"关注你的身心健康与平安指数"},{id:"name",value:"姓名解析",icon:"📝",themedIcon:"📜",description:"解读你的名字中隐藏的天机"},{id:"zodiac",value:"星座配对",icon:"⭐",themedIcon:"✨",description:"看看你们的星座是否相配"},{id:"couple",value:"姻缘配对",icon:"💕",themedIcon:"💞",description:"测试你与TA的契合度与缘分指数"},{id:"destiny_ball",value:"结缘御守",icon:"🔮",themedIcon:"🧧",description:"轻点御守，探寻玄妙指引"}],u=g((()=>c.filter((e=>"每日一签"!==e.value)))),d=e=>{const t=c.find((t=>t.value===e));t&&(i.setCategory(t.id),a("category-change",e))};return(t,a)=>(n(),l("div",He,[a[2]||(a[2]=v("div",{class:"category-title"},[v("span",{class:"title-decoration left"}),C(" 请选择签文类型 "),v("span",{class:"title-decoration right"})],-1)),v("div",Be,[v("div",{class:r(["daily-fortune-item",{active:"每日一签"===e.selectedCategory}]),onClick:a[0]||(a[0]=e=>d("每日一签"))},a[1]||(a[1]=[b('<div class="daily-fortune-inner" data-v-6892676f><div class="daily-fortune-icon" data-v-6892676f>🧧</div><div class="daily-fortune-content" data-v-6892676f><div class="daily-fortune-name" data-v-6892676f>每日一签</div><div class="daily-fortune-desc" data-v-6892676f>今日运势与贵人指引</div></div><div class="recommended-badge" data-v-6892676f>今日推荐</div></div>',1)]),2),(n(!0),l(s,null,o(u.value,(t=>(n(),l("div",{key:t.value,class:r(["category-item",{active:e.selectedCategory===t.value}]),onClick:e=>d(t.value)},[v("div",Ve,[v("div",Ne,y(t.themedIcon||t.icon),1),v("div",je,[v("div",Oe,y(t.value),1),v("div",qe,y(t.description),1)])])],10,Pe)))),128))])]))}},[["__scopeId","data-v-6892676f"]]),Ue={class:"profile-scroll-wrapper"},Ke={class:"profile-scroll"},Je={class:"profile-content"},We={class:"profile-form"},Ye={class:"form-group"},Ge={class:"form-group"},Ze={class:"date-select-container themed-date-select-container"},Qe={class:"select-wrapper"},Xe=["value"],et={class:"select-wrapper"},tt=["value"],at={class:"select-wrapper"},lt=["value"],nt={class:"form-group zodiac-group info-display-group"},st={class:"info-display-box zodiac-display"},ot={class:"zodiac-text"},it=["data-icon"],rt={class:"form-group luck-group info-display-group"},ct={class:"info-display-box lucky-display"},ut={class:"lucky-number"},dt={class:"form-group info-display-group"},vt={class:"info-display-box monthly-fortune"},pt={key:0,class:"save-confirmation themed-confirmation"},mt=O(u({__name:"UserProfile",setup(a,{expose:i}){const c=e(!1),u=e(""),d=e(""),p=e(0),m=e(!1),f=e(""),b=e(""),k=e(""),M=(new Date).getFullYear(),I=Array.from({length:M-1949},((e,t)=>M-t)),F=Array.from({length:12},((e,t)=>t+1)),x=(e,t)=>{if(!e||!t)return Array.from({length:31},((e,t)=>t+1));const a=new Date(Number(e),Number(t),0).getDate();return Array.from({length:a},((e,t)=>t+1))},E=()=>{f.value&&b.value&&k.value&&(d.value=`${f.value}-${b.value.toString().padStart(2,"0")}-${k.value.toString().padStart(2,"0")}`)},T=()=>{if(d.value){const[e,t,a]=d.value.split("-");f.value=e,b.value=parseInt(t,10).toString(),k.value=parseInt(a,10).toString()}};w(d,(()=>{d.value&&T()}));const A=g((()=>{if(!d.value)return"未知";const e=new Date(d.value),t=e.getMonth()+1,a=e.getDate();return 3===t&&a>=21||4===t&&a<=19?"白羊座":4===t&&a>=20||5===t&&a<=20?"金牛座":5===t&&a>=21||6===t&&a<=21?"双子座":6===t&&a>=22||7===t&&a<=22?"巨蟹座":7===t&&a>=23||8===t&&a<=22?"狮子座":8===t&&a>=23||9===t&&a<=22?"处女座":9===t&&a>=23||10===t&&a<=23?"天秤座":10===t&&a>=24||11===t&&a<=22?"天蝎座":11===t&&a>=23||12===t&&a<=21?"射手座":12===t&&a>=22||1===t&&a<=19?"摩羯座":1===t&&a>=20||2===t&&a<=18?"水瓶座":"双鱼座"})),L=()=>{p.value=Math.floor(99*Math.random())+1},z=g((()=>{const e=["诸事顺遂，心想事成","贵人相助，福运临门","应守静待，勿急进取","事有波折，终有所成","机遇将至，把握当下","宜修身养性，待时而动","吉星高照，百事可为","逢凶化吉，转危为安","静心修行，福缘自来"];if(!u.value)return"尚未知晓";return e[(u.value.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)+(new Date).getMonth())%e.length]})),H=()=>{const e={name:u.value,birthdate:d.value,luckyNumber:p.value};localStorage.setItem("userProfile",JSON.stringify(e)),m.value=!0,setTimeout((()=>{m.value=!1}),2e3)},B=()=>{u.value="",d.value="",L(),localStorage.removeItem("userProfile")};t((()=>{(()=>{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);u.value=t.name||"",d.value=t.birthdate||"",p.value=t.luckyNumber||0,d.value&&T()}else L()})()})),i({toggleProfile:()=>{c.value=!c.value}});return(e,t)=>{return n(),l("div",{class:r(["profile-container",{"profile-open":c.value}])},[t[20]||(t[20]=v("div",{class:"scroll-handle top-handle"},[v("div",{class:"handle-deco"})],-1)),v("div",Ue,[v("div",Ke,[t[17]||(t[17]=v("div",{class:"profile-seal"},[v("span",{class:"seal-text"},"缘")],-1)),v("div",Je,[t[16]||(t[16]=v("h3",{class:"profile-title"},[v("span",{class:"title-icon left-icon"},"❀"),C(" 缘主信息 "),v("span",{class:"title-icon right-icon"},"❀")],-1)),v("div",We,[v("div",Ye,[t[4]||(t[4]=v("label",{for:"userName",class:"form-label"},[v("span",{class:"label-icon"},"📜"),C("法名 ")],-1)),S(v("input",{type:"text",id:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),placeholder:"请输入您的姓名",class:"themed-input"},null,512),[[D,u.value]])]),v("div",Ge,[t[8]||(t[8]=v("label",{for:"birthdate",class:"form-label"},[v("span",{class:"label-icon"},"📅"),C("降世之日 ")],-1)),v("div",Ze,[v("div",Qe,[S(v("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),class:"date-select year-select themed-select",onChange:E},[t[5]||(t[5]=v("option",{value:"",disabled:"",selected:""},"年",-1)),(n(!0),l(s,null,o(_(I),(e=>(n(),l("option",{key:`year-${e}`,value:e},y(e),9,Xe)))),128))],544),[[$,f.value]])]),v("div",et,[S(v("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>b.value=e),class:"date-select month-select themed-select",onChange:E},[t[6]||(t[6]=v("option",{value:"",disabled:"",selected:""},"月",-1)),(n(!0),l(s,null,o(_(F),(e=>(n(),l("option",{key:`month-${e}`,value:e},y(e),9,tt)))),128))],544),[[$,b.value]])]),v("div",at,[S(v("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>k.value=e),class:"date-select day-select themed-select",onChange:E},[t[7]||(t[7]=v("option",{value:"",disabled:"",selected:""},"日",-1)),(n(!0),l(s,null,o(x(f.value,b.value),(e=>(n(),l("option",{key:`day-${e}`,value:e},y(e),9,lt)))),128))],544),[[$,k.value]])])])]),v("div",nt,[t[9]||(t[9]=v("label",{class:"form-label"},[v("span",{class:"label-icon"},"✨"),C("星命 ")],-1)),v("div",st,[v("span",ot,y(A.value),1),"未知"!==A.value?(n(),l("div",{key:0,class:"zodiac-icon-display","data-icon":(a=A.value,{"白羊座":"♈","金牛座":"♉","双子座":"♊","巨蟹座":"♋","狮子座":"♌","处女座":"♍","天秤座":"♎","天蝎座":"♏","射手座":"♐","摩羯座":"♑","水瓶座":"♒","双鱼座":"♓"}[a]||"❖")},null,8,it)):h("",!0)])]),v("div",rt,[t[11]||(t[11]=v("label",{class:"form-label"},[v("span",{class:"label-icon"},"💖"),C("今日缘数 ")],-1)),v("div",ct,[v("div",ut,y(p.value),1),v("button",{class:"themed-button refresh-button",onClick:L},t[10]||(t[10]=[v("span",{class:"btn-icon"},"🔄",-1),C("更新 ")]))])]),v("div",dt,[t[12]||(t[12]=v("label",{class:"form-label"},[v("span",{class:"label-icon"},"🧧"),C("本月签运 ")],-1)),v("div",vt,y(z.value),1)])]),v("div",{class:"profile-actions"},[v("button",{class:"themed-button save-button",onClick:H},t[13]||(t[13]=[v("span",{class:"btn-icon"},"💾",-1),C("保存 ")])),v("button",{class:"themed-button clear-button",onClick:B},t[14]||(t[14]=[v("span",{class:"btn-icon"},"🧹",-1),C("清除 ")]))]),m.value?(n(),l("div",pt,t[15]||(t[15]=[v("div",{class:"confirmation-icon"},"🌸",-1),v("div",{class:"confirmation-inner"},"缘信已录，佳期可待",-1)]))):h("",!0)]),t[18]||(t[18]=v("div",{class:"scroll-ends left-end"},null,-1)),t[19]||(t[19]=v("div",{class:"scroll-ends right-end"},null,-1))])]),t[21]||(t[21]=v("div",{class:"scroll-handle bottom-handle"},[v("div",{class:"handle-deco"})],-1))],2);var a}}}),[["__scopeId","data-v-250bc40a"]]),ft={class:"tutorial-body"},ht={class:"tutorial-step"},yt={class:"step-number"},gt={class:"step-content"},bt=["innerHTML"],kt={key:1,class:"step-tip"},wt={class:"tutorial-nav"},Ct=["disabled"],_t={class:"step-dots"},Mt=["onClick"],St=O({__name:"CookieTutorial",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(a,{expose:i,emit:c}){const u=a,d=c,p=e(0),m=e(!1);e(!1);const f=[{title:"缘结良缘 - 寻找你的命定姻缘",description:'欢迎来到<span class="highlight">缘结良缘</span>！这是一款充满东方韵味的爱情占卜应用。在这里，缘结神将为你指引前方的缘分之路。让我们开始一段奇妙的占卜之旅吧！',tip:"每次占卜都会被记录下来，当你的占卜次数增加，将会解锁更高级的签文。"},{title:"选择签文类型",description:'您可以从多种签文类型中进行选择，包括<span class="highlight">爱情缘分、前世姻缘、双人合卦、星座配对</span>等。每种类型都有其独特的解读方式，满足您不同的占卜需求。',tip:"不同类型的签文会给您提供不同角度的缘分解读，建议您都尝试一下。"},{title:"摇铃求签",description:'点击中央的<span class="highlight">铃铛</span>或使用右下角的快捷按钮，即可开始抽签。摇铃的过程中伴随着清脆的风铃声，寓意着唤醒沉睡的缘分。',tip:"铃铛的摇动需要一定的诚意，在抽签前可以默默许下心愿，增加灵验度。"},{title:"查看签文结果",description:'每一签都包含<span class="highlight">诗词、解读和建议</span>三个部分。诗词蕴含玄机，解读阐明含义，建议则为您的行动提供指引。仔细阅读，感受缘结神为您指引的方向。',tip:"每个签文都有自己的颜色，代表着不同的运势强度。签文的含义需要结合自身情况理解。"},{title:"个人资料设置",description:'点击右下角的<span class="highlight">个人头像按钮</span>，可以设置您的姓名、生日等信息。系统会根据您的生日计算星座，并生成与您相关的幸运数字。',tip:"完善个人资料后，系统能提供更加个性化的占卜结果，特别是在姓名解析和星座配对中。"},{title:"查看历史记录",description:'点击右下角的<span class="highlight">历史记录按钮</span>，可以查看您之前的所有占卜结果。历史记录会按时间排序，方便您回顾和对比不同时期的运势变化。',tip:"定期查看历史记录，可以帮助您发现缘分的规律和变化趋势，指导您把握时机。"},{title:"开始你的缘分之旅",description:'现在，您已经了解了<span class="highlight">缘结良缘</span>的基本功能。请记住，占卜只是为您提供参考和启发，真正的缘分需要您用心经营和把握。祝您早日寻得良缘！',tip:"本应用纯属娱乐，请理性看待占卜结果。最重要的是保持积极心态，勇敢追寻自己的幸福！"}],b=g((()=>f[p.value]||null)),k=()=>{p.value<f.length-1&&p.value++},_=()=>{p.value>0&&p.value--},S=e=>{p.value=e};w((()=>u.isVisible),(e=>{e&&(p.value=0)}),{immediate:!0});const D=()=>{localStorage.setItem("hasSeenTutorial","true"),m.value=!0,d("close")},$=e=>{e.target.classList.contains("tutorial-overlay")&&D()};return t((()=>{m.value="true"===localStorage.getItem("hasSeenTutorial"),p.value=0})),i({hasSeenTutorial:m,nextStep:k,prevStep:_,goToStep:S}),(e,t)=>a.isVisible?(n(),l("div",{key:0,class:"tutorial-overlay",onClick:$},[v("div",{class:"tutorial-content",onClick:t[0]||(t[0]=M((()=>{}),["stop"]))},[v("div",{class:"tutorial-header"},[t[1]||(t[1]=v("h2",null,"欢迎使用缘结良缘",-1)),v("button",{class:"close-button",onClick:D},"×")]),v("div",ft,[v("div",ht,[v("div",yt,y(p.value+1)+"/"+y(f.length),1),v("div",gt,[v("h3",null,y(b.value?b.value.title:""),1),b.value?(n(),l("p",{key:0,innerHTML:b.value.description},null,8,bt)):h("",!0),b.value&&b.value.tip?(n(),l("p",kt,[t[2]||(t[2]=v("strong",null,"小贴士：",-1)),C(y(b.value.tip),1)])):h("",!0)])]),v("div",wt,[v("button",{class:"nav-button prev",onClick:_,disabled:0===p.value,type:"button"},"上一步",8,Ct),v("div",_t,[(n(),l(s,null,o(f,((e,t)=>v("span",{key:"dot-"+t,class:r(["dot",{active:p.value===t}]),onClick:e=>S(t)},null,10,Mt))),64))]),p.value<f.length-1?(n(),l("button",{key:0,class:"nav-button next",onClick:k,type:"button"},"下一步")):(n(),l("button",{key:1,class:"nav-button finish",onClick:D,type:"button"},"开始体验"))])])])])):h("",!0)}},[["__scopeId","data-v-0f8f97f3"]]),Dt={key:0,class:"sound-missing-hint"},$t=O({__name:"SoundMissingHint",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=t,s=()=>{localStorage.setItem("soundHintDismissed","true"),a("close")};return(t,a)=>e.isVisible?(n(),l("div",Dt,[v("div",{class:"hint-content"},[a[0]||(a[0]=v("div",{class:"hint-icon"},"🔊",-1)),a[1]||(a[1]=v("div",{class:"hint-message"},[v("p",null,"找不到风铃音效文件"),v("p",{class:"hint-detail"},[C("请在 "),v("code",null,"public/sounds"),C(" 目录下添加 "),v("code",null,"wind-chime.mp3"),C(" 文件")])],-1)),v("button",{class:"close-button",onClick:s},"×")])])):h("",!0)}},[["__scopeId","data-v-1c47a828"]]),It={1:{name:"初级签文",description:"入门缘分测试",requiredDraws:0},2:{name:"中级签文",description:"更深层次的缘分指引",requiredDraws:10},3:{name:"高级签文",description:"揭示隐藏的缘分密码",requiredDraws:30},4:{name:"神级签文",description:"最精准的缘分天机",requiredDraws:50}},Ft=I("user",(()=>{const t=e(H("username","")),a=e(H("fortuneCount",0)),l=e(H("visitCount",0)),n=e(H("lastVisit","")),s=e(H("preferences",{theme:"light",soundEnabled:!0,showHistory:!0})),o=g((()=>(e=>{let t=1;for(let a=4;a>0;a--)if(e>=It[a].requiredDraws){t=a;break}return t})(a.value)));return{username:t,fortuneCount:a,visitCount:l,lastVisit:n,preferences:s,userLevel:o,setUsername:function(e){t.value=e,B("username",e)},incrementFortuneCount:function(){a.value++,B("fortuneCount",a.value)},recordVisit:function(){l.value++,n.value=(new Date).toISOString(),B("visitCount",l.value),B("lastVisit",n.value)},updatePreferences:function(e){s.value={...s.value,...e},B("preferences",s.value)},resetUserData:function(){t.value="",a.value=0,B("username",""),B("fortuneCount",0)}}})),xt={class:"date-display"},Et={id:"app-container"},Tt={class:"main-content"},At=T(O({__name:"App",setup(s){const o=E((()=>j((()=>import("./NameFortune-Dd6nqgVU.js")),__vite__mapDeps([0,1,2,3,4,5])))),i=E((()=>j((()=>import("./CoupleFortuneDrawing-CKWjRnu4.js")),__vite__mapDeps([6,1,2,3,4,7])))),c=E((()=>j((()=>import("./ZodiacCompatibility-BK-edROU.js")),__vite__mapDeps([8,2,1,3,4,9])))),u=E((()=>j((()=>import("./DestinyBall-CbW_smAK.js")),__vite__mapDeps([10,1,3,2,4,11])))),d=P(),m=Ft(),f=e(null),b=e(null),k=e(null),C=g((()=>{const e=new Date;return`${e.getFullYear()}年${(e.getMonth()+1).toString().padStart(2,"0")}月${e.getDate().toString().padStart(2,"0")}日`})),M=e(!1),S=e("爱情缘分"),D=e(!1),$=e(!1),{preload:I}=V(),T=()=>{M.value||(M.value=!0,W(),setTimeout((()=>{d.drawFortune(S.value)}),2500),setTimeout((()=>{M.value=!1}),6e3))},A=()=>{d.resetFortune(),setTimeout((()=>{T()}),300)};t((()=>{for(let e=0;e<localStorage.length;e++){localStorage.key(e)}"true"===localStorage.getItem("hasSeenTutorial")||setTimeout((()=>{$.value=!0}),1500),m.recordVisit(),z(),window.addEventListener("keydown",L)})),a((()=>{window.removeEventListener("keydown",L)}));const L=e=>{e.shiftKey&&"T"===e.key&&H(),e.shiftKey&&"R"===e.key&&X()},z=async()=>{try{await I(["sounds/wind-chime.mp3","sounds/bells.mp3","sounds/reveal.mp3"])}catch(e){D.value=!0}},H=()=>{$.value=!0},B=()=>{"true"===localStorage.getItem("soundHintDismissed")||(D.value=!0)},N=()=>{D.value=!1},O=()=>{$.value=!1,localStorage.setItem("hasSeenTutorial","true")},q=e=>{S.value=e,d.setCategory(e),d.resetFortune()},K=()=>{M.value=!0},J=()=>{M.value=!1};w((()=>d.selectedFortune),(e=>{e&&b.value&&setTimeout((()=>{b.value.addCurrentFortuneToHistory()}),1e3)}));const W=()=>{M.value||(M.value=!0,setTimeout((()=>{M.value=!1}),2e3))},Y=()=>{k.value?k.value.drawFortune():T()},G=()=>{b.value&&b.value.toggleHistory()},Q=()=>{f.value&&f.value.toggleProfile()},X=()=>{confirm("确定要重置教程状态吗？这将在下次刷新页面时再次显示新手教程。")&&(localStorage.removeItem("hasSeenTutorial"),$.value=!0)};return(e,t)=>(n(),l("div",{id:"app-outer-container",class:r({animating:M.value})},[p(R),p(U),v("div",xt,y(C.value),1),p(ze,{ref_key:"historyRef",ref:b},null,512),p(mt,{ref_key:"profileRef",ref:f},null,512),v("div",Et,[p(Z),v("main",Tt,[p(Re,{"selected-category":S.value,onCategoryChange:q},null,8,["selected-category"]),"name"===_(d).currentCategory?(n(),F(_(o),{key:0})):"couple"===_(d).currentCategory?(n(),F(_(i),{key:1})):"zodiac"===_(d).currentCategory?(n(),F(_(c),{key:2})):"destiny_ball"===_(d).currentCategory?(n(),F(_(u),{key:3})):(n(),F(ee,{key:4,category:S.value,disabled:M.value,onClick:T,onAnimationStart:K,onAnimationEnd:J,onSoundError:B,ref_key:"fortuneButtonRef",ref:k},null,8,["category","disabled"])),_(d).selectedFortune?(n(),F(ge,{key:5,fortune:_(d).selectedFortune,typeColor:_(d).fortuneTypeColor,onDrawAgain:A},null,8,["fortune","typeColor"])):h("",!0)]),p(Ce)]),(n(),F(x,{to:"body"},[v("div",{class:"function-buttons"},[v("div",{class:"function-button fortune-draw",onClick:Y,title:"求签"},t[0]||(t[0]=[v("span",{class:"button-icon"},"🔮",-1)])),v("div",{class:"function-button history-quick",onClick:G,title:"历史记录"},t[1]||(t[1]=[v("span",{class:"button-icon"},"📜",-1)])),v("div",{class:"function-button profile-quick",onClick:Q,title:"个人信息"},t[2]||(t[2]=[v("span",{class:"button-icon"},"🎀",-1)])),v("div",{class:"function-button tutorial-quick",onClick:H,title:"查看教程"},t[3]||(t[3]=[v("span",{class:"button-icon"},"📖",-1)]))])])),p($t,{"is-visible":D.value,onClose:N},null,8,["is-visible"]),p(St,{"is-visible":$.value,onClose:O},null,8,["is-visible"])],2))}},[["__scopeId","data-v-5ed9bca3"]]));At.use(A()),At.mount("#app");export{O as _};
