const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NameFortune-Dd6nqgVU.js","assets/vendor-BdasZo-s.js","assets/fortune-data-CSgtve2-.js","assets/utils-tmAjFC_f.js","assets/composables-CKSE-Hpx.js","assets/NameFortune-BtPRVo6M.css","assets/CoupleFortuneDrawing-CKWjRnu4.js","assets/CoupleFortuneDrawing-BL2RiAP_.css","assets/ZodiacCompatibility-BK-edROU.js","assets/ZodiacCompatibility-C-Sz09gA.css","assets/DestinyBall-CbW_smAK.js","assets/DestinyBall-YRbg_LKv.css"])))=>i.map(i=>d[i]);
import{r as e,o as t,a,b as l,e as n,F as s,f as o,n as i,g as r,w as c,h as u,i as d,j as v,k as p,T as m,l as f,m as h,t as y,c as g,p as b,q as k,s as w,u as C,v as _,x as M,y as S,z as D,A as $,d as I,B as F,C as x,D as E,E as T,G as A}from"./vendor-BdasZo-s.js";import{p as L,s as z,g as H,b as B}from"./utils-tmAjFC_f.js";import{u as P}from"./fortune-data-CSgtve2-.js";import{u as V}from"./composables-CKSE-Hpx.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const N={},j=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),n=(null==a?void 0:a.nonce)||(null==a?void 0:a.getAttribute("nonce"));l=e(t.map((e=>{if((e=function(e){return"/Kizuna-Mikuji/"+e}(e))in N)return;N[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script"),l.crossOrigin="",l.href=e,n&&l.setAttribute("nonce",n),document.head.appendChild(l),t?new Promise(((t,a)=>{l.addEventListener("load",t),l.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return l.then((t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},O=(e,t)=>{const a=e.__vccOpts||e;for(const[l,n]of t)a[l]=n;return a},q={id:"sakura-container-vue"},R=O({__name:"SakuraBackground",setup(c){const u=e([]);let d=null;const v=e=>({left:e.left+"vw",animationDuration:`${e.fallDuration}s, ${e.swayDuration}s`,animationDelay:`${e.fallDelay}s, ${e.swayDelay}s`,opacity:e.opacity,transform:`scale(${e.scale}) rotate(${e.rotation}deg)`,filter:`hue-rotate(${e.hue}deg)`}),p=()=>{const e=m()+Math.floor(10*Math.random()),t=["type1","type2","type3","type4","type5","type6"];u.value=[];for(let a=0;a<e;a++)u.value.push({type:t[Math.floor(Math.random()*t.length)],left:100*Math.random(),fallDuration:8*Math.random()+7,fallDelay:10*Math.random(),swayDuration:3*Math.random()+2,swayDelay:2*Math.random(),opacity:.5+.5*Math.random(),scale:.7+.6*Math.random(),rotation:360*Math.random(),hue:20*Math.random()-10})},m=()=>{const e=window.innerWidth;return e<480?15:e<768?25:e<1200?35:45},f=()=>{p()};return t((()=>{p(),(()=>{const e=(new Date).getMonth();let t=0;t=e>=2&&e<=4?0:e>=5&&e<=7?15:e>=8&&e<=10?30:-20,u.value.forEach((e=>{e.hue=t+20*Math.random()-10}))})(),window.addEventListener("resize",f),d=setInterval((()=>{(()=>{const e=["type1","type2","type3","type4","type5","type6"],t=Math.floor(3*Math.random())+1;for(let l=0;l<t;l++)u.value.push({type:e[Math.floor(Math.random()*e.length)],left:100*Math.random(),fallDuration:8*Math.random()+7,fallDelay:0,swayDuration:3*Math.random()+2,swayDelay:0,opacity:.5+.5*Math.random(),scale:.7+.6*Math.random(),rotation:360*Math.random(),hue:20*Math.random()-10});const a=m()+20;u.value.length>a&&(u.value=u.value.slice(u.value.length-a))})()}),1e4)})),a((()=>{window.removeEventListener("resize",f),d&&clearInterval(d)})),(e,t)=>(n(),l("div",q,[(n(!0),l(s,null,o(u.value,((e,t)=>(n(),l("div",{key:t,class:r(["sakura-petal",e.type]),style:i(v(e))},null,6)))),128))]))}},[["__scopeId","data-v-b6a6bf19"]]),U=O({__name:"RedThreadBackground",setup(r){const u=e(null),d=e([]),v=e([]);let p=null;const m=e(!1),f=e=>({left:`${e.left}%`,top:`${e.top}%`,transform:`rotate(${e.rotation}deg) scale(${e.scale})`,opacity:e.opacity,animationDelay:`${e.delay}s`,width:`${e.size}px`,height:`${e.size}px`,filter:`hue-rotate(${e.hue}deg) brightness(${e.brightness})`,animationDuration:`${e.duration}s, ${e.swayDuration}s`});c((()=>{const e=document.body.classList.contains("dark-theme");m.value=e,d.value.length>0&&h()}));const h=()=>{d.value.forEach((e=>{const t=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",a=(.5*Math.random()+.3).toFixed(2);e.element.style.borderColor=t+a+")",e.element.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*a})`:`0 0 8px rgba(238, 40, 40, ${.4*a})`})),v.value.forEach((e=>{e.brightness=m.value?1.2:1}))},y=()=>{if(!u.value)return;d.value.forEach((e=>{e.element&&e.element.parentNode&&e.element.parentNode.removeChild(e.element)})),d.value=[];const e=u.value.getBoundingClientRect(),{width:t,height:a}=e;for(let l=0;l<20;l++){const e=document.createElement("div");e.classList.add("thread"),l%5==0&&e.classList.add("thread-with-knot");const n=Math.random()*t,s=Math.random()*a,o=200*Math.random()+80,i=360*Math.random(),r=5*Math.random(),c=25*Math.random()+20;e.style.left=`${n}px`,e.style.top=`${s}px`,e.style.width=`${o}px`,e.style.transform=`rotate(${i}deg)`,e.style.animationDelay=`${r}s`,e.style.animationDuration=`${c}s`;const v=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",p=(.5*Math.random()+.3).toFixed(2);e.style.borderColor=v+p+")",e.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*p})`:`0 0 8px rgba(238, 40, 40, ${.4*p})`,u.value.appendChild(e),d.value.push({element:e,speed:.5*Math.random()+.1,angle:i})}},g=()=>{d.value.forEach((e=>{const t=parseFloat(e.element.style.top),a=parseFloat(e.element.style.left),l=t-e.speed,n=a+.5*Math.sin(.01*t);if(l<-100){const t=u.value,a=t.offsetWidth;e.element.style.top=`${t.offsetHeight+50}px`,e.element.style.left=Math.random()*a+"px";const l=360*Math.random();e.element.style.transform=`rotate(${l}deg)`,e.angle=l;const n=m.value?"rgba(255, 76, 76, ":"rgba(238, 40, 40, ",s=(.5*Math.random()+.3).toFixed(2);e.element.style.borderColor=n+s+")",e.element.style.boxShadow=m.value?`0 0 10px rgba(255, 76, 76, ${.6*s})`:`0 0 8px rgba(238, 40, 40, ${.4*s})`}else e.element.style.top=`${l}px`,e.element.style.left=`${n}px`;const s=e.angle,o=.2*(Math.random()-.5);e.angle=s+o,e.element.style.transform=`rotate(${e.angle}deg)`})),p=requestAnimationFrame(g)},b=()=>{y()};return t((()=>{y(),(()=>{v.value=[];for(let e=0;e<7;e++)v.value.push({id:e,left:95*Math.random(),top:95*Math.random(),rotation:30*Math.random()-15,scale:.6+.6*Math.random(),opacity:.5+.5*Math.random(),delay:5*Math.random(),size:20+15*Math.random(),hue:20*Math.random()-10,brightness:m.value?1.2:1,duration:15+10*Math.random(),swayDuration:5+5*Math.random()})})(),p=requestAnimationFrame(g),window.addEventListener("resize",b)})),a((()=>{p&&cancelAnimationFrame(p),window.removeEventListener("resize",b)})),(e,t)=>(n(),l("div",{id:"red-thread-container",ref_key:"threadContainer",ref:u},[(n(!0),l(s,null,o(v.value,(e=>(n(),l("div",{key:e.id,class:"bell-decoration",style:i(f(e))},null,4)))),128))],512))}},[["__scopeId","data-v-7afe1a45"]]),K={class:"fortune-header"},J={class:"central-content"},W={class:"logo-container"},Y={key:0,class:"speech-bubble left"},G={key:0,class:"speech-bubble right"},Z=O(u({__name:"Header",setup(e){const t=["ä¸ï¼å‡†ï¼éšï¼ä¾¿ï¼å†’çŠ¯ç¥æ˜â€”â€”.mp3","ç¼˜åˆ†ä¸æ„å¤–å…¶å®æ˜¯ä¸€æ ·çš„â€”â€”æ°¸è¿œä¸çŸ¥é“ä¼šæ˜¯å“ªä¸ªçªç„¶å‡ºç°.mp3","ä¸–é—´ä¹‹ç¼˜ï¼Œåˆä½•æ­¢åªå±äºæœ‰å¹¸ç›¸å®ˆä¹‹äºº.mp3","çºµä½¿ç›¸éš”æ—¶é—´ä¸ç”Ÿæ­»ï¼Œä¹Ÿä¸æ›¾çœŸæ­£åˆ†ç¦»ï¼Œè¿™æ‰æ˜¯ç¼˜åˆ†.mp3","æœªèƒ½ä¼ è¾¾çš„å¿ƒæ„å¯æ— æ³•æ„ŸçŸ¥.mp3","å‘œ...å‘œå•Š~.mp3","ä¸è¦æƒ¹æˆ‘ï¼Œæˆ‘è¶…å‡¶çš„.mp3","æˆ‘æ‰ä¸ç–¼å‘¢.mp3","å†æ‘¸ï¼Œå†æ‘¸æˆ‘å¯å°±è¦ç”Ÿæ°”äº†.mp3","è¿™ä¸–é—´ç«Ÿæœ‰å¦‚æ­¤èˆ¬é…çš„äºŒäºº.mp3","å“¼ï¼Œå¯ä¸è¦å°çœ‹æˆ‘äº†.mp3","æˆ‘ä¸€å®šä¼šç»™ä½ å¸¦æ¥å¹¸ç¦.mp3"],a=d({content:"",visible:!1,timerId:null}),s=d({content:"",visible:!1,timerId:null});let o=null;const i=()=>{o&&z(o);const e=Math.floor(Math.random()*t.length),a=t[e];L(`sounds/ç¼˜ç»“ç¥è¯­å½•åˆé›†/${a}`,1,(e=>{})).then((e=>{o=e})).catch((e=>{})),r(a)},r=e=>{const t=e.replace(".mp3",""),l="left"===(Math.random()>.5?"left":"right")?a:s;null!==l.timerId&&clearTimeout(l.timerId),l.content=t,l.visible=!0,l.timerId=window.setTimeout((()=>{l.visible=!1,l.timerId=null}),4e3)};return(e,t)=>(n(),l("header",K,[t[2]||(t[2]=v("div",{class:"header-decoration left-decoration"},null,-1)),v("div",J,[v("div",W,[v("img",{src:"/Kizuna-Mikuji/images/%E7%BC%98%E7%BB%93%E7%A5%9E%E5%A4%B4%E5%83%8F.png",alt:"ç¼˜ç»“ç¥å¤´åƒ",class:"header-logo",onClick:i}),p(m,{name:"bubble"},{default:f((()=>[a.visible?(n(),l("div",Y,y(a.content),1)):h("",!0)])),_:1}),p(m,{name:"bubble"},{default:f((()=>[s.visible?(n(),l("div",G,y(s.content),1)):h("",!0)])),_:1})]),t[0]||(t[0]=v("h1",{class:"header-title"},"ç¼˜ç»“è‰¯ç¼˜",-1)),t[1]||(t[1]=v("p",{class:"header-description"},"ç›¸ä¿¡å‘½è¿çº¢çº¿çš„æŒ‡å¼•ï¼Œè®©ç¼˜ç»“ç¥ä¸ºä½ æŒ‡å¼•ä»Šæ—¥çš„å§»ç¼˜",-1))]),t[3]||(t[3]=v("div",{class:"header-decoration right-decoration"},null,-1))]))}}),[["__scopeId","data-v-521d73f3"]]),Q={key:0,class:"red-string-animation-container"},X={key:0,class:"particles-container"},ee=O(u({__name:"FortuneButton",props:{category:{type:String,default:"çˆ±æƒ…ç¼˜åˆ†"},disabled:{type:Boolean,default:!1}},emits:["click","animation-start","animation-end","sound-error"],setup(t,{expose:a,emit:c}){const u=t,d=c,p=P(),m=e(!1),{play:f,hasError:y}=V();g((()=>({"çˆ±æƒ…ç¼˜åˆ†":"æ‹–åŠ¨é“ƒé“›æˆ–ç‚¹å‡»æŒ‰é’®ï¼Œè†å¬çˆ±æƒ…çš„å£°éŸ³","å‰ä¸–å§»ç¼˜":"æ‘‡åŠ¨é“ƒé“›ï¼Œçª¥æ¢å‰ä¸–çš„æƒ…ç¼˜å¯†ç ","äº‹ä¸šè¿åŠ¿":"è½»æ‘‡ç»“ç¼˜é“ƒï¼Œè§£è¯»ä½ çš„äº‹ä¸šæœºé‡","äººé™…å…³ç³»":"é“ƒå£°æ‚ æ‰¬ï¼Œäººé™…å…³ç³»è‡ªç„¶ç•…é€š","å¥åº·å¹³å®‰":"ä¸€é“ƒä¸€ç¦ï¼Œç¥ˆæ„¿å¹³å®‰å¥åº·","å§“åè§£æ":"è¾“å…¥å§“åï¼Œè§£è¯»åå­—çš„ç§˜å¯†","å§»ç¼˜é…å¯¹":"å¡«å†™åŒæ–¹å§“åï¼Œæµ‹è¯•ä½ ä»¬çš„ç¼˜åˆ†","æ¯æ—¥ä¸€ç­¾":"æ¯æ—¥ä¸€æ‘‡ï¼Œå‰ç¥¥å¦‚æ„"}[u.category]||"æ‹–åŠ¨é“ƒé“›ï¼Œè†å¬ç¼˜åˆ†çš„å£°éŸ³")));const w=async()=>{if(!m.value&&!u.disabled){m.value=!0,d("animation-start"),d("click");try{await C(),await new Promise((e=>setTimeout(e,2200))),p.drawFortune()}catch(e){}finally{setTimeout((()=>{m.value=!1,d("animation-end")}),800)}}},C=async()=>{try{await f("sounds/wind-chime.mp3",.7)}catch(e){d("sound-error")}y.value&&d("sound-error")};return a({drawFortune:w}),(e,t)=>(n(),l("div",{class:r(["onmyoji-button-container",{drawing:m.value}])},[v("div",{class:r(["fortune-cylinder",{disabled:m.value||u.disabled,"drawing-animation":m.value}]),onClick:w,role:"button",tabindex:"0",onKeydown:[k(w,["enter"]),k(w,["space"])]},[t[1]||(t[1]=b('<div class="cylinder-top-rim" data-v-83f6fa22></div><div class="cylinder-body" data-v-83f6fa22><div class="cylinder-text-background" data-v-83f6fa22><span class="cylinder-text" data-v-83f6fa22>ç­¾</span></div></div><div class="cylinder-bottom-rim" data-v-83f6fa22></div>',3)),m.value?(n(),l("div",Q,t[0]||(t[0]=[b('<div class="red-string string-1" data-v-83f6fa22></div><div class="red-string string-2" data-v-83f6fa22></div><div class="red-string string-3" data-v-83f6fa22></div><div class="knot-effigy" data-v-83f6fa22><span class="petal petal-1" data-v-83f6fa22></span><span class="petal petal-2" data-v-83f6fa22></span><span class="petal petal-3" data-v-83f6fa22></span><span class="petal petal-4" data-v-83f6fa22></span><span class="petal petal-5" data-v-83f6fa22></span></div>',4)]))):h("",!0)],34),m.value?(n(),l("div",X,[(n(),l(s,null,o(12,(e=>{return v("div",{key:e,class:"particle",style:i((t=e,{"--angle":t/12*Math.PI*2+"rad","--delay":t%5*.1+"s","--size":8*Math.random()+4+"px","--distance":60*Math.random()+40+"px","--hue":30*t%360+"deg"}))},null,4);var t})),64))])):h("",!0)],2))}}),[["__scopeId","data-v-83f6fa22"]]),te={key:0,class:"zodiac-result-badge"},ae={key:1,class:"fortune-level-container"},le={key:0,class:"special-badge reveal-item"},ne={key:2,class:"zodiac-info-container"},se={class:"zodiac-pair"},oe={class:"zodiac-name"},ie={class:"compatibility-meter"},re={class:"hearts-container"},ce={class:"compatibility-label"},ue={class:"zodiac-pair"},de={class:"zodiac-name"},ve={class:"fortune-card-wrapper"},pe={class:"fortune-card"},me={class:"fortune-content-inner"},fe=["innerHTML"],he=["innerHTML"],ye={key:0,class:"fortune-suggestion reveal-item"},ge=O(u({__name:"FortuneResult",props:{fortune:{type:Object,required:!0},typeColor:{type:String,default:"#D9544D"}},emits:["drawAgain"],setup(e){const a=P(),c=e,u=g((()=>c.fortune&&c.fortune.sign1&&c.fortune.sign2));w((()=>a.selectedFortune),(e=>{e&&e.sign1&&e.sign2})),t((()=>{}));const d=e=>({1:"æœ‰æŒ‘æˆ˜",2:"éœ€ç£¨åˆ",3:"ä¸€èˆ¬åŒ¹é…",4:"è¾ƒä¸ºåˆé€‚",5:"å¤©ä½œä¹‹åˆ"}[e]||"ç¼˜åˆ†æœªçŸ¥");function p(e){return{"ç™½ç¾Šåº§":"â™ˆ","é‡‘ç‰›åº§":"â™‰","åŒå­åº§":"â™Š","å·¨èŸ¹åº§":"â™‹","ç‹®å­åº§":"â™Œ","å¤„å¥³åº§":"â™","å¤©ç§¤åº§":"â™","å¤©èåº§":"â™","å°„æ‰‹åº§":"â™","æ‘©ç¾¯åº§":"â™‘","æ°´ç“¶åº§":"â™’","åŒé±¼åº§":"â™“"}[e]||"âœ¨"}const m=g((()=>{if(c.fortune.level){return{5:"#E6A23C",4:"#D9544D",3:"#E56D61",2:"#F08A5D",1:"#B8A2D1"}[c.fortune.level]||c.typeColor}return c.typeColor}));function f(e){return{"ç™½ç¾Šåº§":"#FF4500","é‡‘ç‰›åº§":"#228B22","åŒå­åº§":"#FFD700","å·¨èŸ¹åº§":"#B0C4DE","ç‹®å­åº§":"#FFA500","å¤„å¥³åº§":"#9370DB","å¤©ç§¤åº§":"#F08080","å¤©èåº§":"#800000","å°„æ‰‹åº§":"#4682B4","æ‘©ç¾¯åº§":"#696969","æ°´ç“¶åº§":"#00BFFF","åŒé±¼åº§":"#EE82EE"}[e]||"#D9544D"}return(t,c)=>{return n(),l("div",{class:r(["fortune-result",{visible:_(a).isFortuneVisible,"zodiac-result":u.value}])},[u.value?(n(),l("div",te,c[1]||(c[1]=[v("span",null,"ğŸ’Œ ç¼˜åˆ†åˆç›˜ ğŸ’Œ",-1)]))):h("",!0),e.fortune.level&&!u.value?(n(),l("div",ae,[v("span",{class:r(["level-badge reveal-item",`level-${e.fortune.level}`])},y((g=e.fortune.level,(null==(b=a.fortuneLevels[g])?void 0:b.name)||"æ™®é€šç­¾æ–‡")),3),e.fortune.isSpecial?(n(),l("span",le,c[2]||(c[2]=[v("span",{class:"special-badge-icon"},"âœ¨",-1),C("ç¼˜åˆ†è½¬æœº ")]))):h("",!0)])):h("",!0),u.value?(n(),l("div",ne,[v("div",se,[v("div",{class:"zodiac-icon",style:i({borderColor:f(e.fortune.sign1)})},y(p(e.fortune.sign1)),5),v("div",oe,y(e.fortune.sign1),1)]),v("div",ie,[v("div",re,[(n(),l(s,null,o(5,(t=>v("span",{key:t,class:r(["heart",{filled:t<=(e.fortune.compatibility||0)}])},null,2))),64))]),v("div",ce,y(d(e.fortune.compatibility)),1)]),v("div",ue,[v("div",{class:"zodiac-icon",style:i({borderColor:f(e.fortune.sign2)})},y(p(e.fortune.sign2)),5),v("div",de,y(e.fortune.sign2),1)])])):h("",!0),v("div",ve,[v("div",pe,[c[4]||(c[4]=v("div",{class:"scroll-top"},null,-1)),c[5]||(c[5]=v("div",{class:"scroll-bottom"},null,-1)),c[6]||(c[6]=v("div",{class:"light-effect"},null,-1)),v("div",me,[v("div",{class:"fortune-type reveal-item",style:i({backgroundColor:m.value})},y(e.fortune.type),5),v("div",{class:"fortune-poem reveal-item",innerHTML:e.fortune.poem},null,8,fe),v("div",{class:"fortune-interpretation reveal-item",innerHTML:e.fortune.interpretation},null,8,he),e.fortune.suggestion?(n(),l("div",ye,[c[3]||(c[3]=v("span",{class:"suggestion-label"},"ã€ç¼˜ç»“ç§˜è¯­ã€‘",-1)),C(" "+y(e.fortune.suggestion),1)])):h("",!0)])])]),v("button",{class:"draw-again-btn reveal-item",onClick:c[0]||(c[0]=e=>t.$emit("drawAgain"))},c[7]||(c[7]=[v("span",{class:"btn-icon"},"ğŸ”",-1),C(" å†ç»“è‰¯ç¼˜ ")]))],2);var g,b}}}),[["__scopeId","data-v-c9da7732"]]),be={class:"fortune-footer"},ke={class:"footer-content"},we={class:"social-links"},Ce=O(u({__name:"Footer",setup(t){const a=e(!1),s=e(null),o=async()=>{const e="ã€ç¼˜ç»“è‰¯ç¼˜ã€‘å¬è¯´å‘½è¿çº¢çº¿ç”±ç¼˜ç»“ç¥æŒç®¡ï¼Ÿè¿™æ¬¾å”¯ç¾æ—¥ç³»åº”ç”¨èƒ½é¢„æµ‹ä½ çš„å‰ä¸–å§»ç¼˜ï¼Œçœ‹ä½ å’ŒTAæ˜¯å¦æœ‰ç¥èµç¼˜åˆ†ï¼Œçº¢çº¿ä¸€ç‰µï¼Œå§»ç¼˜å¤©æˆï¼Œå¿«æ¥æµ‹è¯•å§ï¼\n\nhttps://tera-dark.github.io/Kizuna-Mikuji/";try{await navigator.clipboard.writeText(e),a.value=!0,setTimeout((()=>{a.value=!1}),2e3)}catch(t){const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select();try{document.execCommand("copy"),a.value=!0,setTimeout((()=>{a.value=!1}),2e3)}catch(l){alert(`ç„¡æ³•è¤‡è£½å…§å®¹ï¼Œè«‹æ‰‹å‹•è¤‡è£½:\n\n${e}`)}document.body.removeChild(n)}};return(e,t)=>(n(),l("footer",be,[t[5]||(t[5]=v("div",{class:"footer-decoration top-knot"},null,-1)),v("div",ke,[t[3]||(t[3]=v("p",{class:"main-text"},"æœ¬å åœä»…ä¾›å¨±ä¹ï¼Œæ„¿å¤©ä¸‹æœ‰æƒ…äººç»ˆæˆçœ·å±ï¼",-1)),t[4]||(t[4]=v("p",{class:"sub-text"},[v("small",null,"èƒŒæ™¯å›¾ç‰‡ç´ æé¸£è°¢ é˜´é˜³å¸ˆé¡¹ç›®ç»„")],-1)),v("div",we,[v("a",{href:"#",class:"social-link",title:"å¤åˆ¶åˆ†äº«é“¾æ¥",onClick:M(o,["prevent"])},t[1]||(t[1]=[v("span",{class:"social-icon"},"ğŸ’Œ",-1)])),v("a",{href:"#",class:"social-link",title:"åˆ†äº«åˆ°ç¤¾äº¤å¹³å°",onClick:t[0]||(t[0]=M((e=>(()=>{const e=window.location.href;{const t=`http://service.weibo.com/share/share.php?url=${encodeURIComponent(e)}&title=${encodeURIComponent("æˆ‘åœ¨'ç¼˜ç»“è‰¯ç¼˜'æ±‚äº†ä¸€æ”¯ç­¾ï¼Œå¿«æ¥ä¸€èµ·ä½“éªŒç¼˜åˆ†çš„å¥‡å¦™å§ï¼")}`;window.open(t,"_blank")}})()),["prevent"]))},t[2]||(t[2]=[v("span",{class:"social-icon"},"ğŸ”—",-1)]))])]),t[6]||(t[6]=v("div",{class:"stamp-decoration"},[v("span",{class:"stamp-text"},"ç¼˜")],-1)),t[7]||(t[7]=v("div",{class:"footer-decoration bottom-knot"},null,-1)),a.value?(n(),l("div",{key:0,class:"copy-success-toast",ref_key:"toastRef",ref:s}," æ–‡æ¡ˆå’Œé“¾æ¥å·²å¤åˆ¶ï¼Œå¿«å»åˆ†äº«å§ï¼ ",512)):h("",!0)]))}}),[["__scopeId","data-v-7e9feba7"]]),_e={class:"history-content"},Me={key:0,class:"empty-history"},Se={key:1,class:"history-list"},De=["onClick"],$e={class:"history-date"},Ie={class:"expand-icon"},Fe={key:0,class:"history-item-details"},xe=["innerHTML"],Ee={class:"action-buttons"},Te=["onClick"],Ae=["onClick"],Le={key:2,class:"history-actions"},ze=O(u({__name:"FortuneHistory",setup(a,{expose:c}){const u=P(),d=e(!1),p=e([]),m=e(-1),f=e=>{const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`},g=()=>{localStorage.setItem("fortuneHistory",JSON.stringify(p.value))},b=()=>{confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•å—ï¼Ÿ")&&(p.value=[],m.value=-1,g())};return c({toggleHistory:()=>{d.value=!d.value},addCurrentFortuneToHistory:()=>{var e;u.selectedFortune&&u.isFortuneVisible&&(e=u.selectedFortune,p.value.unshift({date:(new Date).toISOString(),fortune:e}),p.value.length>20&&(p.value=p.value.slice(0,20)),g())}}),t((()=>{(()=>{const e=localStorage.getItem("fortuneHistory");e&&(p.value=JSON.parse(e))})()})),(e,t)=>(n(),l("div",{class:r(["history-container",{"history-open":d.value}])},[v("div",_e,[t[4]||(t[4]=v("h3",{class:"history-title"},"æŠ½ç­¾å†å²",-1)),0===p.value.length?(n(),l("div",Me,t[0]||(t[0]=[v("div",{class:"empty-icon"},"ğŸ“œ",-1),v("p",null,"æš‚æ— å†å²è®°å½•",-1),v("p",{class:"empty-tip"},"æ¯æ¬¡æ±‚ç­¾åçš„ç»“æœéƒ½ä¼šè®°å½•åœ¨è¿™é‡Œ",-1)]))):(n(),l("div",Se,[(n(!0),l(s,null,o(p.value,((e,a)=>{return n(),l("div",{key:a,class:r(["history-item",{expanded:m.value===a}])},[v("div",{class:"history-item-header",onClick:e=>(e=>{m.value=m.value===e?-1:e})(a)},[v("span",$e,y(f(e.date)),1),v("span",{class:"history-type",style:i({color:(s=e.fortune.type,{"ä¸Šä¸Šå¤§å‰":"#ff4757","å¤§å‰":"#e74c3c","ç¼˜åˆç°":"#ff6b81","ä¸­å‰":"#f39c12","æƒœå½“ä¸‹":"#2ecc71","å°å‰":"#2ecc71","å‰":"#55efc4","å°ç¡®å¹¸":"#fdcb6e","å¾…èŠ±å¼€":"#00b894","æœ«å‰":"#3498db","åŒ–è§£ç»“":"#74b9ff","å­¤èŠ³èµ":"#a29bfe","ç»“å–„ç¼˜":"#6c5ce7","è¿·é›¾æ•£":"#ffeaa7","ä¿®è¡Œæ—¶":"#81ecec","å†å›é¦–":"#fab1a0","å°å‡¶":"#9b59b6","è«å¼ºæ±‚":"#e17055","æ¸…å¿ƒå’’":"#00cec9","å¤§å‡¶è­¦ç¤º":"#485460"}[s]||"#c0392b")})},y(e.fortune.type),5),v("span",Ie,y(m.value===a?"â–²":"â–¼"),1)],8,De),m.value===a?(n(),l("div",Fe,[v("p",{class:"history-poem",innerHTML:e.fortune.poem},null,8,xe),v("div",Ee,[v("button",{class:"view-button",onClick:t=>{return a=e.fortune,u.selectedFortune=a,u.isFortuneVisible=!0,void(d.value=!1);var a}},t[1]||(t[1]=[v("span",{class:"btn-icon"},"ğŸ‘ï¸",-1),C("æŸ¥çœ‹è¯¦æƒ… ")]),8,Te),v("button",{class:"delete-button",onClick:M((e=>(e=>{p.value.splice(e,1),m.value=-1,g()})(a)),["stop"])},t[2]||(t[2]=[v("span",{class:"btn-icon"},"ğŸ—‘ï¸",-1),C("åˆ é™¤ ")]),8,Ae)])])):h("",!0)],2);var s})),128))])),p.value.length>0?(n(),l("div",Le,[v("button",{class:"clear-button",onClick:b},t[3]||(t[3]=[v("span",{class:"btn-icon"},"ğŸ§¹",-1),C("æ¸…ç©ºå†å² ")]))])):h("",!0)]),t[5]||(t[5]=v("div",{class:"decoration-element top-left"},null,-1)),t[6]||(t[6]=v("div",{class:"decoration-element top-right"},null,-1)),t[7]||(t[7]=v("div",{class:"decoration-element bottom-left"},null,-1)),t[8]||(t[8]=v("div",{class:"decoration-element bottom-right"},null,-1))],2))}}),[["__scopeId","data-v-d6db1756"]]),He={class:"category-selector"},Be={class:"categories-grid"},Pe=["onClick"],Ve={class:"category-inner"},Ne={class:"category-icon"},je={class:"category-content"},Oe={class:"category-name"},qe={class:"category-desc"},Re=O({__name:"CategorySelector",props:{selectedCategory:{type:String,default:"æ¯æ—¥ä¸€ç­¾"}},emits:["category-change"],setup(e,{emit:t}){const a=t,i=P(),c=[{id:"daily",value:"æ¯æ—¥ä¸€ç­¾",icon:"ğŸ¯",themedIcon:"ğŸ§§",description:"ä»Šæ—¥è¿åŠ¿ä¸è´µäººæŒ‡å¼•"},{id:"love",value:"çˆ±æƒ…ç¼˜åˆ†",icon:"â¤ï¸",themedIcon:"ğŸ’•",description:"æ´æ‚‰ä½ çš„çˆ±æƒ…çŠ¶æ€ä¸æœªæ¥å‘å±•"},{id:"past_life",value:"å‰ä¸–å§»ç¼˜",icon:"ğŸ”®",themedIcon:"â³",description:"æ¢å¯»ä½ ä¸TAçš„å‰ä¸–æƒ…ç¼˜"},{id:"career",value:"äº‹ä¸šè¿åŠ¿",icon:"ğŸ’¼",themedIcon:"ğŸ“ˆ",description:"é¢„æµ‹ä½ çš„èŒåœºå‘å±•ä¸è´¢å¯Œæœºé‡"},{id:"relationship",value:"äººé™…å…³ç³»",icon:"ğŸ‘¥",themedIcon:"ğŸ¤",description:"åˆ†æä½ çš„ç¤¾äº¤åœˆä¸äººé™…çŠ¶å†µ"},{id:"health",value:"å¥åº·å¹³å®‰",icon:"ğŸ€",themedIcon:"ğŸŒ¿",description:"å…³æ³¨ä½ çš„èº«å¿ƒå¥åº·ä¸å¹³å®‰æŒ‡æ•°"},{id:"name",value:"å§“åè§£æ",icon:"ğŸ“",themedIcon:"ğŸ“œ",description:"è§£è¯»ä½ çš„åå­—ä¸­éšè—çš„å¤©æœº"},{id:"zodiac",value:"æ˜Ÿåº§é…å¯¹",icon:"â­",themedIcon:"âœ¨",description:"çœ‹çœ‹ä½ ä»¬çš„æ˜Ÿåº§æ˜¯å¦ç›¸é…"},{id:"couple",value:"å§»ç¼˜é…å¯¹",icon:"ğŸ’•",themedIcon:"ğŸ’",description:"æµ‹è¯•ä½ ä¸TAçš„å¥‘åˆåº¦ä¸ç¼˜åˆ†æŒ‡æ•°"},{id:"destiny_ball",value:"ç»“ç¼˜å¾¡å®ˆ",icon:"ğŸ”®",themedIcon:"ğŸ§§",description:"è½»ç‚¹å¾¡å®ˆï¼Œæ¢å¯»ç„å¦™æŒ‡å¼•"}],u=g((()=>c.filter((e=>"æ¯æ—¥ä¸€ç­¾"!==e.value)))),d=e=>{const t=c.find((t=>t.value===e));t&&(i.setCategory(t.id),a("category-change",e))};return(t,a)=>(n(),l("div",He,[a[2]||(a[2]=v("div",{class:"category-title"},[v("span",{class:"title-decoration left"}),C(" è¯·é€‰æ‹©ç­¾æ–‡ç±»å‹ "),v("span",{class:"title-decoration right"})],-1)),v("div",Be,[v("div",{class:r(["daily-fortune-item",{active:"æ¯æ—¥ä¸€ç­¾"===e.selectedCategory}]),onClick:a[0]||(a[0]=e=>d("æ¯æ—¥ä¸€ç­¾"))},a[1]||(a[1]=[b('<div class="daily-fortune-inner" data-v-6892676f><div class="daily-fortune-icon" data-v-6892676f>ğŸ§§</div><div class="daily-fortune-content" data-v-6892676f><div class="daily-fortune-name" data-v-6892676f>æ¯æ—¥ä¸€ç­¾</div><div class="daily-fortune-desc" data-v-6892676f>ä»Šæ—¥è¿åŠ¿ä¸è´µäººæŒ‡å¼•</div></div><div class="recommended-badge" data-v-6892676f>ä»Šæ—¥æ¨è</div></div>',1)]),2),(n(!0),l(s,null,o(u.value,(t=>(n(),l("div",{key:t.value,class:r(["category-item",{active:e.selectedCategory===t.value}]),onClick:e=>d(t.value)},[v("div",Ve,[v("div",Ne,y(t.themedIcon||t.icon),1),v("div",je,[v("div",Oe,y(t.value),1),v("div",qe,y(t.description),1)])])],10,Pe)))),128))])]))}},[["__scopeId","data-v-6892676f"]]),Ue={class:"profile-scroll-wrapper"},Ke={class:"profile-scroll"},Je={class:"profile-content"},We={class:"profile-form"},Ye={class:"form-group"},Ge={class:"form-group"},Ze={class:"date-select-container themed-date-select-container"},Qe={class:"select-wrapper"},Xe=["value"],et={class:"select-wrapper"},tt=["value"],at={class:"select-wrapper"},lt=["value"],nt={class:"form-group zodiac-group info-display-group"},st={class:"info-display-box zodiac-display"},ot={class:"zodiac-text"},it=["data-icon"],rt={class:"form-group luck-group info-display-group"},ct={class:"info-display-box lucky-display"},ut={class:"lucky-number"},dt={class:"form-group info-display-group"},vt={class:"info-display-box monthly-fortune"},pt={key:0,class:"save-confirmation themed-confirmation"},mt=O(u({__name:"UserProfile",setup(a,{expose:i}){const c=e(!1),u=e(""),d=e(""),p=e(0),m=e(!1),f=e(""),b=e(""),k=e(""),M=(new Date).getFullYear(),I=Array.from({length:M-1949},((e,t)=>M-t)),F=Array.from({length:12},((e,t)=>t+1)),x=(e,t)=>{if(!e||!t)return Array.from({length:31},((e,t)=>t+1));const a=new Date(Number(e),Number(t),0).getDate();return Array.from({length:a},((e,t)=>t+1))},E=()=>{f.value&&b.value&&k.value&&(d.value=`${f.value}-${b.value.toString().padStart(2,"0")}-${k.value.toString().padStart(2,"0")}`)},T=()=>{if(d.value){const[e,t,a]=d.value.split("-");f.value=e,b.value=parseInt(t,10).toString(),k.value=parseInt(a,10).toString()}};w(d,(()=>{d.value&&T()}));const A=g((()=>{if(!d.value)return"æœªçŸ¥";const e=new Date(d.value),t=e.getMonth()+1,a=e.getDate();return 3===t&&a>=21||4===t&&a<=19?"ç™½ç¾Šåº§":4===t&&a>=20||5===t&&a<=20?"é‡‘ç‰›åº§":5===t&&a>=21||6===t&&a<=21?"åŒå­åº§":6===t&&a>=22||7===t&&a<=22?"å·¨èŸ¹åº§":7===t&&a>=23||8===t&&a<=22?"ç‹®å­åº§":8===t&&a>=23||9===t&&a<=22?"å¤„å¥³åº§":9===t&&a>=23||10===t&&a<=23?"å¤©ç§¤åº§":10===t&&a>=24||11===t&&a<=22?"å¤©èåº§":11===t&&a>=23||12===t&&a<=21?"å°„æ‰‹åº§":12===t&&a>=22||1===t&&a<=19?"æ‘©ç¾¯åº§":1===t&&a>=20||2===t&&a<=18?"æ°´ç“¶åº§":"åŒé±¼åº§"})),L=()=>{p.value=Math.floor(99*Math.random())+1},z=g((()=>{const e=["è¯¸äº‹é¡ºé‚ï¼Œå¿ƒæƒ³äº‹æˆ","è´µäººç›¸åŠ©ï¼Œç¦è¿ä¸´é—¨","åº”å®ˆé™å¾…ï¼Œå‹¿æ€¥è¿›å–","äº‹æœ‰æ³¢æŠ˜ï¼Œç»ˆæœ‰æ‰€æˆ","æœºé‡å°†è‡³ï¼ŒæŠŠæ¡å½“ä¸‹","å®œä¿®èº«å…»æ€§ï¼Œå¾…æ—¶è€ŒåŠ¨","å‰æ˜Ÿé«˜ç…§ï¼Œç™¾äº‹å¯ä¸º","é€¢å‡¶åŒ–å‰ï¼Œè½¬å±ä¸ºå®‰","é™å¿ƒä¿®è¡Œï¼Œç¦ç¼˜è‡ªæ¥"];if(!u.value)return"å°šæœªçŸ¥æ™“";return e[(u.value.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)+(new Date).getMonth())%e.length]})),H=()=>{const e={name:u.value,birthdate:d.value,luckyNumber:p.value};localStorage.setItem("userProfile",JSON.stringify(e)),m.value=!0,setTimeout((()=>{m.value=!1}),2e3)},B=()=>{u.value="",d.value="",L(),localStorage.removeItem("userProfile")};t((()=>{(()=>{const e=localStorage.getItem("userProfile");if(e){const t=JSON.parse(e);u.value=t.name||"",d.value=t.birthdate||"",p.value=t.luckyNumber||0,d.value&&T()}else L()})()})),i({toggleProfile:()=>{c.value=!c.value}});return(e,t)=>{return n(),l("div",{class:r(["profile-container",{"profile-open":c.value}])},[t[20]||(t[20]=v("div",{class:"scroll-handle top-handle"},[v("div",{class:"handle-deco"})],-1)),v("div",Ue,[v("div",Ke,[t[17]||(t[17]=v("div",{class:"profile-seal"},[v("span",{class:"seal-text"},"ç¼˜")],-1)),v("div",Je,[t[16]||(t[16]=v("h3",{class:"profile-title"},[v("span",{class:"title-icon left-icon"},"â€"),C(" ç¼˜ä¸»ä¿¡æ¯ "),v("span",{class:"title-icon right-icon"},"â€")],-1)),v("div",We,[v("div",Ye,[t[4]||(t[4]=v("label",{for:"userName",class:"form-label"},[v("span",{class:"label-icon"},"ğŸ“œ"),C("æ³•å ")],-1)),S(v("input",{type:"text",id:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),placeholder:"è¯·è¾“å…¥æ‚¨çš„å§“å",class:"themed-input"},null,512),[[D,u.value]])]),v("div",Ge,[t[8]||(t[8]=v("label",{for:"birthdate",class:"form-label"},[v("span",{class:"label-icon"},"ğŸ“…"),C("é™ä¸–ä¹‹æ—¥ ")],-1)),v("div",Ze,[v("div",Qe,[S(v("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),class:"date-select year-select themed-select",onChange:E},[t[5]||(t[5]=v("option",{value:"",disabled:"",selected:""},"å¹´",-1)),(n(!0),l(s,null,o(_(I),(e=>(n(),l("option",{key:`year-${e}`,value:e},y(e),9,Xe)))),128))],544),[[$,f.value]])]),v("div",et,[S(v("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>b.value=e),class:"date-select month-select themed-select",onChange:E},[t[6]||(t[6]=v("option",{value:"",disabled:"",selected:""},"æœˆ",-1)),(n(!0),l(s,null,o(_(F),(e=>(n(),l("option",{key:`month-${e}`,value:e},y(e),9,tt)))),128))],544),[[$,b.value]])]),v("div",at,[S(v("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>k.value=e),class:"date-select day-select themed-select",onChange:E},[t[7]||(t[7]=v("option",{value:"",disabled:"",selected:""},"æ—¥",-1)),(n(!0),l(s,null,o(x(f.value,b.value),(e=>(n(),l("option",{key:`day-${e}`,value:e},y(e),9,lt)))),128))],544),[[$,k.value]])])])]),v("div",nt,[t[9]||(t[9]=v("label",{class:"form-label"},[v("span",{class:"label-icon"},"âœ¨"),C("æ˜Ÿå‘½ ")],-1)),v("div",st,[v("span",ot,y(A.value),1),"æœªçŸ¥"!==A.value?(n(),l("div",{key:0,class:"zodiac-icon-display","data-icon":(a=A.value,{"ç™½ç¾Šåº§":"â™ˆ","é‡‘ç‰›åº§":"â™‰","åŒå­åº§":"â™Š","å·¨èŸ¹åº§":"â™‹","ç‹®å­åº§":"â™Œ","å¤„å¥³åº§":"â™","å¤©ç§¤åº§":"â™","å¤©èåº§":"â™","å°„æ‰‹åº§":"â™","æ‘©ç¾¯åº§":"â™‘","æ°´ç“¶åº§":"â™’","åŒé±¼åº§":"â™“"}[a]||"â–")},null,8,it)):h("",!0)])]),v("div",rt,[t[11]||(t[11]=v("label",{class:"form-label"},[v("span",{class:"label-icon"},"ğŸ’–"),C("ä»Šæ—¥ç¼˜æ•° ")],-1)),v("div",ct,[v("div",ut,y(p.value),1),v("button",{class:"themed-button refresh-button",onClick:L},t[10]||(t[10]=[v("span",{class:"btn-icon"},"ğŸ”„",-1),C("æ›´æ–° ")]))])]),v("div",dt,[t[12]||(t[12]=v("label",{class:"form-label"},[v("span",{class:"label-icon"},"ğŸ§§"),C("æœ¬æœˆç­¾è¿ ")],-1)),v("div",vt,y(z.value),1)])]),v("div",{class:"profile-actions"},[v("button",{class:"themed-button save-button",onClick:H},t[13]||(t[13]=[v("span",{class:"btn-icon"},"ğŸ’¾",-1),C("ä¿å­˜ ")])),v("button",{class:"themed-button clear-button",onClick:B},t[14]||(t[14]=[v("span",{class:"btn-icon"},"ğŸ§¹",-1),C("æ¸…é™¤ ")]))]),m.value?(n(),l("div",pt,t[15]||(t[15]=[v("div",{class:"confirmation-icon"},"ğŸŒ¸",-1),v("div",{class:"confirmation-inner"},"ç¼˜ä¿¡å·²å½•ï¼Œä½³æœŸå¯å¾…",-1)]))):h("",!0)]),t[18]||(t[18]=v("div",{class:"scroll-ends left-end"},null,-1)),t[19]||(t[19]=v("div",{class:"scroll-ends right-end"},null,-1))])]),t[21]||(t[21]=v("div",{class:"scroll-handle bottom-handle"},[v("div",{class:"handle-deco"})],-1))],2);var a}}}),[["__scopeId","data-v-250bc40a"]]),ft={class:"tutorial-body"},ht={class:"tutorial-step"},yt={class:"step-number"},gt={class:"step-content"},bt=["innerHTML"],kt={key:1,class:"step-tip"},wt={class:"tutorial-nav"},Ct=["disabled"],_t={class:"step-dots"},Mt=["onClick"],St=O({__name:"CookieTutorial",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(a,{expose:i,emit:c}){const u=a,d=c,p=e(0),m=e(!1);e(!1);const f=[{title:"ç¼˜ç»“è‰¯ç¼˜ - å¯»æ‰¾ä½ çš„å‘½å®šå§»ç¼˜",description:'æ¬¢è¿æ¥åˆ°<span class="highlight">ç¼˜ç»“è‰¯ç¼˜</span>ï¼è¿™æ˜¯ä¸€æ¬¾å……æ»¡ä¸œæ–¹éŸµå‘³çš„çˆ±æƒ…å åœåº”ç”¨ã€‚åœ¨è¿™é‡Œï¼Œç¼˜ç»“ç¥å°†ä¸ºä½ æŒ‡å¼•å‰æ–¹çš„ç¼˜åˆ†ä¹‹è·¯ã€‚è®©æˆ‘ä»¬å¼€å§‹ä¸€æ®µå¥‡å¦™çš„å åœä¹‹æ—…å§ï¼',tip:"æ¯æ¬¡å åœéƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œå½“ä½ çš„å åœæ¬¡æ•°å¢åŠ ï¼Œå°†ä¼šè§£é”æ›´é«˜çº§çš„ç­¾æ–‡ã€‚"},{title:"é€‰æ‹©ç­¾æ–‡ç±»å‹",description:'æ‚¨å¯ä»¥ä»å¤šç§ç­¾æ–‡ç±»å‹ä¸­è¿›è¡Œé€‰æ‹©ï¼ŒåŒ…æ‹¬<span class="highlight">çˆ±æƒ…ç¼˜åˆ†ã€å‰ä¸–å§»ç¼˜ã€åŒäººåˆå¦ã€æ˜Ÿåº§é…å¯¹</span>ç­‰ã€‚æ¯ç§ç±»å‹éƒ½æœ‰å…¶ç‹¬ç‰¹çš„è§£è¯»æ–¹å¼ï¼Œæ»¡è¶³æ‚¨ä¸åŒçš„å åœéœ€æ±‚ã€‚',tip:"ä¸åŒç±»å‹çš„ç­¾æ–‡ä¼šç»™æ‚¨æä¾›ä¸åŒè§’åº¦çš„ç¼˜åˆ†è§£è¯»ï¼Œå»ºè®®æ‚¨éƒ½å°è¯•ä¸€ä¸‹ã€‚"},{title:"æ‘‡é“ƒæ±‚ç­¾",description:'ç‚¹å‡»ä¸­å¤®çš„<span class="highlight">é“ƒé“›</span>æˆ–ä½¿ç”¨å³ä¸‹è§’çš„å¿«æ·æŒ‰é’®ï¼Œå³å¯å¼€å§‹æŠ½ç­¾ã€‚æ‘‡é“ƒçš„è¿‡ç¨‹ä¸­ä¼´éšç€æ¸…è„†çš„é£é“ƒå£°ï¼Œå¯“æ„ç€å”¤é†’æ²‰ç¡çš„ç¼˜åˆ†ã€‚',tip:"é“ƒé“›çš„æ‘‡åŠ¨éœ€è¦ä¸€å®šçš„è¯šæ„ï¼Œåœ¨æŠ½ç­¾å‰å¯ä»¥é»˜é»˜è®¸ä¸‹å¿ƒæ„¿ï¼Œå¢åŠ çµéªŒåº¦ã€‚"},{title:"æŸ¥çœ‹ç­¾æ–‡ç»“æœ",description:'æ¯ä¸€ç­¾éƒ½åŒ…å«<span class="highlight">è¯—è¯ã€è§£è¯»å’Œå»ºè®®</span>ä¸‰ä¸ªéƒ¨åˆ†ã€‚è¯—è¯è•´å«ç„æœºï¼Œè§£è¯»é˜æ˜å«ä¹‰ï¼Œå»ºè®®åˆ™ä¸ºæ‚¨çš„è¡ŒåŠ¨æä¾›æŒ‡å¼•ã€‚ä»”ç»†é˜…è¯»ï¼Œæ„Ÿå—ç¼˜ç»“ç¥ä¸ºæ‚¨æŒ‡å¼•çš„æ–¹å‘ã€‚',tip:"æ¯ä¸ªç­¾æ–‡éƒ½æœ‰è‡ªå·±çš„é¢œè‰²ï¼Œä»£è¡¨ç€ä¸åŒçš„è¿åŠ¿å¼ºåº¦ã€‚ç­¾æ–‡çš„å«ä¹‰éœ€è¦ç»“åˆè‡ªèº«æƒ…å†µç†è§£ã€‚"},{title:"ä¸ªäººèµ„æ–™è®¾ç½®",description:'ç‚¹å‡»å³ä¸‹è§’çš„<span class="highlight">ä¸ªäººå¤´åƒæŒ‰é’®</span>ï¼Œå¯ä»¥è®¾ç½®æ‚¨çš„å§“åã€ç”Ÿæ—¥ç­‰ä¿¡æ¯ã€‚ç³»ç»Ÿä¼šæ ¹æ®æ‚¨çš„ç”Ÿæ—¥è®¡ç®—æ˜Ÿåº§ï¼Œå¹¶ç”Ÿæˆä¸æ‚¨ç›¸å…³çš„å¹¸è¿æ•°å­—ã€‚',tip:"å®Œå–„ä¸ªäººèµ„æ–™åï¼Œç³»ç»Ÿèƒ½æä¾›æ›´åŠ ä¸ªæ€§åŒ–çš„å åœç»“æœï¼Œç‰¹åˆ«æ˜¯åœ¨å§“åè§£æå’Œæ˜Ÿåº§é…å¯¹ä¸­ã€‚"},{title:"æŸ¥çœ‹å†å²è®°å½•",description:'ç‚¹å‡»å³ä¸‹è§’çš„<span class="highlight">å†å²è®°å½•æŒ‰é’®</span>ï¼Œå¯ä»¥æŸ¥çœ‹æ‚¨ä¹‹å‰çš„æ‰€æœ‰å åœç»“æœã€‚å†å²è®°å½•ä¼šæŒ‰æ—¶é—´æ’åºï¼Œæ–¹ä¾¿æ‚¨å›é¡¾å’Œå¯¹æ¯”ä¸åŒæ—¶æœŸçš„è¿åŠ¿å˜åŒ–ã€‚',tip:"å®šæœŸæŸ¥çœ‹å†å²è®°å½•ï¼Œå¯ä»¥å¸®åŠ©æ‚¨å‘ç°ç¼˜åˆ†çš„è§„å¾‹å’Œå˜åŒ–è¶‹åŠ¿ï¼ŒæŒ‡å¯¼æ‚¨æŠŠæ¡æ—¶æœºã€‚"},{title:"å¼€å§‹ä½ çš„ç¼˜åˆ†ä¹‹æ—…",description:'ç°åœ¨ï¼Œæ‚¨å·²ç»äº†è§£äº†<span class="highlight">ç¼˜ç»“è‰¯ç¼˜</span>çš„åŸºæœ¬åŠŸèƒ½ã€‚è¯·è®°ä½ï¼Œå åœåªæ˜¯ä¸ºæ‚¨æä¾›å‚è€ƒå’Œå¯å‘ï¼ŒçœŸæ­£çš„ç¼˜åˆ†éœ€è¦æ‚¨ç”¨å¿ƒç»è¥å’ŒæŠŠæ¡ã€‚ç¥æ‚¨æ—©æ—¥å¯»å¾—è‰¯ç¼˜ï¼',tip:"æœ¬åº”ç”¨çº¯å±å¨±ä¹ï¼Œè¯·ç†æ€§çœ‹å¾…å åœç»“æœã€‚æœ€é‡è¦çš„æ˜¯ä¿æŒç§¯æå¿ƒæ€ï¼Œå‹‡æ•¢è¿½å¯»è‡ªå·±çš„å¹¸ç¦ï¼"}],b=g((()=>f[p.value]||null)),k=()=>{p.value<f.length-1&&p.value++},_=()=>{p.value>0&&p.value--},S=e=>{p.value=e};w((()=>u.isVisible),(e=>{e&&(p.value=0)}),{immediate:!0});const D=()=>{localStorage.setItem("hasSeenTutorial","true"),m.value=!0,d("close")},$=e=>{e.target.classList.contains("tutorial-overlay")&&D()};return t((()=>{m.value="true"===localStorage.getItem("hasSeenTutorial"),p.value=0})),i({hasSeenTutorial:m,nextStep:k,prevStep:_,goToStep:S}),(e,t)=>a.isVisible?(n(),l("div",{key:0,class:"tutorial-overlay",onClick:$},[v("div",{class:"tutorial-content",onClick:t[0]||(t[0]=M((()=>{}),["stop"]))},[v("div",{class:"tutorial-header"},[t[1]||(t[1]=v("h2",null,"æ¬¢è¿ä½¿ç”¨ç¼˜ç»“è‰¯ç¼˜",-1)),v("button",{class:"close-button",onClick:D},"Ã—")]),v("div",ft,[v("div",ht,[v("div",yt,y(p.value+1)+"/"+y(f.length),1),v("div",gt,[v("h3",null,y(b.value?b.value.title:""),1),b.value?(n(),l("p",{key:0,innerHTML:b.value.description},null,8,bt)):h("",!0),b.value&&b.value.tip?(n(),l("p",kt,[t[2]||(t[2]=v("strong",null,"å°è´´å£«ï¼š",-1)),C(y(b.value.tip),1)])):h("",!0)])]),v("div",wt,[v("button",{class:"nav-button prev",onClick:_,disabled:0===p.value,type:"button"},"ä¸Šä¸€æ­¥",8,Ct),v("div",_t,[(n(),l(s,null,o(f,((e,t)=>v("span",{key:"dot-"+t,class:r(["dot",{active:p.value===t}]),onClick:e=>S(t)},null,10,Mt))),64))]),p.value<f.length-1?(n(),l("button",{key:0,class:"nav-button next",onClick:k,type:"button"},"ä¸‹ä¸€æ­¥")):(n(),l("button",{key:1,class:"nav-button finish",onClick:D,type:"button"},"å¼€å§‹ä½“éªŒ"))])])])])):h("",!0)}},[["__scopeId","data-v-0f8f97f3"]]),Dt={key:0,class:"sound-missing-hint"},$t=O({__name:"SoundMissingHint",props:{isVisible:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=t,s=()=>{localStorage.setItem("soundHintDismissed","true"),a("close")};return(t,a)=>e.isVisible?(n(),l("div",Dt,[v("div",{class:"hint-content"},[a[0]||(a[0]=v("div",{class:"hint-icon"},"ğŸ”Š",-1)),a[1]||(a[1]=v("div",{class:"hint-message"},[v("p",null,"æ‰¾ä¸åˆ°é£é“ƒéŸ³æ•ˆæ–‡ä»¶"),v("p",{class:"hint-detail"},[C("è¯·åœ¨ "),v("code",null,"public/sounds"),C(" ç›®å½•ä¸‹æ·»åŠ  "),v("code",null,"wind-chime.mp3"),C(" æ–‡ä»¶")])],-1)),v("button",{class:"close-button",onClick:s},"Ã—")])])):h("",!0)}},[["__scopeId","data-v-1c47a828"]]),It={1:{name:"åˆçº§ç­¾æ–‡",description:"å…¥é—¨ç¼˜åˆ†æµ‹è¯•",requiredDraws:0},2:{name:"ä¸­çº§ç­¾æ–‡",description:"æ›´æ·±å±‚æ¬¡çš„ç¼˜åˆ†æŒ‡å¼•",requiredDraws:10},3:{name:"é«˜çº§ç­¾æ–‡",description:"æ­ç¤ºéšè—çš„ç¼˜åˆ†å¯†ç ",requiredDraws:30},4:{name:"ç¥çº§ç­¾æ–‡",description:"æœ€ç²¾å‡†çš„ç¼˜åˆ†å¤©æœº",requiredDraws:50}},Ft=I("user",(()=>{const t=e(H("username","")),a=e(H("fortuneCount",0)),l=e(H("visitCount",0)),n=e(H("lastVisit","")),s=e(H("preferences",{theme:"light",soundEnabled:!0,showHistory:!0})),o=g((()=>(e=>{let t=1;for(let a=4;a>0;a--)if(e>=It[a].requiredDraws){t=a;break}return t})(a.value)));return{username:t,fortuneCount:a,visitCount:l,lastVisit:n,preferences:s,userLevel:o,setUsername:function(e){t.value=e,B("username",e)},incrementFortuneCount:function(){a.value++,B("fortuneCount",a.value)},recordVisit:function(){l.value++,n.value=(new Date).toISOString(),B("visitCount",l.value),B("lastVisit",n.value)},updatePreferences:function(e){s.value={...s.value,...e},B("preferences",s.value)},resetUserData:function(){t.value="",a.value=0,B("username",""),B("fortuneCount",0)}}})),xt={class:"date-display"},Et={id:"app-container"},Tt={class:"main-content"},At=T(O({__name:"App",setup(s){const o=E((()=>j((()=>import("./NameFortune-Dd6nqgVU.js")),__vite__mapDeps([0,1,2,3,4,5])))),i=E((()=>j((()=>import("./CoupleFortuneDrawing-CKWjRnu4.js")),__vite__mapDeps([6,1,2,3,4,7])))),c=E((()=>j((()=>import("./ZodiacCompatibility-BK-edROU.js")),__vite__mapDeps([8,2,1,3,4,9])))),u=E((()=>j((()=>import("./DestinyBall-CbW_smAK.js")),__vite__mapDeps([10,1,3,2,4,11])))),d=P(),m=Ft(),f=e(null),b=e(null),k=e(null),C=g((()=>{const e=new Date;return`${e.getFullYear()}å¹´${(e.getMonth()+1).toString().padStart(2,"0")}æœˆ${e.getDate().toString().padStart(2,"0")}æ—¥`})),M=e(!1),S=e("çˆ±æƒ…ç¼˜åˆ†"),D=e(!1),$=e(!1),{preload:I}=V(),T=()=>{M.value||(M.value=!0,W(),setTimeout((()=>{d.drawFortune(S.value)}),2500),setTimeout((()=>{M.value=!1}),6e3))},A=()=>{d.resetFortune(),setTimeout((()=>{T()}),300)};t((()=>{for(let e=0;e<localStorage.length;e++){localStorage.key(e)}"true"===localStorage.getItem("hasSeenTutorial")||setTimeout((()=>{$.value=!0}),1500),m.recordVisit(),z(),window.addEventListener("keydown",L)})),a((()=>{window.removeEventListener("keydown",L)}));const L=e=>{e.shiftKey&&"T"===e.key&&H(),e.shiftKey&&"R"===e.key&&X()},z=async()=>{try{await I(["sounds/wind-chime.mp3","sounds/bells.mp3","sounds/reveal.mp3"])}catch(e){D.value=!0}},H=()=>{$.value=!0},B=()=>{"true"===localStorage.getItem("soundHintDismissed")||(D.value=!0)},N=()=>{D.value=!1},O=()=>{$.value=!1,localStorage.setItem("hasSeenTutorial","true")},q=e=>{S.value=e,d.setCategory(e),d.resetFortune()},K=()=>{M.value=!0},J=()=>{M.value=!1};w((()=>d.selectedFortune),(e=>{e&&b.value&&setTimeout((()=>{b.value.addCurrentFortuneToHistory()}),1e3)}));const W=()=>{M.value||(M.value=!0,setTimeout((()=>{M.value=!1}),2e3))},Y=()=>{k.value?k.value.drawFortune():T()},G=()=>{b.value&&b.value.toggleHistory()},Q=()=>{f.value&&f.value.toggleProfile()},X=()=>{confirm("ç¡®å®šè¦é‡ç½®æ•™ç¨‹çŠ¶æ€å—ï¼Ÿè¿™å°†åœ¨ä¸‹æ¬¡åˆ·æ–°é¡µé¢æ—¶å†æ¬¡æ˜¾ç¤ºæ–°æ‰‹æ•™ç¨‹ã€‚")&&(localStorage.removeItem("hasSeenTutorial"),$.value=!0)};return(e,t)=>(n(),l("div",{id:"app-outer-container",class:r({animating:M.value})},[p(R),p(U),v("div",xt,y(C.value),1),p(ze,{ref_key:"historyRef",ref:b},null,512),p(mt,{ref_key:"profileRef",ref:f},null,512),v("div",Et,[p(Z),v("main",Tt,[p(Re,{"selected-category":S.value,onCategoryChange:q},null,8,["selected-category"]),"name"===_(d).currentCategory?(n(),F(_(o),{key:0})):"couple"===_(d).currentCategory?(n(),F(_(i),{key:1})):"zodiac"===_(d).currentCategory?(n(),F(_(c),{key:2})):"destiny_ball"===_(d).currentCategory?(n(),F(_(u),{key:3})):(n(),F(ee,{key:4,category:S.value,disabled:M.value,onClick:T,onAnimationStart:K,onAnimationEnd:J,onSoundError:B,ref_key:"fortuneButtonRef",ref:k},null,8,["category","disabled"])),_(d).selectedFortune?(n(),F(ge,{key:5,fortune:_(d).selectedFortune,typeColor:_(d).fortuneTypeColor,onDrawAgain:A},null,8,["fortune","typeColor"])):h("",!0)]),p(Ce)]),(n(),F(x,{to:"body"},[v("div",{class:"function-buttons"},[v("div",{class:"function-button fortune-draw",onClick:Y,title:"æ±‚ç­¾"},t[0]||(t[0]=[v("span",{class:"button-icon"},"ğŸ”®",-1)])),v("div",{class:"function-button history-quick",onClick:G,title:"å†å²è®°å½•"},t[1]||(t[1]=[v("span",{class:"button-icon"},"ğŸ“œ",-1)])),v("div",{class:"function-button profile-quick",onClick:Q,title:"ä¸ªäººä¿¡æ¯"},t[2]||(t[2]=[v("span",{class:"button-icon"},"ğŸ€",-1)])),v("div",{class:"function-button tutorial-quick",onClick:H,title:"æŸ¥çœ‹æ•™ç¨‹"},t[3]||(t[3]=[v("span",{class:"button-icon"},"ğŸ“–",-1)]))])])),p($t,{"is-visible":D.value,onClose:N},null,8,["is-visible"]),p(St,{"is-visible":$.value,onClose:O},null,8,["is-visible"])],2))}},[["__scopeId","data-v-5ed9bca3"]]));At.use(A()),At.mount("#app");export{O as _};
