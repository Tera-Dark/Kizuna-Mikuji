import{r as e,i as t,b as a,e as l,m as s,j as n,u as o,y as i,z as u,A as c,F as r,f as d,t as v,v as p,n as m}from"./vendor-BdasZo-s.js";import{u as h}from"./fortune-data-CSgtve2-.js";import{_ as b}from"./index-Cpns8shK.js";import"./utils-tmAjFC_f.js";import"./composables-CKSE-Hpx.js";const g={class:"couple-fortune-container themed-container"},y={key:0,class:"couple-intro decorative-section"},f={key:1,class:"partner-input themed-section-box"},$={class:"couple-form-grid"},k={class:"form-section user-section"},C={class:"input-group themed-input-group"},D={class:"input-group themed-input-group"},w={class:"date-select-container themed-date-select"},S=["value"],A=["value"],U=["value"],V={class:"form-section partner-section"},j={class:"input-group themed-input-group"},_={class:"input-group themed-input-group"},x={class:"date-select-container themed-date-select"},N=["value"],T=["value"],F=["value"],M={key:2,class:"couple-result"},z={class:"compatibility-meter"},H={class:"meter-value"},I={class:"meter-bar"},L={class:"result-content"},Y={class:"result-description"},q={class:"result-advice"},B=b({__name:"CoupleFortuneDrawing",setup(b){const B=h(),E=e(""),G=e(""),J=e(""),K=e(""),O=e(!1),P=t({compatibility:0,title:"",description:"",advice:""}),Q=e(""),R=e(""),W=e(""),X=e(""),Z=e(""),ee=e(""),te=(new Date).getFullYear(),ae=Array.from({length:te-1949},((e,t)=>te-t)),le=Array.from({length:12},((e,t)=>t+1)),se=(e,t)=>{if(!e||!t)return Array.from({length:31},((e,t)=>t+1));const a=new Date(e,t,0).getDate();return Array.from({length:a},((e,t)=>t+1))},ne=()=>{Q.value&&R.value&&W.value&&(G.value=`${Q.value}-${R.value.toString().padStart(2,"0")}-${W.value.toString().padStart(2,"0")}`),X.value&&Z.value&&ee.value&&(K.value=`${X.value}-${Z.value.toString().padStart(2,"0")}-${ee.value.toString().padStart(2,"0")}`)},oe=()=>{O.value=!O.value,O.value||(P.title="")},ie=()=>{if(!(E.value&&G.value&&J.value&&K.value))return void alert("è¯·å®Œæ•´å¡«å†™åŒæ–¹ä¿¡æ¯");const e=(()=>{if(!(E.value&&G.value&&J.value&&K.value))return 0;const e=new Date(G.value),t=new Date(K.value),a=(e.getDate()+e.getMonth()+1)*(t.getDate()+t.getMonth()+1)%40+60,l=(E.value.length+J.value.length)%5;return Math.min(99,a+l)})();P.compatibility=e,e>=90?(P.title="å¤©ä½œä¹‹åˆ",P.description="ä½ ä»¬æ˜¯å¤©ç”Ÿä¸€å¯¹ï¼Œç¼˜åˆ†æ·±åšï¼Œå¿ƒæœ‰çµçŠ€ã€‚å½¼æ­¤ç†è§£ä¸åŒ…å®¹ï¼Œèƒ½å¤Ÿå…±åŒæˆé•¿ã€‚",P.advice="çæƒœè¿™æ®µéš¾å¾—çš„ç¼˜åˆ†ï¼Œç›¸äº’æ‰¶æŒï¼Œå…±åˆ›ç¾å¥½æœªæ¥ã€‚"):e>=80?(P.title="è‰¯ç¼˜ä½³å¶",P.description="ä½ ä»¬çš„ç¼˜åˆ†æ·±åšï¼Œæ€§æ ¼äº’è¡¥ï¼Œåœ¨ä¸€èµ·èƒ½æ¿€å‘å½¼æ­¤çš„æœ€ä½³çŠ¶æ€ã€‚",P.advice="åœ¨ç”Ÿæ´»çš„ç‚¹æ»´ä¸­å¢è¿›äº†è§£ï¼Œç”¨å¿ƒç»è¥è¿™æ®µæ„Ÿæƒ…ã€‚"):e>=70?(P.title="ç›¸æ¿¡ä»¥æ²«",P.description="ä½ ä»¬çš„å…³ç³»éœ€è¦ç”¨å¿ƒç»è¥ï¼Œä½†åªè¦å…±åŒåŠªåŠ›ï¼Œå®šèƒ½èµ°å¾—é•¿è¿œã€‚",P.advice="å¤šæ²Ÿé€šã€å¤šç†è§£ï¼Œå­¦ä¼šæ¬£èµå½¼æ­¤çš„ä¸åŒã€‚"):(P.title="ç¼˜åˆ†è€ƒéªŒ",P.description="ä½ ä»¬ä¹‹é—´å­˜åœ¨ä¸å°‘æŒ‘æˆ˜ï¼Œéœ€è¦æ›´å¤šçš„åŒ…å®¹ä¸å¦¥åã€‚",P.advice="å­¦ä¼šæ¢ä½æ€è€ƒï¼Œå°Šé‡å¯¹æ–¹çš„ä¸åŒï¼Œæˆ–è®¸èƒ½å‘ç°æ„æƒ³ä¸åˆ°çš„å¥‘åˆç‚¹ã€‚"),B.saveToHistory({type:"åŒäººåˆå¦",date:(new Date).toLocaleDateString(),result:`${P.title} (${P.compatibility}åˆ†)`,user:E.value,partner:J.value})};return(e,t)=>(l(),a("div",g,[O.value?s("",!0):(l(),a("div",y,[t[9]||(t[9]=n("h3",{class:"main-title"},[n("span",{class:"deco-icon left"},"ğŸ’"),o(" åŒäººå§»ç¼˜åˆå¦ "),n("span",{class:"deco-icon right"},"ğŸ’")],-1)),t[10]||(t[10]=n("p",{class:"intro-text"},[o("æ‰§å­ä¹‹æ‰‹ï¼Œä¸å­å•è€ã€‚åœ¨æ­¤è¯šé‚€ä¸¤ä½å°ä¸»ï¼Œ"),n("br"),o("ä¸€åŒåœç®—å¿ƒå¿ƒç›¸å°çš„ç¼˜åˆ†æŒ‡æ•°ï¼Œ"),n("br"),o("æ¢å¯»é‚£ä»½ä¸“å±æ–¼ä½ ä»¬çš„æµªæ¼«ç¯‡ç« ã€‚")],-1)),n("button",{class:"start-couple-btn themed-button primary-button",onClick:oe},t[8]||(t[8]=[n("span",{class:"btn-icon"},"ğŸ’Œ",-1),o(" å¯æ­¤è‰¯ç¼˜åˆå¦ ")]))])),O.value&&!P.title?(l(),a("div",f,[t[25]||(t[25]=n("h3",{class:"section-title"},[n("span",{class:"deco-icon left"},"â¦"),o(" è¯·å…¥åŒæ–¹ç»“ç¼˜ä¿¡æ¯ "),n("span",{class:"deco-icon right"},"â¦")],-1)),n("div",$,[n("div",k,[t[16]||(t[16]=n("h4",{class:"form-section-title"},"ç¼˜ä¸»Â·å…¶ä¸€",-1)),n("div",C,[t[11]||(t[11]=n("label",{for:"userName"},"èŠ³åï¼š",-1)),i(n("input",{id:"userName","onUpdate:modelValue":t[0]||(t[0]=e=>E.value=e),placeholder:"è½»å¯ç‰æŒ‡ï¼Œè¾“å…¥èŠ³å",class:"themed-input"},null,512),[[u,E.value]])]),n("div",D,[t[15]||(t[15]=n("label",null,"ç”Ÿè¾°ï¼š",-1)),n("div",w,[i(n("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Q.value=e),class:"date-select year-select themed-select",onChange:ne},[t[12]||(t[12]=n("option",{value:"",disabled:"",selected:""},"å¹´",-1)),(l(!0),a(r,null,d(p(ae),(e=>(l(),a("option",{key:`user-year-${e}`,value:e},v(e),9,S)))),128))],544),[[c,Q.value]]),i(n("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>R.value=e),class:"date-select month-select themed-select",onChange:ne},[t[13]||(t[13]=n("option",{value:"",disabled:"",selected:""},"æœˆ",-1)),(l(!0),a(r,null,d(p(le),(e=>(l(),a("option",{key:`user-month-${e}`,value:e},v(e),9,A)))),128))],544),[[c,R.value]]),i(n("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>W.value=e),class:"date-select day-select themed-select",onChange:ne},[t[14]||(t[14]=n("option",{value:"",disabled:"",selected:""},"æ—¥",-1)),(l(!0),a(r,null,d(se(Q.value,R.value),(e=>(l(),a("option",{key:`user-day-${e}`,value:e},v(e),9,U)))),128))],544),[[c,W.value]])])])]),t[23]||(t[23]=n("div",{class:"input-separator-vertical"},null,-1)),n("div",V,[t[22]||(t[22]=n("h4",{class:"form-section-title"},"ç¼˜ä¸»Â·å…¶äºŒ",-1)),n("div",j,[t[17]||(t[17]=n("label",{for:"partnerName"},"TAä¹‹åï¼š",-1)),i(n("input",{id:"partnerName","onUpdate:modelValue":t[4]||(t[4]=e=>J.value=e),placeholder:"è½»å¯ç‰æŒ‡ï¼Œè¾“å…¥TAå",class:"themed-input"},null,512),[[u,J.value]])]),n("div",_,[t[21]||(t[21]=n("label",null,"TAç”Ÿè¾°ï¼š",-1)),n("div",x,[i(n("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>X.value=e),class:"date-select year-select themed-select",onChange:ne},[t[18]||(t[18]=n("option",{value:"",disabled:"",selected:""},"å¹´",-1)),(l(!0),a(r,null,d(p(ae),(e=>(l(),a("option",{key:`partner-year-${e}`,value:e},v(e),9,N)))),128))],544),[[c,X.value]]),i(n("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>Z.value=e),class:"date-select month-select themed-select",onChange:ne},[t[19]||(t[19]=n("option",{value:"",disabled:"",selected:""},"æœˆ",-1)),(l(!0),a(r,null,d(p(le),(e=>(l(),a("option",{key:`partner-month-${e}`,value:e},v(e),9,T)))),128))],544),[[c,Z.value]]),i(n("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>ee.value=e),class:"date-select day-select themed-select",onChange:ne},[t[20]||(t[20]=n("option",{value:"",disabled:"",selected:""},"æ—¥",-1)),(l(!0),a(r,null,d(se(X.value,Z.value),(e=>(l(),a("option",{key:`partner-day-${e}`,value:e},v(e),9,F)))),128))],544),[[c,ee.value]])])])])]),n("div",{class:"couple-buttons button-row"},[n("button",{class:"cancel-btn themed-button secondary-button",onClick:oe},"è¿”å›"),n("button",{class:"draw-btn themed-button primary-button",onClick:ie},t[24]||(t[24]=[n("span",{class:"btn-icon"},"ğŸ’–",-1),o(" åˆæ­¤è‰¯ç¼˜å¤©å®š ")]))])])):s("",!0),P.title?(l(),a("div",M,[n("div",z,[t[26]||(t[26]=n("div",{class:"meter-title"},"ç¼˜åˆ†æŒ‡æ•°",-1)),n("div",H,v(P.compatibility)+"%",1),n("div",I,[n("div",{class:"meter-fill",style:m({width:P.compatibility+"%"})},null,4)])]),n("div",L,[n("h3",null,v(P.title),1),n("p",Y,v(P.description),1),n("p",q,"ã€ç¼˜åˆ†å»ºè®®ã€‘"+v(P.advice),1)]),n("button",{class:"try-again-btn themed-button secondary-button",onClick:oe},"é‡æ–°æµ‹ç®—")])):s("",!0)]))}},[["__scopeId","data-v-d5a8c200"]]);export{B as default};
