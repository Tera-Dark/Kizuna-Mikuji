import{a,s as l,p as e}from"./utils-tmAjFC_f.js";import{r as u}from"./vendor-BdasZo-s.js";function r(){const r=u(!1),n=u(!1),t=u(null),s=()=>{t.value&&(l(t.value),r.value=!1,t.value=null)},o=a=>{n.value=!0,r.value=!1,t.value=null};return{isPlaying:r,hasError:n,currentAudio:t,play:async(a,l=.7)=>{s(),n.value=!1,r.value=!0;try{const u=await e(a,l,o);return t.value=u,u.addEventListener("ended",(()=>{r.value=!1,t.value=null}),{once:!0}),u}catch(u){return o(u),null}},stop:s,preload:async l=>{try{await a(l)}catch(e){}}}}export{r as u};
