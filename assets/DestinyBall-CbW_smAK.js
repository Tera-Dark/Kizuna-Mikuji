import{r as a,o as e,b as t,e as s,p as l,m as i,j as o,y as n,z as d,q as c,t as u,F as v,f as r,n as m,g as p,u as h}from"./vendor-BdasZo-s.js";import{_ as y}from"./index-Cpns8shK.js";import"./utils-tmAjFC_f.js";import"./fortune-data-CSgtve2-.js";import"./composables-CKSE-Hpx.js";const b={class:"destiny-ball-container themed-container"},k={key:0,class:"question-input-area themed-input-section"},g={class:"question-counter themed-text-minor"},x={class:"omamori-pouch"},f={key:0,class:"answer-scroll-container"},w={class:"answer-scroll"},q={class:"answer-scroll-content"},j={key:0,class:"mystic-particle-effects"},M={key:1,class:"instruction-text themed-text-gentle"},S={key:2,class:"result-display themed-section-box"},C={key:0,class:"question-display"},_={class:"question-text themed-text-content"},z={class:"answer-display"},B={class:"answer-text-display themed-text-lead"},I={key:3,class:"history-section themed-section-box"},D={class:"history-list"},H={key:0,class:"history-question themed-text-minor"},K={class:"history-answer themed-text-content"},N={class:"history-date themed-text-minor"},A=y({__name:"DestinyBall",setup(y){const A=a(!1),J=a(!1),O=a(""),F=a(""),L=a([]),T=a(!1),U=["緣","結","愛","囍","福","愿","心","恋"," मिलाप","赤い糸"],V=["缘分已近，静待花开","心有灵犀一点通","有缘千里来相会","今日良缘，不要错过","顺其自然，水到渠成","真爱就在不远处","耐心等待，时机未到","学会珍惜眼前人","爱情就在转角处","相遇在即，请保持微笑","缘深缘浅，由天注定","相信直觉，跟随心声","机会稍纵即逝，把握当下","时机已到，大胆表白","退一步海阔天空","坚守本心，静待花开","爱情需要主动出击","别犹豫，行动吧","心意相通，不言自明","珍惜当下，莫负好时光","一见钟情，命中注定","前路曲折，终有回报","桃花运旺，机不可失","对的人终会出现","赢得爱情需要勇气","水到渠成，顺其自然","真情比时间更重要","命中注定，无需强求","情投意合，不负有心人","对的时间遇见对的人","天意如此，不必强求，顺应自然","两心相知，无需言说，珍惜当下","红线已系，缘分将至，保持期待","暂时失意，莫要气馁，春风将至","千金易得，知己难求，且行且珍惜","三生有幸，不负此缘，勇敢相守","前路虽艰，但有真心，终见光明","缘分使然，切莫错过，把握眼前","此情可待，只争朝夕，满怀希望","万水千山，不忘初心，终将相遇","有心栽花，缘定三生，静候佳音","一期一会，此时此刻，最为珍贵","心若向阳，无惧风霜，爱将绽放","似曾相识，前世情缘，今生再续","随遇而安，顺势而为，美好在即","诚心所致，金石为开，真爱无阻","缘分已至，珍惜有加，不负韶华","命中注定，心生欢喜，无悔此生","良辰美景，佳人有约，勿再踌躇","且听风吟，静候花开，情归何处"],E=()=>{if(A.value||J.value)return void(J.value&&G());A.value=!0,T.value=!0;try{const a=new Audio("/Kizuna-Mikuji/"+"sounds/omamori-shake.mp3");a.volume=.4,a.play().catch((a=>{}))}catch(e){}const a=Math.floor(Math.random()*V.length);O.value=V[a],setTimeout((()=>{A.value=!1,J.value=!0,T.value=!1;try{const a=new Audio("/Kizuna-Mikuji/"+"sounds/scroll-open.mp3");a.volume=.5,a.play().catch((a=>{}))}catch(e){}}),2e3)},G=()=>{J.value=!1,O.value=""},P=()=>{J.value=!1,O.value="",F.value=""},Q=()=>{if(!O.value)return;const a=F.value?F.value.trim():"";L.value.unshift({question:a||"(随心一问)",answer:O.value,date:(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}),L.value.length>10&&(L.value=L.value.slice(0,10)),localStorage.setItem("destinyBallHistory",JSON.stringify(L.value)),F.value="",P()},R=()=>{L.value=[],localStorage.removeItem("destinyBallHistory")};return e((()=>{try{const a=localStorage.getItem("destinyBallHistory");a&&(L.value=JSON.parse(a))}catch(a){}})),(a,e)=>(s(),t("div",b,[e[9]||(e[9]=l('<div class="destiny-ball-title" data-v-8d832522><h3 class="main-title" data-v-8d832522><span class="deco-icon left" data-v-8d832522>❀</span> 缘分球 <span class="deco-icon right" data-v-8d832522>❀</span></h3><p class="subtitle themed-subtitle" data-v-8d832522>摇一摇，探寻爱情的玄妙指引</p></div>',1)),A.value||J.value?i("",!0):(s(),t("div",k,[n(o("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>F.value=a),placeholder:"心有所问？轻语于此（可选）",onKeyup:c(E,["enter"]),maxlength:"50",class:"themed-input"},null,544),[[d,F.value]]),o("div",g,u(F.value.length)+"/50",1)])),o("div",{class:p(["destiny-ball",{shake:A.value,"omamori-open":J.value}]),onClick:E},[o("div",x,[e[1]||(e[1]=l('<div class="omamori-flap" data-v-8d832522></div><div class="omamori-body" data-v-8d832522><div class="omamori-string-knot" data-v-8d832522><div class="knot-loop knot-loop-1" data-v-8d832522></div><div class="knot-loop knot-loop-2" data-v-8d832522></div><div class="knot-center" data-v-8d832522></div></div><div class="omamori-decoration" data-v-8d832522><span data-v-8d832522>縁</span></div></div>',2)),J.value?(s(),t("div",f,[o("div",w,[o("div",q,u(O.value),1)])])):i("",!0)]),T.value&&A.value?(s(),t("div",j,[(s(),t(v,null,r(U,((a,e)=>o("span",{key:e,class:"particle",style:m({left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:.5*Math.random()+"s"})},u(a),5))),64))])):i("",!0)],2),J.value||A.value?i("",!0):(s(),t("div",M,[o("p",null,u(F.value?"轻点御守，静待神谕":"轻点御守，祈缘问情"),1)])),J.value?(s(),t("div",S,[F.value?(s(),t("div",C,[e[2]||(e[2]=o("span",{class:"question-label themed-text-label"},"所问：",-1)),o("span",_,u(F.value),1)])):i("",!0),o("div",z,[e[3]||(e[3]=o("span",{class:"answer-label themed-text-label"},"神谕：",-1)),o("span",B,u(O.value),1)]),o("div",{class:"result-buttons button-row"},[o("button",{onClick:P,class:"themed-button secondary-button"},e[4]||(e[4]=[o("span",{class:"btn-icon"},"↻",-1),h(" 再摇一次 ")])),o("button",{class:"themed-button primary-button save-button",onClick:Q},e[5]||(e[5]=[o("span",{class:"btn-icon"},"📜",-1),h(" 保存神谕 ")]))])])):i("",!0),L.value.length>0&&!J.value&&!A.value?(s(),t("div",I,[o("h4",{class:"history-title section-title"},[e[6]||(e[6]=o("span",{class:"deco-icon left"},"📜",-1)),e[7]||(e[7]=h(" 往昔神谕 ")),e[8]||(e[8]=o("span",{class:"deco-icon right"},"📜",-1)),o("span",{class:"clear-history themed-link",onClick:R},"清空记录")]),o("div",D,[(s(!0),t(v,null,r(L.value,((a,e)=>(s(),t("div",{key:e,class:"history-item themed-history-item"},[a.question&&"(无问题)"!==a.question?(s(),t("div",H,"问："+u(a.question),1)):i("",!0),o("div",K,u(a.answer),1),o("div",N,u(a.date),1)])))),128))])])):i("",!0)]))}},[["__scopeId","data-v-8d832522"]]);export{A as default};
